(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function pl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ah={exports:{}},Lo={};var yE;function AN(){if(yE)return Lo;yE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:t,type:r,key:u,ref:o!==void 0?o:null,props:c}}return Lo.Fragment=e,Lo.jsx=i,Lo.jsxs=i,Lo}var _E;function ON(){return _E||(_E=1,Ah.exports=AN()),Ah.exports}var g=ON(),Oh={exports:{}},pe={};var vE;function kN(){if(vE)return pe;vE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function T(w){return w===null||typeof w!="object"?null:(w=b&&w[b]||w["@@iterator"],typeof w=="function"?w:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,x={};function L(w,z,K){this.props=w,this.context=z,this.refs=x,this.updater=K||N}L.prototype.isReactComponent={},L.prototype.setState=function(w,z){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,z,"setState")},L.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function U(){}U.prototype=L.prototype;function H(w,z,K){this.props=w,this.context=z,this.refs=x,this.updater=K||N}var q=H.prototype=new U;q.constructor=H,O(q,L.prototype),q.isPureReactComponent=!0;var X=Array.isArray;function I(){}var V={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function Ue(w,z,K){var G=K.ref;return{$$typeof:t,type:w,key:z,ref:G!==void 0?G:null,props:K}}function We(w,z){return Ue(w.type,z,w.props)}function rt(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function Be(w){var z={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(K){return z[K]})}var re=/\/+/g;function Ie(w,z){return typeof w=="object"&&w!==null&&w.key!=null?Be(""+w.key):z.toString(36)}function Se(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(I,I):(w.status="pending",w.then(function(z){w.status==="pending"&&(w.status="fulfilled",w.value=z)},function(z){w.status==="pending"&&(w.status="rejected",w.reason=z)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function B(w,z,K,G,se){var ee=typeof w;(ee==="undefined"||ee==="boolean")&&(w=null);var ve=!1;if(w===null)ve=!0;else switch(ee){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(w.$$typeof){case t:case e:ve=!0;break;case _:return ve=w._init,B(ve(w._payload),z,K,G,se)}}if(ve)return se=se(w),ve=G===""?"."+Ie(w,0):G,X(se)?(K="",ve!=null&&(K=ve.replace(re,"$&/")+"/"),B(se,z,K,"",function(qt){return qt})):se!=null&&(rt(se)&&(se=We(se,K+(se.key==null||w&&w.key===se.key?"":(""+se.key).replace(re,"$&/")+"/")+ve)),z.push(se)),1;ve=0;var Xe=G===""?".":G+":";if(X(w))for(var Pe=0;Pe<w.length;Pe++)G=w[Pe],ee=Xe+Ie(G,Pe),ve+=B(G,z,K,ee,se);else if(Pe=T(w),typeof Pe=="function")for(w=Pe.call(w),Pe=0;!(G=w.next()).done;)G=G.value,ee=Xe+Ie(G,Pe++),ve+=B(G,z,K,ee,se);else if(ee==="object"){if(typeof w.then=="function")return B(Se(w),z,K,G,se);throw z=String(w),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Y(w,z,K){if(w==null)return w;var G=[],se=0;return B(w,G,"","",function(ee){return z.call(K,ee,se++)}),G}function W(w){if(w._status===-1){var z=w._result;z=z(),z.then(function(K){(w._status===0||w._status===-1)&&(w._status=1,w._result=K)},function(K){(w._status===0||w._status===-1)&&(w._status=2,w._result=K)}),w._status===-1&&(w._status=0,w._result=z)}if(w._status===1)return w._result.default;throw w._result}var me=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},de={map:Y,forEach:function(w,z,K){Y(w,function(){z.apply(this,arguments)},K)},count:function(w){var z=0;return Y(w,function(){z++}),z},toArray:function(w){return Y(w,function(z){return z})||[]},only:function(w){if(!rt(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return pe.Activity=v,pe.Children=de,pe.Component=L,pe.Fragment=i,pe.Profiler=o,pe.PureComponent=H,pe.StrictMode=r,pe.Suspense=p,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,pe.__COMPILER_RUNTIME={__proto__:null,c:function(w){return V.H.useMemoCache(w)}},pe.cache=function(w){return function(){return w.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(w,z,K){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var G=O({},w.props),se=w.key;if(z!=null)for(ee in z.key!==void 0&&(se=""+z.key),z)!ie.call(z,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&z.ref===void 0||(G[ee]=z[ee]);var ee=arguments.length-2;if(ee===1)G.children=K;else if(1<ee){for(var ve=Array(ee),Xe=0;Xe<ee;Xe++)ve[Xe]=arguments[Xe+2];G.children=ve}return Ue(w.type,se,G)},pe.createContext=function(w){return w={$$typeof:u,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},pe.createElement=function(w,z,K){var G,se={},ee=null;if(z!=null)for(G in z.key!==void 0&&(ee=""+z.key),z)ie.call(z,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(se[G]=z[G]);var ve=arguments.length-2;if(ve===1)se.children=K;else if(1<ve){for(var Xe=Array(ve),Pe=0;Pe<ve;Pe++)Xe[Pe]=arguments[Pe+2];se.children=Xe}if(w&&w.defaultProps)for(G in ve=w.defaultProps,ve)se[G]===void 0&&(se[G]=ve[G]);return Ue(w,ee,se)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(w){return{$$typeof:h,render:w}},pe.isValidElement=rt,pe.lazy=function(w){return{$$typeof:_,_payload:{_status:-1,_result:w},_init:W}},pe.memo=function(w,z){return{$$typeof:m,type:w,compare:z===void 0?null:z}},pe.startTransition=function(w){var z=V.T,K={};V.T=K;try{var G=w(),se=V.S;se!==null&&se(K,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(I,me)}catch(ee){me(ee)}finally{z!==null&&K.types!==null&&(z.types=K.types),V.T=z}},pe.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},pe.use=function(w){return V.H.use(w)},pe.useActionState=function(w,z,K){return V.H.useActionState(w,z,K)},pe.useCallback=function(w,z){return V.H.useCallback(w,z)},pe.useContext=function(w){return V.H.useContext(w)},pe.useDebugValue=function(){},pe.useDeferredValue=function(w,z){return V.H.useDeferredValue(w,z)},pe.useEffect=function(w,z){return V.H.useEffect(w,z)},pe.useEffectEvent=function(w){return V.H.useEffectEvent(w)},pe.useId=function(){return V.H.useId()},pe.useImperativeHandle=function(w,z,K){return V.H.useImperativeHandle(w,z,K)},pe.useInsertionEffect=function(w,z){return V.H.useInsertionEffect(w,z)},pe.useLayoutEffect=function(w,z){return V.H.useLayoutEffect(w,z)},pe.useMemo=function(w,z){return V.H.useMemo(w,z)},pe.useOptimistic=function(w,z){return V.H.useOptimistic(w,z)},pe.useReducer=function(w,z,K){return V.H.useReducer(w,z,K)},pe.useRef=function(w){return V.H.useRef(w)},pe.useState=function(w){return V.H.useState(w)},pe.useSyncExternalStore=function(w,z,K){return V.H.useSyncExternalStore(w,z,K)},pe.useTransition=function(){return V.H.useTransition()},pe.version="19.2.3",pe}var EE;function im(){return EE||(EE=1,Oh.exports=kN()),Oh.exports}var E=im();const ue=pl(E);var kh={exports:{}},jo={},Dh={exports:{}},Ih={};var bE;function DN(){return bE||(bE=1,(function(t){function e(B,Y){var W=B.length;B.push(Y);e:for(;0<W;){var me=W-1>>>1,de=B[me];if(0<o(de,Y))B[me]=Y,B[W]=de,W=me;else break e}}function i(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Y=B[0],W=B.pop();if(W!==Y){B[0]=W;e:for(var me=0,de=B.length,w=de>>>1;me<w;){var z=2*(me+1)-1,K=B[z],G=z+1,se=B[G];if(0>o(K,W))G<de&&0>o(se,K)?(B[me]=se,B[G]=W,me=G):(B[me]=K,B[z]=W,me=z);else if(G<de&&0>o(se,W))B[me]=se,B[G]=W,me=G;else break e}}return Y}function o(B,Y){var W=B.sortIndex-Y.sortIndex;return W!==0?W:B.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var p=[],m=[],_=1,v=null,b=3,T=!1,N=!1,O=!1,x=!1,L=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function q(B){for(var Y=i(m);Y!==null;){if(Y.callback===null)r(m);else if(Y.startTime<=B)r(m),Y.sortIndex=Y.expirationTime,e(p,Y);else break;Y=i(m)}}function X(B){if(O=!1,q(B),!N)if(i(p)!==null)N=!0,I||(I=!0,Be());else{var Y=i(m);Y!==null&&Se(X,Y.startTime-B)}}var I=!1,V=-1,ie=5,Ue=-1;function We(){return x?!0:!(t.unstable_now()-Ue<ie)}function rt(){if(x=!1,I){var B=t.unstable_now();Ue=B;var Y=!0;try{e:{N=!1,O&&(O=!1,U(V),V=-1),T=!0;var W=b;try{t:{for(q(B),v=i(p);v!==null&&!(v.expirationTime>B&&We());){var me=v.callback;if(typeof me=="function"){v.callback=null,b=v.priorityLevel;var de=me(v.expirationTime<=B);if(B=t.unstable_now(),typeof de=="function"){v.callback=de,q(B),Y=!0;break t}v===i(p)&&r(p),q(B)}else r(p);v=i(p)}if(v!==null)Y=!0;else{var w=i(m);w!==null&&Se(X,w.startTime-B),Y=!1}}break e}finally{v=null,b=W,T=!1}Y=void 0}}finally{Y?Be():I=!1}}}var Be;if(typeof H=="function")Be=function(){H(rt)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Ie=re.port2;re.port1.onmessage=rt,Be=function(){Ie.postMessage(null)}}else Be=function(){L(rt,0)};function Se(B,Y){V=L(function(){B(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(B){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var W=b;b=Y;try{return B()}finally{b=W}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=b;b=B;try{return Y()}finally{b=W}},t.unstable_scheduleCallback=function(B,Y,W){var me=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?me+W:me):W=me,B){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=W+de,B={id:_++,callback:Y,priorityLevel:B,startTime:W,expirationTime:de,sortIndex:-1},W>me?(B.sortIndex=W,e(m,B),i(p)===null&&B===i(m)&&(O?(U(V),V=-1):O=!0,Se(X,W-me))):(B.sortIndex=de,e(p,B),N||T||(N=!0,I||(I=!0,Be()))),B},t.unstable_shouldYield=We,t.unstable_wrapCallback=function(B){var Y=b;return function(){var W=b;b=Y;try{return B.apply(this,arguments)}finally{b=W}}}})(Ih)),Ih}var SE;function IN(){return SE||(SE=1,Dh.exports=DN()),Dh.exports}var Mh={exports:{}},Bt={};var TE;function MN(){if(TE)return Bt;TE=1;var t=im();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,m,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:m,implementation:_}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Bt.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(p,m,null,_)},Bt.flushSync=function(p){var m=u.T,_=r.p;try{if(u.T=null,r.p=2,p)return p()}finally{u.T=m,r.p=_,r.d.f()}},Bt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},Bt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Bt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,v=h(_,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:T}):_==="script"&&r.d.X(p,{crossOrigin:v,integrity:b,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Bt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},Bt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,v=h(_,m.crossOrigin);r.d.L(p,_,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Bt.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=h(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},Bt.requestFormReset=function(p){r.d.r(p)},Bt.unstable_batchedUpdates=function(p,m){return p(m)},Bt.useFormState=function(p,m,_){return u.H.useFormState(p,m,_)},Bt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Bt.version="19.2.3",Bt}var CE;function AS(){if(CE)return Mh.exports;CE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mh.exports=MN(),Mh.exports}var wE;function LN(){if(wE)return jo;wE=1;var t=IN(),e=im(),i=AS();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(c(n)!==n)throw Error(r(188))}function m(n){var s=n.alternate;if(!s){if(s=c(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var y=!1,S=f.child;S;){if(S===a){y=!0,a=f,l=d;break}if(S===l){y=!0,l=f,a=d;break}S=S.sibling}if(!y){for(S=d.child;S;){if(S===a){y=!0,a=d,l=f;break}if(S===l){y=!0,l=d,a=f;break}S=S.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function _(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=_(n),s!==null)return s;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),H=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),Ue=Symbol.for("react.activity"),We=Symbol.for("react.memo_cache_sentinel"),rt=Symbol.iterator;function Be(n){return n===null||typeof n!="object"?null:(n=rt&&n[rt]||n["@@iterator"],typeof n=="function"?n:null)}var re=Symbol.for("react.client.reference");function Ie(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===re?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case O:return"Fragment";case L:return"Profiler";case x:return"StrictMode";case X:return"Suspense";case I:return"SuspenseList";case Ue:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case H:return n.displayName||"Context";case U:return(n._context.displayName||"Context")+".Consumer";case q:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case V:return s=n.displayName||null,s!==null?s:Ie(n.type)||"Memo";case ie:s=n._payload,n=n._init;try{return Ie(n(s))}catch{}}return null}var Se=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},me=[],de=-1;function w(n){return{current:n}}function z(n){0>de||(n.current=me[de],me[de]=null,de--)}function K(n,s){de++,me[de]=n.current,n.current=s}var G=w(null),se=w(null),ee=w(null),ve=w(null);function Xe(n,s){switch(K(ee,s),K(se,n),K(G,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Pv(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Pv(s),n=Hv(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}z(G),K(G,n)}function Pe(){z(G),z(se),z(ee)}function qt(n){n.memoizedState!==null&&K(ve,n);var s=G.current,a=Hv(s,n.type);s!==a&&(K(se,n),K(G,a))}function gt(n){se.current===n&&(z(G),z(se)),ve.current===n&&(z(ve),ko._currentValue=W)}var ft,vn;function At(n){if(ft===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);ft=s&&s[1]||"",vn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ft+n+vn}var Te=!1;function Xn(n,s){if(!n||Te)return"";Te=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(j){var M=j}Reflect.construct(n,[],$)}else{try{$.call()}catch(j){M=j}n.call($.prototype)}}else{try{throw Error()}catch(j){M=j}($=n())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(j){if(j&&M&&typeof j.stack=="string")return[j.stack,M.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],S=d[1];if(y&&S){var C=y.split(`
`),D=S.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===D.length)for(l=C.length-1,f=D.length-1;1<=l&&0<=f&&C[l]!==D[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==D[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==D[f]){var P=`
`+C[l].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=l&&0<=f);break}}}finally{Te=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?At(a):""}function fi(n,s){switch(n.tag){case 26:case 27:case 5:return At(n.type);case 16:return At("Lazy");case 13:return n.child!==s&&s!==null?At("Suspense Fallback"):At("Suspense");case 19:return At("SuspenseList");case 0:case 15:return Xn(n.type,!1);case 11:return Xn(n.type.render,!1);case 1:return Xn(n.type,!0);case 31:return At("Activity");default:return""}}function br(n){try{var s="",a=null;do s+=fi(n,a),a=n,n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var js=Object.prototype.hasOwnProperty,Us=t.unstable_scheduleCallback,Bs=t.unstable_cancelCallback,qa=t.unstable_shouldYield,Sr=t.unstable_requestPaint,dt=t.unstable_now,Tr=t.unstable_getCurrentPriorityLevel,Re=t.unstable_ImmediatePriority,Ln=t.unstable_UserBlockingPriority,di=t.unstable_NormalPriority,Dl=t.unstable_LowPriority,Cr=t.unstable_IdlePriority,Il=t.log,he=t.unstable_setDisableYieldValue,Me=null,at=null;function Kt(n){if(typeof Il=="function"&&he(n),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(Me,n)}catch{}}var Ft=Math.clz32?Math.clz32:m1,h1=Math.log,p1=Math.LN2;function m1(n){return n>>>=0,n===0?32:31-(h1(n)/p1|0)|0}var Ml=256,Ll=262144,jl=4194304;function zs(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ul(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,y=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=zs(l):(y&=S,y!==0?f=zs(y):a||(a=S&~n,a!==0&&(f=zs(a))))):(S=l&~d,S!==0?f=zs(S):y!==0?f=zs(y):a||(a=l&~n,a!==0&&(f=zs(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Fa(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function g1(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bg(){var n=jl;return jl<<=1,(jl&62914560)===0&&(jl=4194304),n}function yf(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Va(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function y1(n,s,a,l,f,d){var y=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,C=n.expirationTimes,D=n.hiddenUpdates;for(a=y&~a;0<a;){var P=31-Ft(a),$=1<<P;S[P]=0,C[P]=-1;var M=D[P];if(M!==null)for(D[P]=null,P=0;P<M.length;P++){var j=M[P];j!==null&&(j.lane&=-536870913)}a&=~$}l!==0&&Sg(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(y&~s))}function Sg(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-Ft(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Tg(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-Ft(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function Cg(n,s){var a=s&-s;return a=(a&42)!==0?1:_f(a),(a&(n.suspendedLanes|s))!==0?0:a}function _f(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function vf(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function wg(){var n=Y.p;return n!==0?n:(n=window.event,n===void 0?32:uE(n.type))}function Rg(n,s){var a=Y.p;try{return Y.p=n,s()}finally{Y.p=a}}var Xi=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Xi,Wt="__reactProps$"+Xi,wr="__reactContainer$"+Xi,Ef="__reactEvents$"+Xi,_1="__reactListeners$"+Xi,v1="__reactHandles$"+Xi,Ng="__reactResources$"+Xi,$a="__reactMarker$"+Xi;function bf(n){delete n[Ot],delete n[Wt],delete n[Ef],delete n[_1],delete n[v1]}function Rr(n){var s=n[Ot];if(s)return s;for(var a=n.parentNode;a;){if(s=a[wr]||a[Ot]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Kv(n);n!==null;){if(a=n[Ot])return a;n=Kv(n)}return s}n=a,a=n.parentNode}return null}function Nr(n){if(n=n[Ot]||n[wr]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Ga(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function xr(n){var s=n[Ng];return s||(s=n[Ng]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ct(n){n[$a]=!0}var xg=new Set,Ag={};function Ps(n,s){Ar(n,s),Ar(n+"Capture",s)}function Ar(n,s){for(Ag[n]=s,n=0;n<s.length;n++)xg.add(s[n])}var E1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Og={},kg={};function b1(n){return js.call(kg,n)?!0:js.call(Og,n)?!1:E1.test(n)?kg[n]=!0:(Og[n]=!0,!1)}function Bl(n,s,a){if(b1(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function zl(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function hi(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}function En(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Dg(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function S1(n,s,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Sf(n){if(!n._valueTracker){var s=Dg(n)?"checked":"value";n._valueTracker=S1(n,s,""+n[s])}}function Ig(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Dg(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Pl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var T1=/[\n"\\]/g;function bn(n){return n.replace(T1,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Tf(n,s,a,l,f,d,y,S){n.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?n.type=y:n.removeAttribute("type"),s!=null?y==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+En(s)):n.value!==""+En(s)&&(n.value=""+En(s)):y!=="submit"&&y!=="reset"||n.removeAttribute("value"),s!=null?Cf(n,y,En(s)):a!=null?Cf(n,y,En(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+En(S):n.removeAttribute("name")}function Mg(n,s,a,l,f,d,y,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Sf(n);return}a=a!=null?""+En(a):"",s=s!=null?""+En(s):a,S||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.name=y),Sf(n)}function Cf(n,s,a){s==="number"&&Pl(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Or(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+En(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Lg(n,s,a){if(s!=null&&(s=""+En(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+En(a):""}function jg(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Se(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=En(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),Sf(n)}function kr(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var C1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ug(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||C1.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function Bg(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Ug(n,f,l)}else for(var d in s)s.hasOwnProperty(d)&&Ug(n,d,s[d])}function wf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),R1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hl(n){return R1.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function pi(){}var Rf=null;function Nf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Dr=null,Ir=null;function zg(n){var s=Nr(n);if(s&&(n=s.stateNode)){var a=n[Wt]||null;e:switch(n=s.stateNode,s.type){case"input":if(Tf(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[Wt]||null;if(!f)throw Error(r(90));Tf(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&Ig(l)}break e;case"textarea":Lg(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Or(n,!!a.multiple,s,!1)}}}var xf=!1;function Pg(n,s,a){if(xf)return n(s,a);xf=!0;try{var l=n(s);return l}finally{if(xf=!1,(Dr!==null||Ir!==null)&&(xc(),Dr&&(s=Dr,n=Ir,Ir=Dr=null,zg(s),n)))for(s=0;s<n.length;s++)zg(n[s])}}function Ya(n,s){var a=n.stateNode;if(a===null)return null;var l=a[Wt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Af=!1;if(mi)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){Af=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{Af=!1}var Qi=null,Of=null,ql=null;function Hg(){if(ql)return ql;var n,s=Of,a=s.length,l,f="value"in Qi?Qi.value:Qi.textContent,d=f.length;for(n=0;n<a&&s[n]===f[n];n++);var y=a-n;for(l=1;l<=y&&s[a-l]===f[d-l];l++);return ql=f.slice(n,1<l?1-l:void 0)}function Fl(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Vl(){return!0}function qg(){return!1}function Xt(n){function s(a,l,f,d,y){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Vl:qg,this.isPropagationStopped=qg,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),s}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=Xt(Hs),Wa=v({},Hs,{view:0,detail:0}),N1=Xt(Wa),kf,Df,Xa,Gl=v({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Xa&&(Xa&&n.type==="mousemove"?(kf=n.screenX-Xa.screenX,Df=n.screenY-Xa.screenY):Df=kf=0,Xa=n),kf)},movementY:function(n){return"movementY"in n?n.movementY:Df}}),Fg=Xt(Gl),x1=v({},Gl,{dataTransfer:0}),A1=Xt(x1),O1=v({},Wa,{relatedTarget:0}),If=Xt(O1),k1=v({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),D1=Xt(k1),I1=v({},Hs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),M1=Xt(I1),L1=v({},Hs,{data:0}),Vg=Xt(L1),j1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z1(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=B1[n])?!!s[n]:!1}function Mf(){return z1}var P1=v({},Wa,{key:function(n){if(n.key){var s=j1[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Fl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?U1[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mf,charCode:function(n){return n.type==="keypress"?Fl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Fl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),H1=Xt(P1),q1=v({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$g=Xt(q1),F1=v({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mf}),V1=Xt(F1),$1=v({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),G1=Xt($1),Y1=v({},Gl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),K1=Xt(Y1),W1=v({},Hs,{newState:0,oldState:0}),X1=Xt(W1),Q1=[9,13,27,32],Lf=mi&&"CompositionEvent"in window,Qa=null;mi&&"documentMode"in document&&(Qa=document.documentMode);var J1=mi&&"TextEvent"in window&&!Qa,Gg=mi&&(!Lf||Qa&&8<Qa&&11>=Qa),Yg=" ",Kg=!1;function Wg(n,s){switch(n){case"keyup":return Q1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Mr=!1;function Z1(n,s){switch(n){case"compositionend":return Xg(s);case"keypress":return s.which!==32?null:(Kg=!0,Yg);case"textInput":return n=s.data,n===Yg&&Kg?null:n;default:return null}}function eR(n,s){if(Mr)return n==="compositionend"||!Lf&&Wg(n,s)?(n=Hg(),ql=Of=Qi=null,Mr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gg&&s.locale!=="ko"?null:s.data;default:return null}}var tR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qg(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!tR[n.type]:s==="textarea"}function Jg(n,s,a,l){Dr?Ir?Ir.push(l):Ir=[l]:Dr=l,s=Lc(s,"onChange"),0<s.length&&(a=new $l("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Ja=null,Za=null;function nR(n){Mv(n,0)}function Yl(n){var s=Ga(n);if(Ig(s))return n}function Zg(n,s){if(n==="change")return s}var ey=!1;if(mi){var jf;if(mi){var Uf="oninput"in document;if(!Uf){var ty=document.createElement("div");ty.setAttribute("oninput","return;"),Uf=typeof ty.oninput=="function"}jf=Uf}else jf=!1;ey=jf&&(!document.documentMode||9<document.documentMode)}function ny(){Ja&&(Ja.detachEvent("onpropertychange",iy),Za=Ja=null)}function iy(n){if(n.propertyName==="value"&&Yl(Za)){var s=[];Jg(s,Za,n,Nf(n)),Pg(nR,s)}}function iR(n,s,a){n==="focusin"?(ny(),Ja=s,Za=a,Ja.attachEvent("onpropertychange",iy)):n==="focusout"&&ny()}function sR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Yl(Za)}function rR(n,s){if(n==="click")return Yl(s)}function aR(n,s){if(n==="input"||n==="change")return Yl(s)}function oR(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var an=typeof Object.is=="function"?Object.is:oR;function eo(n,s){if(an(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!js.call(s,f)||!an(n[f],s[f]))return!1}return!0}function sy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ry(n,s){var a=sy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sy(a)}}function ay(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?ay(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function oy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Pl(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Pl(n.document)}return s}function Bf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var lR=mi&&"documentMode"in document&&11>=document.documentMode,Lr=null,zf=null,to=null,Pf=!1;function ly(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pf||Lr==null||Lr!==Pl(l)||(l=Lr,"selectionStart"in l&&Bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),to&&eo(to,l)||(to=l,l=Lc(zf,"onSelect"),0<l.length&&(s=new $l("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=Lr)))}function qs(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var jr={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},Hf={},cy={};mi&&(cy=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function Fs(n){if(Hf[n])return Hf[n];if(!jr[n])return n;var s=jr[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in cy)return Hf[n]=s[a];return n}var uy=Fs("animationend"),fy=Fs("animationiteration"),dy=Fs("animationstart"),cR=Fs("transitionrun"),uR=Fs("transitionstart"),fR=Fs("transitioncancel"),hy=Fs("transitionend"),py=new Map,qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qf.push("scrollEnd");function jn(n,s){py.set(n,s),Ps(s,[n])}var Kl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Sn=[],Ur=0,Ff=0;function Wl(){for(var n=Ur,s=Ff=Ur=0;s<n;){var a=Sn[s];Sn[s++]=null;var l=Sn[s];Sn[s++]=null;var f=Sn[s];Sn[s++]=null;var d=Sn[s];if(Sn[s++]=null,l!==null&&f!==null){var y=l.pending;y===null?f.next=f:(f.next=y.next,y.next=f),l.pending=f}d!==0&&my(a,f,d)}}function Xl(n,s,a,l){Sn[Ur++]=n,Sn[Ur++]=s,Sn[Ur++]=a,Sn[Ur++]=l,Ff|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Vf(n,s,a,l){return Xl(n,s,a,l),Ql(n)}function Vs(n,s){return Xl(n,null,null,s),Ql(n)}function my(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&s!==null&&(f=31-Ft(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function Ql(n){if(50<Co)throw Co=0,Zd=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Br={};function dR(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(n,s,a,l){return new dR(n,s,a,l)}function $f(n){return n=n.prototype,!(!n||!n.isReactComponent)}function gi(n,s){var a=n.alternate;return a===null?(a=on(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function gy(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Jl(n,s,a,l,f,d){var y=0;if(l=n,typeof n=="function")$f(n)&&(y=1);else if(typeof n=="string")y=yN(n,a,G.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Ue:return n=on(31,a,s,f),n.elementType=Ue,n.lanes=d,n;case O:return $s(a.children,f,d,s);case x:y=8,f|=24;break;case L:return n=on(12,a,s,f|2),n.elementType=L,n.lanes=d,n;case X:return n=on(13,a,s,f),n.elementType=X,n.lanes=d,n;case I:return n=on(19,a,s,f),n.elementType=I,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case H:y=10;break e;case U:y=9;break e;case q:y=11;break e;case V:y=14;break e;case ie:y=16,l=null;break e}y=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=on(y,a,s,f),s.elementType=n,s.type=l,s.lanes=d,s}function $s(n,s,a,l){return n=on(7,n,l,s),n.lanes=a,n}function Gf(n,s,a){return n=on(6,n,null,s),n.lanes=a,n}function yy(n){var s=on(18,null,null,0);return s.stateNode=n,s}function Yf(n,s,a){return s=on(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var _y=new WeakMap;function Tn(n,s){if(typeof n=="object"&&n!==null){var a=_y.get(n);return a!==void 0?a:(s={value:n,source:s,stack:br(s)},_y.set(n,s),s)}return{value:n,source:s,stack:br(s)}}var zr=[],Pr=0,Zl=null,no=0,Cn=[],wn=0,Ji=null,Qn=1,Jn="";function yi(n,s){zr[Pr++]=no,zr[Pr++]=Zl,Zl=n,no=s}function vy(n,s,a){Cn[wn++]=Qn,Cn[wn++]=Jn,Cn[wn++]=Ji,Ji=n;var l=Qn;n=Jn;var f=32-Ft(l)-1;l&=~(1<<f),a+=1;var d=32-Ft(s)+f;if(30<d){var y=f-f%5;d=(l&(1<<y)-1).toString(32),l>>=y,f-=y,Qn=1<<32-Ft(s)+f|a<<f|l,Jn=d+n}else Qn=1<<d|a<<f|l,Jn=n}function Kf(n){n.return!==null&&(yi(n,1),vy(n,1,0))}function Wf(n){for(;n===Zl;)Zl=zr[--Pr],zr[Pr]=null,no=zr[--Pr],zr[Pr]=null;for(;n===Ji;)Ji=Cn[--wn],Cn[wn]=null,Jn=Cn[--wn],Cn[wn]=null,Qn=Cn[--wn],Cn[wn]=null}function Ey(n,s){Cn[wn++]=Qn,Cn[wn++]=Jn,Cn[wn++]=Ji,Qn=s.id,Jn=s.overflow,Ji=n}var kt=null,Je=null,Ne=!1,Zi=null,Rn=!1,Xf=Error(r(519));function es(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw io(Tn(s,n)),Xf}function by(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Ot]=n,s[Wt]=l,a){case"dialog":be("cancel",s),be("close",s);break;case"iframe":case"object":case"embed":be("load",s);break;case"video":case"audio":for(a=0;a<Ro.length;a++)be(Ro[a],s);break;case"source":be("error",s);break;case"img":case"image":case"link":be("error",s),be("load",s);break;case"details":be("toggle",s);break;case"input":be("invalid",s),Mg(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":be("invalid",s);break;case"textarea":be("invalid",s),jg(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Bv(s.textContent,a)?(l.popover!=null&&(be("beforetoggle",s),be("toggle",s)),l.onScroll!=null&&be("scroll",s),l.onScrollEnd!=null&&be("scrollend",s),l.onClick!=null&&(s.onclick=pi),s=!0):s=!1,s||es(n,!0)}function Sy(n){for(kt=n.return;kt;)switch(kt.tag){case 5:case 31:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:kt=kt.return}}function Hr(n){if(n!==kt)return!1;if(!Ne)return Sy(n),Ne=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||ph(n.type,n.memoizedProps)),a=!a),a&&Je&&es(n),Sy(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Je=Yv(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Je=Yv(n)}else s===27?(s=Je,ps(n.type)?(n=vh,vh=null,Je=n):Je=s):Je=kt?xn(n.stateNode.nextSibling):null;return!0}function Gs(){Je=kt=null,Ne=!1}function Qf(){var n=Zi;return n!==null&&(en===null?en=n:en.push.apply(en,n),Zi=null),n}function io(n){Zi===null?Zi=[n]:Zi.push(n)}var Jf=w(null),Ys=null,_i=null;function ts(n,s,a){K(Jf,s._currentValue),s._currentValue=a}function vi(n){n._currentValue=Jf.current,z(Jf)}function Zf(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function ed(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var y=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var C=0;C<s.length;C++)if(S.context===s[C]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Zf(d.return,a,n),l||(y=null);break e}d=S.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(r(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),Zf(y,a,n),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===n){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function qr(n,s,a,l){n=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var S=f.type;an(f.pendingProps.value,y.value)||(n!==null?n.push(S):n=[S])}}else if(f===ve.current){if(y=f.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(ko):n=[ko])}f=f.return}n!==null&&ed(s,n,a,l),s.flags|=262144}function ec(n){for(n=n.firstContext;n!==null;){if(!an(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ks(n){Ys=n,_i=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Dt(n){return Ty(Ys,n)}function tc(n,s){return Ys===null&&Ks(n),Ty(n,s)}function Ty(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},_i===null){if(n===null)throw Error(r(308));_i=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else _i=_i.next=s;return a}var hR=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},pR=t.unstable_scheduleCallback,mR=t.unstable_NormalPriority,yt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function td(){return{controller:new hR,data:new Map,refCount:0}}function so(n){n.refCount--,n.refCount===0&&pR(mR,function(){n.controller.abort()})}var ro=null,nd=0,Fr=0,Vr=null;function gR(n,s){if(ro===null){var a=ro=[];nd=0,Fr=rh(),Vr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return nd++,s.then(Cy,Cy),s}function Cy(){if(--nd===0&&ro!==null){Vr!==null&&(Vr.status="fulfilled");var n=ro;ro=null,Fr=0,Vr=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function yR(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var wy=B.S;B.S=function(n,s){lv=dt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&gR(n,s),wy!==null&&wy(n,s)};var Ws=w(null);function id(){var n=Ws.current;return n!==null?n:Qe.pooledCache}function nc(n,s){s===null?K(Ws,Ws.current):K(Ws,s.pool)}function Ry(){var n=id();return n===null?null:{parent:yt._currentValue,pool:n}}var $r=Error(r(460)),sd=Error(r(474)),ic=Error(r(542)),sc={then:function(){}};function Ny(n){return n=n.status,n==="fulfilled"||n==="rejected"}function xy(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(pi,pi),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Oy(n),n;default:if(typeof s.status=="string")s.then(pi,pi);else{if(n=Qe,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Oy(n),n}throw Qs=s,$r}}function Xs(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Qs=a,$r):a}}var Qs=null;function Ay(){if(Qs===null)throw Error(r(459));var n=Qs;return Qs=null,n}function Oy(n){if(n===$r||n===ic)throw Error(r(483))}var Gr=null,ao=0;function rc(n){var s=ao;return ao+=1,Gr===null&&(Gr=[]),xy(Gr,n,s)}function oo(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function ac(n,s){throw s.$$typeof===b?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function ky(n){function s(A,R){if(n){var k=A.deletions;k===null?(A.deletions=[R],A.flags|=16):k.push(R)}}function a(A,R){if(!n)return null;for(;R!==null;)s(A,R),R=R.sibling;return null}function l(A){for(var R=new Map;A!==null;)A.key!==null?R.set(A.key,A):R.set(A.index,A),A=A.sibling;return R}function f(A,R){return A=gi(A,R),A.index=0,A.sibling=null,A}function d(A,R,k){return A.index=k,n?(k=A.alternate,k!==null?(k=k.index,k<R?(A.flags|=67108866,R):k):(A.flags|=67108866,R)):(A.flags|=1048576,R)}function y(A){return n&&A.alternate===null&&(A.flags|=67108866),A}function S(A,R,k,F){return R===null||R.tag!==6?(R=Gf(k,A.mode,F),R.return=A,R):(R=f(R,k),R.return=A,R)}function C(A,R,k,F){var le=k.type;return le===O?P(A,R,k.props.children,F,k.key):R!==null&&(R.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ie&&Xs(le)===R.type)?(R=f(R,k.props),oo(R,k),R.return=A,R):(R=Jl(k.type,k.key,k.props,null,A.mode,F),oo(R,k),R.return=A,R)}function D(A,R,k,F){return R===null||R.tag!==4||R.stateNode.containerInfo!==k.containerInfo||R.stateNode.implementation!==k.implementation?(R=Yf(k,A.mode,F),R.return=A,R):(R=f(R,k.children||[]),R.return=A,R)}function P(A,R,k,F,le){return R===null||R.tag!==7?(R=$s(k,A.mode,F,le),R.return=A,R):(R=f(R,k),R.return=A,R)}function $(A,R,k){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Gf(""+R,A.mode,k),R.return=A,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case T:return k=Jl(R.type,R.key,R.props,null,A.mode,k),oo(k,R),k.return=A,k;case N:return R=Yf(R,A.mode,k),R.return=A,R;case ie:return R=Xs(R),$(A,R,k)}if(Se(R)||Be(R))return R=$s(R,A.mode,k,null),R.return=A,R;if(typeof R.then=="function")return $(A,rc(R),k);if(R.$$typeof===H)return $(A,tc(A,R),k);ac(A,R)}return null}function M(A,R,k,F){var le=R!==null?R.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return le!==null?null:S(A,R,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case T:return k.key===le?C(A,R,k,F):null;case N:return k.key===le?D(A,R,k,F):null;case ie:return k=Xs(k),M(A,R,k,F)}if(Se(k)||Be(k))return le!==null?null:P(A,R,k,F,null);if(typeof k.then=="function")return M(A,R,rc(k),F);if(k.$$typeof===H)return M(A,R,tc(A,k),F);ac(A,k)}return null}function j(A,R,k,F,le){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return A=A.get(k)||null,S(R,A,""+F,le);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return A=A.get(F.key===null?k:F.key)||null,C(R,A,F,le);case N:return A=A.get(F.key===null?k:F.key)||null,D(R,A,F,le);case ie:return F=Xs(F),j(A,R,k,F,le)}if(Se(F)||Be(F))return A=A.get(k)||null,P(R,A,F,le,null);if(typeof F.then=="function")return j(A,R,k,rc(F),le);if(F.$$typeof===H)return j(A,R,k,tc(R,F),le);ac(R,F)}return null}function Z(A,R,k,F){for(var le=null,Le=null,te=R,ye=R=0,we=null;te!==null&&ye<k.length;ye++){te.index>ye?(we=te,te=null):we=te.sibling;var je=M(A,te,k[ye],F);if(je===null){te===null&&(te=we);break}n&&te&&je.alternate===null&&s(A,te),R=d(je,R,ye),Le===null?le=je:Le.sibling=je,Le=je,te=we}if(ye===k.length)return a(A,te),Ne&&yi(A,ye),le;if(te===null){for(;ye<k.length;ye++)te=$(A,k[ye],F),te!==null&&(R=d(te,R,ye),Le===null?le=te:Le.sibling=te,Le=te);return Ne&&yi(A,ye),le}for(te=l(te);ye<k.length;ye++)we=j(te,A,ye,k[ye],F),we!==null&&(n&&we.alternate!==null&&te.delete(we.key===null?ye:we.key),R=d(we,R,ye),Le===null?le=we:Le.sibling=we,Le=we);return n&&te.forEach(function(vs){return s(A,vs)}),Ne&&yi(A,ye),le}function ce(A,R,k,F){if(k==null)throw Error(r(151));for(var le=null,Le=null,te=R,ye=R=0,we=null,je=k.next();te!==null&&!je.done;ye++,je=k.next()){te.index>ye?(we=te,te=null):we=te.sibling;var vs=M(A,te,je.value,F);if(vs===null){te===null&&(te=we);break}n&&te&&vs.alternate===null&&s(A,te),R=d(vs,R,ye),Le===null?le=vs:Le.sibling=vs,Le=vs,te=we}if(je.done)return a(A,te),Ne&&yi(A,ye),le;if(te===null){for(;!je.done;ye++,je=k.next())je=$(A,je.value,F),je!==null&&(R=d(je,R,ye),Le===null?le=je:Le.sibling=je,Le=je);return Ne&&yi(A,ye),le}for(te=l(te);!je.done;ye++,je=k.next())je=j(te,A,ye,je.value,F),je!==null&&(n&&je.alternate!==null&&te.delete(je.key===null?ye:je.key),R=d(je,R,ye),Le===null?le=je:Le.sibling=je,Le=je);return n&&te.forEach(function(xN){return s(A,xN)}),Ne&&yi(A,ye),le}function Ge(A,R,k,F){if(typeof k=="object"&&k!==null&&k.type===O&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case T:e:{for(var le=k.key;R!==null;){if(R.key===le){if(le=k.type,le===O){if(R.tag===7){a(A,R.sibling),F=f(R,k.props.children),F.return=A,A=F;break e}}else if(R.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ie&&Xs(le)===R.type){a(A,R.sibling),F=f(R,k.props),oo(F,k),F.return=A,A=F;break e}a(A,R);break}else s(A,R);R=R.sibling}k.type===O?(F=$s(k.props.children,A.mode,F,k.key),F.return=A,A=F):(F=Jl(k.type,k.key,k.props,null,A.mode,F),oo(F,k),F.return=A,A=F)}return y(A);case N:e:{for(le=k.key;R!==null;){if(R.key===le)if(R.tag===4&&R.stateNode.containerInfo===k.containerInfo&&R.stateNode.implementation===k.implementation){a(A,R.sibling),F=f(R,k.children||[]),F.return=A,A=F;break e}else{a(A,R);break}else s(A,R);R=R.sibling}F=Yf(k,A.mode,F),F.return=A,A=F}return y(A);case ie:return k=Xs(k),Ge(A,R,k,F)}if(Se(k))return Z(A,R,k,F);if(Be(k)){if(le=Be(k),typeof le!="function")throw Error(r(150));return k=le.call(k),ce(A,R,k,F)}if(typeof k.then=="function")return Ge(A,R,rc(k),F);if(k.$$typeof===H)return Ge(A,R,tc(A,k),F);ac(A,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,R!==null&&R.tag===6?(a(A,R.sibling),F=f(R,k),F.return=A,A=F):(a(A,R),F=Gf(k,A.mode,F),F.return=A,A=F),y(A)):a(A,R)}return function(A,R,k,F){try{ao=0;var le=Ge(A,R,k,F);return Gr=null,le}catch(te){if(te===$r||te===ic)throw te;var Le=on(29,te,null,A.mode);return Le.lanes=F,Le.return=A,Le}}}var Js=ky(!0),Dy=ky(!1),ns=!1;function rd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ad(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function is(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ss(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(ze&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Ql(n),my(n,null,a),s}return Xl(n,l,s,a),Ql(n)}function lo(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Tg(n,a)}}function od(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var ld=!1;function co(){if(ld){var n=Vr;if(n!==null)throw n}}function uo(n,s,a,l){ld=!1;var f=n.updateQueue;ns=!1;var d=f.firstBaseUpdate,y=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var C=S,D=C.next;C.next=null,y===null?d=D:y.next=D,y=C;var P=n.alternate;P!==null&&(P=P.updateQueue,S=P.lastBaseUpdate,S!==y&&(S===null?P.firstBaseUpdate=D:S.next=D,P.lastBaseUpdate=C))}if(d!==null){var $=f.baseState;y=0,P=D=C=null,S=d;do{var M=S.lane&-536870913,j=M!==S.lane;if(j?(Ce&M)===M:(l&M)===M){M!==0&&M===Fr&&(ld=!0),P!==null&&(P=P.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Z=n,ce=S;M=s;var Ge=a;switch(ce.tag){case 1:if(Z=ce.payload,typeof Z=="function"){$=Z.call(Ge,$,M);break e}$=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ce.payload,M=typeof Z=="function"?Z.call(Ge,$,M):Z,M==null)break e;$=v({},$,M);break e;case 2:ns=!0}}M=S.callback,M!==null&&(n.flags|=64,j&&(n.flags|=8192),j=f.callbacks,j===null?f.callbacks=[M]:j.push(M))}else j={lane:M,tag:S.tag,payload:S.payload,callback:S.callback,next:null},P===null?(D=P=j,C=$):P=P.next=j,y|=M;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;j=S,S=j.next,j.next=null,f.lastBaseUpdate=j,f.shared.pending=null}}while(!0);P===null&&(C=$),f.baseState=C,f.firstBaseUpdate=D,f.lastBaseUpdate=P,d===null&&(f.shared.lanes=0),cs|=y,n.lanes=y,n.memoizedState=$}}function Iy(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function My(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Iy(a[n],s)}var Yr=w(null),oc=w(0);function Ly(n,s){n=xi,K(oc,n),K(Yr,s),xi=n|s.baseLanes}function cd(){K(oc,xi),K(Yr,Yr.current)}function ud(){xi=oc.current,z(Yr),z(oc)}var ln=w(null),Nn=null;function rs(n){var s=n.alternate;K(ht,ht.current&1),K(ln,n),Nn===null&&(s===null||Yr.current!==null||s.memoizedState!==null)&&(Nn=n)}function fd(n){K(ht,ht.current),K(ln,n),Nn===null&&(Nn=n)}function jy(n){n.tag===22?(K(ht,ht.current),K(ln,n),Nn===null&&(Nn=n)):as()}function as(){K(ht,ht.current),K(ln,ln.current)}function cn(n){z(ln),Nn===n&&(Nn=null),z(ht)}var ht=w(0);function lc(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||yh(a)||_h(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ei=0,ge=null,Ve=null,_t=null,cc=!1,Kr=!1,Zs=!1,uc=0,fo=0,Wr=null,_R=0;function ot(){throw Error(r(321))}function dd(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!an(n[a],s[a]))return!1;return!0}function hd(n,s,a,l,f,d){return Ei=d,ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=n===null||n.memoizedState===null?v_:xd,Zs=!1,d=a(l,f),Zs=!1,Kr&&(d=By(s,a,l,f)),Uy(n),d}function Uy(n){B.H=mo;var s=Ve!==null&&Ve.next!==null;if(Ei=0,_t=Ve=ge=null,cc=!1,fo=0,Wr=null,s)throw Error(r(300));n===null||vt||(n=n.dependencies,n!==null&&ec(n)&&(vt=!0))}function By(n,s,a,l){ge=n;var f=0;do{if(Kr&&(Wr=null),fo=0,Kr=!1,25<=f)throw Error(r(301));if(f+=1,_t=Ve=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}B.H=E_,d=s(a,l)}while(Kr);return d}function vR(){var n=B.H,s=n.useState()[0];return s=typeof s.then=="function"?ho(s):s,n=n.useState()[0],(Ve!==null?Ve.memoizedState:null)!==n&&(ge.flags|=1024),s}function pd(){var n=uc!==0;return uc=0,n}function md(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function gd(n){if(cc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}cc=!1}Ei=0,_t=Ve=ge=null,Kr=!1,fo=uc=0,Wr=null}function Vt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?ge.memoizedState=_t=n:_t=_t.next=n,_t}function pt(){if(Ve===null){var n=ge.alternate;n=n!==null?n.memoizedState:null}else n=Ve.next;var s=_t===null?ge.memoizedState:_t.next;if(s!==null)_t=s,Ve=n;else{if(n===null)throw ge.alternate===null?Error(r(467)):Error(r(310));Ve=n,n={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},_t===null?ge.memoizedState=_t=n:_t=_t.next=n}return _t}function fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ho(n){var s=fo;return fo+=1,Wr===null&&(Wr=[]),n=xy(Wr,n,s),s=ge,(_t===null?s.memoizedState:_t.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?v_:xd),n}function dc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ho(n);if(n.$$typeof===H)return Dt(n)}throw Error(r(438,String(n)))}function yd(n){var s=null,a=ge.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=ge.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=fc(),ge.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=We;return s.index++,a}function bi(n,s){return typeof s=="function"?s(n):s}function hc(n){var s=pt();return _d(s,Ve,n)}function _d(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var y=f.next;f.next=d.next,d.next=y}s.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{s=f.next;var S=y=null,C=null,D=s,P=!1;do{var $=D.lane&-536870913;if($!==D.lane?(Ce&$)===$:(Ei&$)===$){var M=D.revertLane;if(M===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),$===Fr&&(P=!0);else if((Ei&M)===M){D=D.next,M===Fr&&(P=!0);continue}else $={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(S=C=$,y=d):C=C.next=$,ge.lanes|=M,cs|=M;$=D.action,Zs&&a(d,$),d=D.hasEagerState?D.eagerState:a(d,$)}else M={lane:$,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(S=C=M,y=d):C=C.next=M,ge.lanes|=$,cs|=$;D=D.next}while(D!==null&&D!==s);if(C===null?y=d:C.next=S,!an(d,n.memoizedState)&&(vt=!0,P&&(a=Vr,a!==null)))throw a;n.memoizedState=d,n.baseState=y,n.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function vd(n){var s=pt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var y=f=f.next;do d=n(d,y.action),y=y.next;while(y!==f);an(d,s.memoizedState)||(vt=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function zy(n,s,a){var l=ge,f=pt(),d=Ne;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var y=!an((Ve||f).memoizedState,a);if(y&&(f.memoizedState=a,vt=!0),f=f.queue,Sd(qy.bind(null,l,f,n),[n]),f.getSnapshot!==s||y||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,Xr(9,{destroy:void 0},Hy.bind(null,l,f,a,s),null),Qe===null)throw Error(r(349));d||(Ei&127)!==0||Py(l,s,a)}return a}function Py(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=ge.updateQueue,s===null?(s=fc(),ge.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Hy(n,s,a,l){s.value=a,s.getSnapshot=l,Fy(s)&&Vy(n)}function qy(n,s,a){return a(function(){Fy(s)&&Vy(n)})}function Fy(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!an(n,a)}catch{return!0}}function Vy(n){var s=Vs(n,2);s!==null&&tn(s,n,2)}function Ed(n){var s=Vt();if(typeof n=="function"){var a=n;if(n=a(),Zs){Kt(!0);try{a()}finally{Kt(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:n},s}function $y(n,s,a,l){return n.baseState=a,_d(n,Ve,typeof l=="function"?l:bi)}function ER(n,s,a,l,f){if(gc(n))throw Error(r(485));if(n=s.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};B.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,Gy(s,d)):(d.next=a.next,s.pending=a.next=d)}}function Gy(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var d=B.T,y={};B.T=y;try{var S=a(f,l),C=B.S;C!==null&&C(y,S),Yy(n,s,S)}catch(D){bd(n,s,D)}finally{d!==null&&y.types!==null&&(d.types=y.types),B.T=d}}else try{d=a(f,l),Yy(n,s,d)}catch(D){bd(n,s,D)}}function Yy(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ky(n,s,l)},function(l){return bd(n,s,l)}):Ky(n,s,a)}function Ky(n,s,a){s.status="fulfilled",s.value=a,Wy(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Gy(n,a)))}function bd(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Wy(s),s=s.next;while(s!==l)}n.action=null}function Wy(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Xy(n,s){return s}function Qy(n,s){if(Ne){var a=Qe.formState;if(a!==null){e:{var l=ge;if(Ne){if(Je){t:{for(var f=Je,d=Rn;f.nodeType!==8;){if(!d){f=null;break t}if(f=xn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Je=xn(f.nextSibling),l=f.data==="F!";break e}}es(l)}l=!1}l&&(s=a[0])}}return a=Vt(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:s},a.queue=l,a=g_.bind(null,ge,l),l.dispatch=a,l=Ed(!1),d=Nd.bind(null,ge,!1,l.queue),l=Vt(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=ER.bind(null,ge,f,d,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function Jy(n){var s=pt();return Zy(s,Ve,n)}function Zy(n,s,a){if(s=_d(n,s,Xy)[0],n=hc(bi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=ho(s)}catch(y){throw y===$r?ic:y}else l=s;s=pt();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(ge.flags|=2048,Xr(9,{destroy:void 0},bR.bind(null,f,a),null)),[l,d,n]}function bR(n,s){n.action=s}function e_(n){var s=pt(),a=Ve;if(a!==null)return Zy(s,a,n);pt(),s=s.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function Xr(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=ge.updateQueue,s===null&&(s=fc(),ge.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function t_(){return pt().memoizedState}function pc(n,s,a,l){var f=Vt();ge.flags|=n,f.memoizedState=Xr(1|s,{destroy:void 0},a,l===void 0?null:l)}function mc(n,s,a,l){var f=pt();l=l===void 0?null:l;var d=f.memoizedState.inst;Ve!==null&&l!==null&&dd(l,Ve.memoizedState.deps)?f.memoizedState=Xr(s,d,a,l):(ge.flags|=n,f.memoizedState=Xr(1|s,d,a,l))}function n_(n,s){pc(8390656,8,n,s)}function Sd(n,s){mc(2048,8,n,s)}function SR(n){ge.flags|=4;var s=ge.updateQueue;if(s===null)s=fc(),ge.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function i_(n){var s=pt().memoizedState;return SR({ref:s,nextImpl:n}),function(){if((ze&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function s_(n,s){return mc(4,2,n,s)}function r_(n,s){return mc(4,4,n,s)}function a_(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function o_(n,s,a){a=a!=null?a.concat([n]):null,mc(4,4,a_.bind(null,s,n),a)}function Td(){}function l_(n,s){var a=pt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&dd(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function c_(n,s){var a=pt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&dd(s,l[1]))return l[0];if(l=n(),Zs){Kt(!0);try{n()}finally{Kt(!1)}}return a.memoizedState=[l,s],l}function Cd(n,s,a){return a===void 0||(Ei&1073741824)!==0&&(Ce&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=uv(),ge.lanes|=n,cs|=n,a)}function u_(n,s,a,l){return an(a,s)?a:Yr.current!==null?(n=Cd(n,a,l),an(n,s)||(vt=!0),n):(Ei&42)===0||(Ei&1073741824)!==0&&(Ce&261930)===0?(vt=!0,n.memoizedState=a):(n=uv(),ge.lanes|=n,cs|=n,s)}function f_(n,s,a,l,f){var d=Y.p;Y.p=d!==0&&8>d?d:8;var y=B.T,S={};B.T=S,Nd(n,!1,s,a);try{var C=f(),D=B.S;if(D!==null&&D(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var P=yR(C,l);po(n,s,P,dn(n))}else po(n,s,l,dn(n))}catch($){po(n,s,{then:function(){},status:"rejected",reason:$},dn())}finally{Y.p=d,y!==null&&S.types!==null&&(y.types=S.types),B.T=y}}function TR(){}function wd(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=d_(n).queue;f_(n,f,s,W,a===null?TR:function(){return h_(n),a(l)})}function d_(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:W},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function h_(n){var s=d_(n);s.next===null&&(s=n.alternate.memoizedState),po(n,s.next.queue,{},dn())}function Rd(){return Dt(ko)}function p_(){return pt().memoizedState}function m_(){return pt().memoizedState}function CR(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=dn();n=is(a);var l=ss(s,n,a);l!==null&&(tn(l,s,a),lo(l,s,a)),s={cache:td()},n.payload=s;return}s=s.return}}function wR(n,s,a){var l=dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},gc(n)?y_(s,a):(a=Vf(n,s,a,l),a!==null&&(tn(a,n,l),__(a,s,l)))}function g_(n,s,a){var l=dn();po(n,s,a,l)}function po(n,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(n))y_(s,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var y=s.lastRenderedState,S=d(y,a);if(f.hasEagerState=!0,f.eagerState=S,an(S,y))return Xl(n,s,f,0),Qe===null&&Wl(),!1}catch{}if(a=Vf(n,s,f,l),a!==null)return tn(a,n,l),__(a,s,l),!0}return!1}function Nd(n,s,a,l){if(l={lane:2,revertLane:rh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},gc(n)){if(s)throw Error(r(479))}else s=Vf(n,a,l,2),s!==null&&tn(s,n,2)}function gc(n){var s=n.alternate;return n===ge||s!==null&&s===ge}function y_(n,s){Kr=cc=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function __(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Tg(n,a)}}var mo={readContext:Dt,use:dc,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};mo.useEffectEvent=ot;var v_={readContext:Dt,use:dc,useCallback:function(n,s){return Vt().memoizedState=[n,s===void 0?null:s],n},useContext:Dt,useEffect:n_,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,pc(4194308,4,a_.bind(null,s,n),a)},useLayoutEffect:function(n,s){return pc(4194308,4,n,s)},useInsertionEffect:function(n,s){pc(4,2,n,s)},useMemo:function(n,s){var a=Vt();s=s===void 0?null:s;var l=n();if(Zs){Kt(!0);try{n()}finally{Kt(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=Vt();if(a!==void 0){var f=a(s);if(Zs){Kt(!0);try{a(s)}finally{Kt(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=wR.bind(null,ge,n),[l.memoizedState,n]},useRef:function(n){var s=Vt();return n={current:n},s.memoizedState=n},useState:function(n){n=Ed(n);var s=n.queue,a=g_.bind(null,ge,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Td,useDeferredValue:function(n,s){var a=Vt();return Cd(a,n,s)},useTransition:function(){var n=Ed(!1);return n=f_.bind(null,ge,n.queue,!0,!1),Vt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=ge,f=Vt();if(Ne){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),Qe===null)throw Error(r(349));(Ce&127)!==0||Py(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,n_(qy.bind(null,l,d,n),[n]),l.flags|=2048,Xr(9,{destroy:void 0},Hy.bind(null,l,d,a,s),null),a},useId:function(){var n=Vt(),s=Qe.identifierPrefix;if(Ne){var a=Jn,l=Qn;a=(l&~(1<<32-Ft(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=uc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=_R++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Rd,useFormState:Qy,useActionState:Qy,useOptimistic:function(n){var s=Vt();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Nd.bind(null,ge,!0,a),a.dispatch=s,[n,s]},useMemoCache:yd,useCacheRefresh:function(){return Vt().memoizedState=CR.bind(null,ge)},useEffectEvent:function(n){var s=Vt(),a={impl:n};return s.memoizedState=a,function(){if((ze&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},xd={readContext:Dt,use:dc,useCallback:l_,useContext:Dt,useEffect:Sd,useImperativeHandle:o_,useInsertionEffect:s_,useLayoutEffect:r_,useMemo:c_,useReducer:hc,useRef:t_,useState:function(){return hc(bi)},useDebugValue:Td,useDeferredValue:function(n,s){var a=pt();return u_(a,Ve.memoizedState,n,s)},useTransition:function(){var n=hc(bi)[0],s=pt().memoizedState;return[typeof n=="boolean"?n:ho(n),s]},useSyncExternalStore:zy,useId:p_,useHostTransitionStatus:Rd,useFormState:Jy,useActionState:Jy,useOptimistic:function(n,s){var a=pt();return $y(a,Ve,n,s)},useMemoCache:yd,useCacheRefresh:m_};xd.useEffectEvent=i_;var E_={readContext:Dt,use:dc,useCallback:l_,useContext:Dt,useEffect:Sd,useImperativeHandle:o_,useInsertionEffect:s_,useLayoutEffect:r_,useMemo:c_,useReducer:vd,useRef:t_,useState:function(){return vd(bi)},useDebugValue:Td,useDeferredValue:function(n,s){var a=pt();return Ve===null?Cd(a,n,s):u_(a,Ve.memoizedState,n,s)},useTransition:function(){var n=vd(bi)[0],s=pt().memoizedState;return[typeof n=="boolean"?n:ho(n),s]},useSyncExternalStore:zy,useId:p_,useHostTransitionStatus:Rd,useFormState:e_,useActionState:e_,useOptimistic:function(n,s){var a=pt();return Ve!==null?$y(a,Ve,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:yd,useCacheRefresh:m_};E_.useEffectEvent=i_;function Ad(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:v({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Od={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=dn(),f=is(l);f.payload=s,a!=null&&(f.callback=a),s=ss(n,f,l),s!==null&&(tn(s,n,l),lo(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=dn(),f=is(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=ss(n,f,l),s!==null&&(tn(s,n,l),lo(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=dn(),l=is(a);l.tag=2,s!=null&&(l.callback=s),s=ss(n,l,a),s!==null&&(tn(s,n,a),lo(s,n,a))}};function b_(n,s,a,l,f,d,y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,y):s.prototype&&s.prototype.isPureReactComponent?!eo(a,l)||!eo(f,d):!0}function S_(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&Od.enqueueReplaceState(s,s.state,null)}function er(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=v({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function T_(n){Kl(n)}function C_(n){console.error(n)}function w_(n){Kl(n)}function yc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function R_(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function kd(n,s,a){return a=is(a),a.tag=3,a.payload={element:null},a.callback=function(){yc(n,s)},a}function N_(n){return n=is(n),n.tag=3,n}function x_(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){R_(s,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(n.callback=function(){R_(s,a,l),typeof f!="function"&&(us===null?us=new Set([this]):us.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function RR(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&qr(s,a,f,!0),a=ln.current,a!==null){switch(a.tag){case 31:case 13:return Nn===null?Ac():a.alternate===null&&lt===0&&(lt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===sc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),nh(n,l,f)),!1;case 22:return a.flags|=65536,l===sc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),nh(n,l,f)),!1}throw Error(r(435,a.tag))}return nh(n,l,f),Ac(),!1}if(Ne)return s=ln.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Xf&&(n=Error(r(422),{cause:l}),io(Tn(n,a)))):(l!==Xf&&(s=Error(r(423),{cause:l}),io(Tn(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Tn(l,a),f=kd(n.stateNode,l,f),od(n,f),lt!==4&&(lt=2)),!1;var d=Error(r(520),{cause:l});if(d=Tn(d,a),To===null?To=[d]:To.push(d),lt!==4&&(lt=2),s===null)return!0;l=Tn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=kd(a.stateNode,l,n),od(a,n),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(us===null||!us.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=N_(f),x_(f,n,a,l),od(a,f),!1}a=a.return}while(a!==null);return!1}var Dd=Error(r(461)),vt=!1;function It(n,s,a,l){s.child=n===null?Dy(s,null,a,l):Js(s,n.child,a,l)}function A_(n,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var y={};for(var S in l)S!=="ref"&&(y[S]=l[S])}else y=l;return Ks(s),l=hd(n,s,a,y,d,f),S=pd(),n!==null&&!vt?(md(n,s,f),Si(n,s,f)):(Ne&&S&&Kf(s),s.flags|=1,It(n,s,l,f),s.child)}function O_(n,s,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!$f(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,k_(n,s,d,l,f)):(n=Jl(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(d=n.child,!Pd(n,f)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:eo,a(y,l)&&n.ref===s.ref)return Si(n,s,f)}return s.flags|=1,n=gi(d,l),n.ref=s.ref,n.return=s,s.child=n}function k_(n,s,a,l,f){if(n!==null){var d=n.memoizedProps;if(eo(d,l)&&n.ref===s.ref)if(vt=!1,s.pendingProps=l=d,Pd(n,f))(n.flags&131072)!==0&&(vt=!0);else return s.lanes=n.lanes,Si(n,s,f)}return Id(n,s,a,l,f)}function D_(n,s,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=s.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return I_(n,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&nc(s,d!==null?d.cachePool:null),d!==null?Ly(s,d):cd(),jy(s);else return l=s.lanes=536870912,I_(n,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(nc(s,d.cachePool),Ly(s,d),as(),s.memoizedState=null):(n!==null&&nc(s,null),cd(),as());return It(n,s,f,a),s.child}function go(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function I_(n,s,a,l,f){var d=id();return d=d===null?null:{parent:yt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},n!==null&&nc(s,null),cd(),jy(s),n!==null&&qr(n,s,l,!0),s.childLanes=f,null}function _c(n,s){return s=Ec({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function M_(n,s,a){return Js(s,n.child,null,a),n=_c(s,s.pendingProps),n.flags|=2,cn(s),s.memoizedState=null,n}function NR(n,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ne){if(l.mode==="hidden")return n=_c(s,l),s.lanes=536870912,go(null,n);if(fd(s),(n=Je)?(n=Gv(n,Rn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ji!==null?{id:Qn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},a=yy(n),a.return=s,s.child=a,kt=s,Je=null)):n=null,n===null)throw es(s);return s.lanes=536870912,null}return _c(s,l)}var d=n.memoizedState;if(d!==null){var y=d.dehydrated;if(fd(s),f)if(s.flags&256)s.flags&=-257,s=M_(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(vt||qr(n,s,a,!1),f=(a&n.childLanes)!==0,vt||f){if(l=Qe,l!==null&&(y=Cg(l,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,Vs(n,y),tn(l,n,y),Dd;Ac(),s=M_(n,s,a)}else n=d.treeContext,Je=xn(y.nextSibling),kt=s,Ne=!0,Zi=null,Rn=!1,n!==null&&Ey(s,n),s=_c(s,l),s.flags|=4096;return s}return n=gi(n.child,{mode:l.mode,children:l.children}),n.ref=s.ref,s.child=n,n.return=s,n}function vc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Id(n,s,a,l,f){return Ks(s),a=hd(n,s,a,l,void 0,f),l=pd(),n!==null&&!vt?(md(n,s,f),Si(n,s,f)):(Ne&&l&&Kf(s),s.flags|=1,It(n,s,a,f),s.child)}function L_(n,s,a,l,f,d){return Ks(s),s.updateQueue=null,a=By(s,l,a,f),Uy(n),l=pd(),n!==null&&!vt?(md(n,s,d),Si(n,s,d)):(Ne&&l&&Kf(s),s.flags|=1,It(n,s,a,d),s.child)}function j_(n,s,a,l,f){if(Ks(s),s.stateNode===null){var d=Br,y=a.contextType;typeof y=="object"&&y!==null&&(d=Dt(y)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Od,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},rd(s),y=a.contextType,d.context=typeof y=="object"&&y!==null?Dt(y):Br,d.state=s.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Ad(s,a,y,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Od.enqueueReplaceState(d,d.state,null),uo(s,l,d,f),co(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){d=s.stateNode;var S=s.memoizedProps,C=er(a,S);d.props=C;var D=d.context,P=a.contextType;y=Br,typeof P=="object"&&P!==null&&(y=Dt(P));var $=a.getDerivedStateFromProps;P=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,P||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||D!==y)&&S_(s,d,l,y),ns=!1;var M=s.memoizedState;d.state=M,uo(s,l,d,f),co(),D=s.memoizedState,S||M!==D||ns?(typeof $=="function"&&(Ad(s,a,$,l),D=s.memoizedState),(C=ns||b_(s,a,C,l,M,D,y))?(P||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=D),d.props=l,d.state=D,d.context=y,l=C):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,ad(n,s),y=s.memoizedProps,P=er(a,y),d.props=P,$=s.pendingProps,M=d.context,D=a.contextType,C=Br,typeof D=="object"&&D!==null&&(C=Dt(D)),S=a.getDerivedStateFromProps,(D=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==$||M!==C)&&S_(s,d,l,C),ns=!1,M=s.memoizedState,d.state=M,uo(s,l,d,f),co();var j=s.memoizedState;y!==$||M!==j||ns||n!==null&&n.dependencies!==null&&ec(n.dependencies)?(typeof S=="function"&&(Ad(s,a,S,l),j=s.memoizedState),(P=ns||b_(s,a,P,l,M,j,C)||n!==null&&n.dependencies!==null&&ec(n.dependencies))?(D||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,j,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,j,C)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===n.memoizedProps&&M===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&M===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=j),d.props=l,d.state=j,d.context=C,l=P):(typeof d.componentDidUpdate!="function"||y===n.memoizedProps&&M===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&M===n.memoizedState||(s.flags|=1024),l=!1)}return d=l,vc(n,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,n!==null&&l?(s.child=Js(s,n.child,null,f),s.child=Js(s,null,a,f)):It(n,s,a,f),s.memoizedState=d.state,n=s.child):n=Si(n,s,f),n}function U_(n,s,a,l){return Gs(),s.flags|=256,It(n,s,a,l),s.child}var Md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ld(n){return{baseLanes:n,cachePool:Ry()}}function jd(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=fn),n}function B_(n,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,y;if((y=d)||(y=n!==null&&n.memoizedState===null?!1:(ht.current&2)!==0),y&&(f=!0,s.flags&=-129),y=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ne){if(f?rs(s):as(),(n=Je)?(n=Gv(n,Rn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ji!==null?{id:Qn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},a=yy(n),a.return=s,s.child=a,kt=s,Je=null)):n=null,n===null)throw es(s);return _h(n)?s.lanes=32:s.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(as(),f=s.mode,S=Ec({mode:"hidden",children:S},f),l=$s(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,l=s.child,l.memoizedState=Ld(a),l.childLanes=jd(n,y,a),s.memoizedState=Md,go(null,l)):(rs(s),Ud(s,S))}var C=n.memoizedState;if(C!==null&&(S=C.dehydrated,S!==null)){if(d)s.flags&256?(rs(s),s.flags&=-257,s=Bd(n,s,a)):s.memoizedState!==null?(as(),s.child=n.child,s.flags|=128,s=null):(as(),S=l.fallback,f=s.mode,l=Ec({mode:"visible",children:l.children},f),S=$s(S,f,a,null),S.flags|=2,l.return=s,S.return=s,l.sibling=S,s.child=l,Js(s,n.child,null,a),l=s.child,l.memoizedState=Ld(a),l.childLanes=jd(n,y,a),s.memoizedState=Md,s=go(null,l));else if(rs(s),_h(S)){if(y=S.nextSibling&&S.nextSibling.dataset,y)var D=y.dgst;y=D,l=Error(r(419)),l.stack="",l.digest=y,io({value:l,source:null,stack:null}),s=Bd(n,s,a)}else if(vt||qr(n,s,a,!1),y=(a&n.childLanes)!==0,vt||y){if(y=Qe,y!==null&&(l=Cg(y,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Vs(n,l),tn(y,n,l),Dd;yh(S)||Ac(),s=Bd(n,s,a)}else yh(S)?(s.flags|=192,s.child=n.child,s=null):(n=C.treeContext,Je=xn(S.nextSibling),kt=s,Ne=!0,Zi=null,Rn=!1,n!==null&&Ey(s,n),s=Ud(s,l.children),s.flags|=4096);return s}return f?(as(),S=l.fallback,f=s.mode,C=n.child,D=C.sibling,l=gi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,D!==null?S=gi(D,S):(S=$s(S,f,a,null),S.flags|=2),S.return=s,l.return=s,l.sibling=S,s.child=l,go(null,l),l=s.child,S=n.child.memoizedState,S===null?S=Ld(a):(f=S.cachePool,f!==null?(C=yt._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=Ry(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=jd(n,y,a),s.memoizedState=Md,go(n.child,l)):(rs(s),a=n.child,n=a.sibling,a=gi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(y=s.deletions,y===null?(s.deletions=[n],s.flags|=16):y.push(n)),s.child=a,s.memoizedState=null,a)}function Ud(n,s){return s=Ec({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Ec(n,s){return n=on(22,n,null,s),n.lanes=0,n}function Bd(n,s,a){return Js(s,n.child,null,a),n=Ud(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function z_(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),Zf(n.return,s,a)}function zd(n,s,a,l,f,d){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=f,y.treeForkCount=d)}function P_(n,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var y=ht.current,S=(y&2)!==0;if(S?(y=y&1|2,s.flags|=128):y&=1,K(ht,y),It(n,s,l,a),l=Ne?no:0,!S&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&z_(n,a,s);else if(n.tag===19)z_(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&lc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),zd(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&lc(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}zd(s,!0,a,null,d,l);break;case"together":zd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Si(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),cs|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(qr(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=gi(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=gi(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Pd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&ec(n)))}function xR(n,s,a){switch(s.tag){case 3:Xe(s,s.stateNode.containerInfo),ts(s,yt,n.memoizedState.cache),Gs();break;case 27:case 5:qt(s);break;case 4:Xe(s,s.stateNode.containerInfo);break;case 10:ts(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,fd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(rs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?B_(n,s,a):(rs(s),n=Si(n,s,a),n!==null?n.sibling:null);rs(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(qr(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return P_(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),K(ht,ht.current),l)break;return null;case 22:return s.lanes=0,D_(n,s,a,s.pendingProps);case 24:ts(s,yt,n.memoizedState.cache)}return Si(n,s,a)}function H_(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)vt=!0;else{if(!Pd(n,a)&&(s.flags&128)===0)return vt=!1,xR(n,s,a);vt=(n.flags&131072)!==0}else vt=!1,Ne&&(s.flags&1048576)!==0&&vy(s,no,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(n=Xs(s.elementType),s.type=n,typeof n=="function")$f(n)?(l=er(n,l),s.tag=1,s=j_(null,s,n,l,a)):(s.tag=0,s=Id(null,s,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===q){s.tag=11,s=A_(null,s,n,l,a);break e}else if(f===V){s.tag=14,s=O_(null,s,n,l,a);break e}}throw s=Ie(n)||n,Error(r(306,s,""))}}return s;case 0:return Id(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=er(l,s.pendingProps),j_(n,s,l,f,a);case 3:e:{if(Xe(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,ad(n,s),uo(s,l,null,a);var y=s.memoizedState;if(l=y.cache,ts(s,yt,l),l!==d.cache&&ed(s,[yt],a,!0),co(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=U_(n,s,l,a);break e}else if(l!==f){f=Tn(Error(r(424)),s),io(f),s=U_(n,s,l,a);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Je=xn(n.firstChild),kt=s,Ne=!0,Zi=null,Rn=!0,a=Dy(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Gs(),l===f){s=Si(n,s,a);break e}It(n,s,l,a)}s=s.child}return s;case 26:return vc(n,s),n===null?(a=Jv(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ne||(a=s.type,n=s.pendingProps,l=jc(ee.current).createElement(a),l[Ot]=s,l[Wt]=n,Mt(l,a,n),Ct(l),s.stateNode=l):s.memoizedState=Jv(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return qt(s),n===null&&Ne&&(l=s.stateNode=Wv(s.type,s.pendingProps,ee.current),kt=s,Rn=!0,f=Je,ps(s.type)?(vh=f,Je=xn(l.firstChild)):Je=f),It(n,s,s.pendingProps.children,a),vc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ne&&((f=l=Je)&&(l=sN(l,s.type,s.pendingProps,Rn),l!==null?(s.stateNode=l,kt=s,Je=xn(l.firstChild),Rn=!1,f=!0):f=!1),f||es(s)),qt(s),f=s.type,d=s.pendingProps,y=n!==null?n.memoizedProps:null,l=d.children,ph(f,d)?l=null:y!==null&&ph(f,y)&&(s.flags|=32),s.memoizedState!==null&&(f=hd(n,s,vR,null,null,a),ko._currentValue=f),vc(n,s),It(n,s,l,a),s.child;case 6:return n===null&&Ne&&((n=a=Je)&&(a=rN(a,s.pendingProps,Rn),a!==null?(s.stateNode=a,kt=s,Je=null,n=!0):n=!1),n||es(s)),null;case 13:return B_(n,s,a);case 4:return Xe(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=Js(s,null,l,a):It(n,s,l,a),s.child;case 11:return A_(n,s,s.type,s.pendingProps,a);case 7:return It(n,s,s.pendingProps,a),s.child;case 8:return It(n,s,s.pendingProps.children,a),s.child;case 12:return It(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,ts(s,s.type,l.value),It(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Ks(s),f=Dt(f),l=l(f),s.flags|=1,It(n,s,l,a),s.child;case 14:return O_(n,s,s.type,s.pendingProps,a);case 15:return k_(n,s,s.type,s.pendingProps,a);case 19:return P_(n,s,a);case 31:return NR(n,s,a);case 22:return D_(n,s,a,s.pendingProps);case 24:return Ks(s),l=Dt(yt),n===null?(f=id(),f===null&&(f=Qe,d=td(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},rd(s),ts(s,yt,f)):((n.lanes&a)!==0&&(ad(n,s),uo(s,null,null,a),co()),f=n.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),ts(s,yt,l)):(l=d.cache,ts(s,yt,l),l!==f.cache&&ed(s,[yt],a,!0))),It(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ti(n){n.flags|=4}function Hd(n,s,a,l,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(pv())n.flags|=8192;else throw Qs=sc,sd}else n.flags&=-16777217}function q_(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!iE(s))if(pv())n.flags|=8192;else throw Qs=sc,sd}function bc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?bg():536870912,n.lanes|=s,ea|=s)}function yo(n,s){if(!Ne)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Ze(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function AR(n,s,a){var l=s.pendingProps;switch(Wf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(s),null;case 1:return Ze(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),vi(yt),Pe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Hr(s)?Ti(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qf())),Ze(s),null;case 26:var f=s.type,d=s.memoizedState;return n===null?(Ti(s),d!==null?(Ze(s),q_(s,d)):(Ze(s),Hd(s,f,null,l,a))):d?d!==n.memoizedState?(Ti(s),Ze(s),q_(s,d)):(Ze(s),s.flags&=-16777217):(n=n.memoizedProps,n!==l&&Ti(s),Ze(s),Hd(s,f,n,l,a)),null;case 27:if(gt(s),a=ee.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Ti(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Ze(s),null}n=G.current,Hr(s)?by(s):(n=Wv(f,l,a),s.stateNode=n,Ti(s))}return Ze(s),null;case 5:if(gt(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&Ti(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Ze(s),null}if(d=G.current,Hr(s))by(s);else{var y=jc(ee.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(f,{is:l.is}):y.createElement(f)}}d[Ot]=s,d[Wt]=l;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=d;e:switch(Mt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ti(s)}}return Ze(s),Hd(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&Ti(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=ee.current,Hr(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=kt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Ot]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Bv(n.nodeValue,a)),n||es(s,!0)}else n=jc(n).createTextNode(l),n[Ot]=s,s.stateNode=n}return Ze(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(l=Hr(s),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Ot]=s}else Gs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ze(s),n=!1}else a=Qf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(cn(s),s):(cn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Ze(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Hr(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ot]=s}else Gs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ze(s),f=!1}else f=Qf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(cn(s),s):(cn(s),null)}return cn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),bc(s,s.updateQueue),Ze(s),null);case 4:return Pe(),n===null&&ch(s.stateNode.containerInfo),Ze(s),null;case 10:return vi(s.type),Ze(s),null;case 19:if(z(ht),l=s.memoizedState,l===null)return Ze(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)yo(l,!1);else{if(lt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(d=lc(n),d!==null){for(s.flags|=128,yo(l,!1),n=d.updateQueue,s.updateQueue=n,bc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)gy(a,n),a=a.sibling;return K(ht,ht.current&1|2),Ne&&yi(s,l.treeForkCount),s.child}n=n.sibling}l.tail!==null&&dt()>Rc&&(s.flags|=128,f=!0,yo(l,!1),s.lanes=4194304)}else{if(!f)if(n=lc(d),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,bc(s,n),yo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ne)return Ze(s),null}else 2*dt()-l.renderingStartTime>Rc&&a!==536870912&&(s.flags|=128,f=!0,yo(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(n=l.last,n!==null?n.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=dt(),n.sibling=null,a=ht.current,K(ht,f?a&1|2:a&1),Ne&&yi(s,l.treeForkCount),n):(Ze(s),null);case 22:case 23:return cn(s),ud(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Ze(s),s.subtreeFlags&6&&(s.flags|=8192)):Ze(s),a=s.updateQueue,a!==null&&bc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&z(Ws),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),vi(yt),Ze(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function OR(n,s){switch(Wf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return vi(yt),Pe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return gt(s),null;case 31:if(s.memoizedState!==null){if(cn(s),s.alternate===null)throw Error(r(340));Gs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(cn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Gs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return z(ht),null;case 4:return Pe(),null;case 10:return vi(s.type),null;case 22:case 23:return cn(s),ud(),n!==null&&z(Ws),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return vi(yt),null;case 25:return null;default:return null}}function F_(n,s){switch(Wf(s),s.tag){case 3:vi(yt),Pe();break;case 26:case 27:case 5:gt(s);break;case 4:Pe();break;case 31:s.memoizedState!==null&&cn(s);break;case 13:cn(s);break;case 19:z(ht);break;case 10:vi(s.type);break;case 22:case 23:cn(s),ud(),n!==null&&z(Ws);break;case 24:vi(yt)}}function _o(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==f)}}catch(S){Fe(s,s.return,S)}}function os(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var y=l.inst,S=y.destroy;if(S!==void 0){y.destroy=void 0,f=s;var C=a,D=S;try{D()}catch(P){Fe(f,C,P)}}}l=l.next}while(l!==d)}}catch(P){Fe(s,s.return,P)}}function V_(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{My(s,a)}catch(l){Fe(n,n.return,l)}}}function $_(n,s,a){a.props=er(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Fe(n,s,l)}}function vo(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Fe(n,s,f)}}function Zn(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Fe(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Fe(n,s,f)}else a.current=null}function G_(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Fe(n,n.return,f)}}function qd(n,s,a){try{var l=n.stateNode;JR(l,n.type,a,s),l[Wt]=s}catch(f){Fe(n,n.return,f)}}function Y_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ps(n.type)||n.tag===4}function Fd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Y_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ps(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Vd(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=pi));else if(l!==4&&(l===27&&ps(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(Vd(n,s,a),n=n.sibling;n!==null;)Vd(n,s,a),n=n.sibling}function Sc(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&ps(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Sc(n,s,a),n=n.sibling;n!==null;)Sc(n,s,a),n=n.sibling}function K_(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Mt(s,l,a),s[Ot]=n,s[Wt]=a}catch(d){Fe(n,n.return,d)}}var Ci=!1,Et=!1,$d=!1,W_=typeof WeakSet=="function"?WeakSet:Set,wt=null;function kR(n,s){if(n=n.containerInfo,dh=Fc,n=oy(n),Bf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var y=0,S=-1,C=-1,D=0,P=0,$=n,M=null;t:for(;;){for(var j;$!==a||f!==0&&$.nodeType!==3||(S=y+f),$!==d||l!==0&&$.nodeType!==3||(C=y+l),$.nodeType===3&&(y+=$.nodeValue.length),(j=$.firstChild)!==null;)M=$,$=j;for(;;){if($===n)break t;if(M===a&&++D===f&&(S=y),M===d&&++P===l&&(C=y),(j=$.nextSibling)!==null)break;$=M,M=$.parentNode}$=j}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(hh={focusedElem:n,selectionRange:a},Fc=!1,wt=s;wt!==null;)if(s=wt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,wt=n;else for(;wt!==null;){switch(s=wt,d=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Z=er(a.type,f);n=l.getSnapshotBeforeUpdate(Z,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ce){Fe(a,a.return,ce)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)gh(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":gh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,wt=n;break}wt=s.return}}function X_(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ri(n,a),l&4&&_o(5,a);break;case 1:if(Ri(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(y){Fe(a,a.return,y)}else{var f=er(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(y){Fe(a,a.return,y)}}l&64&&V_(a),l&512&&vo(a,a.return);break;case 3:if(Ri(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{My(n,s)}catch(y){Fe(a,a.return,y)}}break;case 27:s===null&&l&4&&K_(a);case 26:case 5:Ri(n,a),s===null&&l&4&&G_(a),l&512&&vo(a,a.return);break;case 12:Ri(n,a);break;case 31:Ri(n,a),l&4&&Z_(n,a);break;case 13:Ri(n,a),l&4&&ev(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=PR.bind(null,a),aN(n,a))));break;case 22:if(l=a.memoizedState!==null||Ci,!l){s=s!==null&&s.memoizedState!==null||Et,f=Ci;var d=Et;Ci=l,(Et=s)&&!d?Ni(n,a,(a.subtreeFlags&8772)!==0):Ri(n,a),Ci=f,Et=d}break;case 30:break;default:Ri(n,a)}}function Q_(n){var s=n.alternate;s!==null&&(n.alternate=null,Q_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&bf(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var it=null,Qt=!1;function wi(n,s,a){for(a=a.child;a!==null;)J_(n,s,a),a=a.sibling}function J_(n,s,a){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(Me,a)}catch{}switch(a.tag){case 26:Et||Zn(a,s),wi(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Et||Zn(a,s);var l=it,f=Qt;ps(a.type)&&(it=a.stateNode,Qt=!1),wi(n,s,a),xo(a.stateNode),it=l,Qt=f;break;case 5:Et||Zn(a,s);case 6:if(l=it,f=Qt,it=null,wi(n,s,a),it=l,Qt=f,it!==null)if(Qt)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){Fe(a,s,d)}else try{it.removeChild(a.stateNode)}catch(d){Fe(a,s,d)}break;case 18:it!==null&&(Qt?(n=it,Vv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),la(n)):Vv(it,a.stateNode));break;case 4:l=it,f=Qt,it=a.stateNode.containerInfo,Qt=!0,wi(n,s,a),it=l,Qt=f;break;case 0:case 11:case 14:case 15:os(2,a,s),Et||os(4,a,s),wi(n,s,a);break;case 1:Et||(Zn(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&$_(a,s,l)),wi(n,s,a);break;case 21:wi(n,s,a);break;case 22:Et=(l=Et)||a.memoizedState!==null,wi(n,s,a),Et=l;break;default:wi(n,s,a)}}function Z_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{la(n)}catch(a){Fe(s,s.return,a)}}}function ev(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{la(n)}catch(a){Fe(s,s.return,a)}}function DR(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new W_),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new W_),s;default:throw Error(r(435,n.tag))}}function Tc(n,s){var a=DR(n);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=HR.bind(null,n,l);l.then(f,f)}})}function Jt(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,y=s,S=y;e:for(;S!==null;){switch(S.tag){case 27:if(ps(S.type)){it=S.stateNode,Qt=!1;break e}break;case 5:it=S.stateNode,Qt=!1;break e;case 3:case 4:it=S.stateNode.containerInfo,Qt=!0;break e}S=S.return}if(it===null)throw Error(r(160));J_(d,y,f),it=null,Qt=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)tv(s,n),s=s.sibling}var Un=null;function tv(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Jt(s,n),Zt(n),l&4&&(os(3,n,n.return),_o(3,n),os(5,n,n.return));break;case 1:Jt(s,n),Zt(n),l&512&&(Et||a===null||Zn(a,a.return)),l&64&&Ci&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Un;if(Jt(s,n),Zt(n),l&512&&(Et||a===null||Zn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[$a]||d[Ot]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Mt(d,l,a),d[Ot]=n,Ct(d),l=d;break e;case"link":var y=tE("link","href",f).get(l+(a.href||""));if(y){for(var S=0;S<y.length;S++)if(d=y[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(S,1);break t}}d=f.createElement(l),Mt(d,l,a),f.head.appendChild(d);break;case"meta":if(y=tE("meta","content",f).get(l+(a.content||""))){for(S=0;S<y.length;S++)if(d=y[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(S,1);break t}}d=f.createElement(l),Mt(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Ot]=n,Ct(d),l=d}n.stateNode=l}else nE(f,n.type,n.stateNode);else n.stateNode=eE(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?nE(f,n.type,n.stateNode):eE(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&qd(n,n.memoizedProps,a.memoizedProps)}break;case 27:Jt(s,n),Zt(n),l&512&&(Et||a===null||Zn(a,a.return)),a!==null&&l&4&&qd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Jt(s,n),Zt(n),l&512&&(Et||a===null||Zn(a,a.return)),n.flags&32){f=n.stateNode;try{kr(f,"")}catch(Z){Fe(n,n.return,Z)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,qd(n,f,a!==null?a.memoizedProps:f)),l&1024&&($d=!0);break;case 6:if(Jt(s,n),Zt(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(Z){Fe(n,n.return,Z)}}break;case 3:if(zc=null,f=Un,Un=Uc(s.containerInfo),Jt(s,n),Un=f,Zt(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{la(s.containerInfo)}catch(Z){Fe(n,n.return,Z)}$d&&($d=!1,nv(n));break;case 4:l=Un,Un=Uc(n.stateNode.containerInfo),Jt(s,n),Zt(n),Un=l;break;case 12:Jt(s,n),Zt(n);break;case 31:Jt(s,n),Zt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Tc(n,l)));break;case 13:Jt(s,n),Zt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wc=dt()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Tc(n,l)));break;case 22:f=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,D=Ci,P=Et;if(Ci=D||f,Et=P||C,Jt(s,n),Et=P,Ci=D,Zt(n),l&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||C||Ci||Et||tr(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){C=a=s;try{if(d=C.stateNode,f)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=C.stateNode;var $=C.memoizedProps.style,M=$!=null&&$.hasOwnProperty("display")?$.display:null;S.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(Z){Fe(C,C.return,Z)}}}else if(s.tag===6){if(a===null){C=s;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(Z){Fe(C,C.return,Z)}}}else if(s.tag===18){if(a===null){C=s;try{var j=C.stateNode;f?$v(j,!0):$v(C.stateNode,!1)}catch(Z){Fe(C,C.return,Z)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Tc(n,a))));break;case 19:Jt(s,n),Zt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Tc(n,l)));break;case 30:break;case 21:break;default:Jt(s,n),Zt(n)}}function Zt(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(Y_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Fd(n);Sc(n,d,f);break;case 5:var y=a.stateNode;a.flags&32&&(kr(y,""),a.flags&=-33);var S=Fd(n);Sc(n,S,y);break;case 3:case 4:var C=a.stateNode.containerInfo,D=Fd(n);Vd(n,D,C);break;default:throw Error(r(161))}}catch(P){Fe(n,n.return,P)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function nv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;nv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ri(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)X_(n,s.alternate,s),s=s.sibling}function tr(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:os(4,s,s.return),tr(s);break;case 1:Zn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&$_(s,s.return,a),tr(s);break;case 27:xo(s.stateNode);case 26:case 5:Zn(s,s.return),tr(s);break;case 22:s.memoizedState===null&&tr(s);break;case 30:tr(s);break;default:tr(s)}n=n.sibling}}function Ni(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,d=s,y=d.flags;switch(d.tag){case 0:case 11:case 15:Ni(f,d,a),_o(4,d);break;case 1:if(Ni(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(D){Fe(l,l.return,D)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)Iy(C[f],S)}catch(D){Fe(l,l.return,D)}}a&&y&64&&V_(d),vo(d,d.return);break;case 27:K_(d);case 26:case 5:Ni(f,d,a),a&&l===null&&y&4&&G_(d),vo(d,d.return);break;case 12:Ni(f,d,a);break;case 31:Ni(f,d,a),a&&y&4&&Z_(f,d);break;case 13:Ni(f,d,a),a&&y&4&&ev(f,d);break;case 22:d.memoizedState===null&&Ni(f,d,a),vo(d,d.return);break;case 30:break;default:Ni(f,d,a)}s=s.sibling}}function Gd(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&so(a))}function Yd(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&so(n))}function Bn(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)iv(n,s,a,l),s=s.sibling}function iv(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Bn(n,s,a,l),f&2048&&_o(9,s);break;case 1:Bn(n,s,a,l);break;case 3:Bn(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&so(n)));break;case 12:if(f&2048){Bn(n,s,a,l),n=s.stateNode;try{var d=s.memoizedProps,y=d.id,S=d.onPostCommit;typeof S=="function"&&S(y,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){Fe(s,s.return,C)}}else Bn(n,s,a,l);break;case 31:Bn(n,s,a,l);break;case 13:Bn(n,s,a,l);break;case 23:break;case 22:d=s.stateNode,y=s.alternate,s.memoizedState!==null?d._visibility&2?Bn(n,s,a,l):Eo(n,s):d._visibility&2?Bn(n,s,a,l):(d._visibility|=2,Qr(n,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Gd(y,s);break;case 24:Bn(n,s,a,l),f&2048&&Yd(s.alternate,s);break;default:Bn(n,s,a,l)}}function Qr(n,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=n,y=s,S=a,C=l,D=y.flags;switch(y.tag){case 0:case 11:case 15:Qr(d,y,S,C,f),_o(8,y);break;case 23:break;case 22:var P=y.stateNode;y.memoizedState!==null?P._visibility&2?Qr(d,y,S,C,f):Eo(d,y):(P._visibility|=2,Qr(d,y,S,C,f)),f&&D&2048&&Gd(y.alternate,y);break;case 24:Qr(d,y,S,C,f),f&&D&2048&&Yd(y.alternate,y);break;default:Qr(d,y,S,C,f)}s=s.sibling}}function Eo(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Eo(a,l),f&2048&&Gd(l.alternate,l);break;case 24:Eo(a,l),f&2048&&Yd(l.alternate,l);break;default:Eo(a,l)}s=s.sibling}}var bo=8192;function Jr(n,s,a){if(n.subtreeFlags&bo)for(n=n.child;n!==null;)sv(n,s,a),n=n.sibling}function sv(n,s,a){switch(n.tag){case 26:Jr(n,s,a),n.flags&bo&&n.memoizedState!==null&&_N(a,Un,n.memoizedState,n.memoizedProps);break;case 5:Jr(n,s,a);break;case 3:case 4:var l=Un;Un=Uc(n.stateNode.containerInfo),Jr(n,s,a),Un=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=bo,bo=16777216,Jr(n,s,a),bo=l):Jr(n,s,a));break;default:Jr(n,s,a)}}function rv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function So(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];wt=l,ov(l,n)}rv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)av(n),n=n.sibling}function av(n){switch(n.tag){case 0:case 11:case 15:So(n),n.flags&2048&&os(9,n,n.return);break;case 3:So(n);break;case 12:So(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Cc(n)):So(n);break;default:So(n)}}function Cc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];wt=l,ov(l,n)}rv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:os(8,s,s.return),Cc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Cc(s));break;default:Cc(s)}n=n.sibling}}function ov(n,s){for(;wt!==null;){var a=wt;switch(a.tag){case 0:case 11:case 15:os(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:so(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,wt=l;else e:for(a=n;wt!==null;){l=wt;var f=l.sibling,d=l.return;if(Q_(l),l===a){wt=null;break e}if(f!==null){f.return=d,wt=f;break e}wt=d}}}var IR={getCacheForType:function(n){var s=Dt(yt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return Dt(yt).controller.signal}},MR=typeof WeakMap=="function"?WeakMap:Map,ze=0,Qe=null,Ee=null,Ce=0,qe=0,un=null,ls=!1,Zr=!1,Kd=!1,xi=0,lt=0,cs=0,nr=0,Wd=0,fn=0,ea=0,To=null,en=null,Xd=!1,wc=0,lv=0,Rc=1/0,Nc=null,us=null,St=0,fs=null,ta=null,Ai=0,Qd=0,Jd=null,cv=null,Co=0,Zd=null;function dn(){return(ze&2)!==0&&Ce!==0?Ce&-Ce:B.T!==null?rh():wg()}function uv(){if(fn===0)if((Ce&536870912)===0||Ne){var n=Ll;Ll<<=1,(Ll&3932160)===0&&(Ll=262144),fn=n}else fn=536870912;return n=ln.current,n!==null&&(n.flags|=32),fn}function tn(n,s,a){(n===Qe&&(qe===2||qe===9)||n.cancelPendingCommit!==null)&&(na(n,0),ds(n,Ce,fn,!1)),Va(n,a),((ze&2)===0||n!==Qe)&&(n===Qe&&((ze&2)===0&&(nr|=a),lt===4&&ds(n,Ce,fn,!1)),ei(n))}function fv(n,s,a){if((ze&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&n.expiredLanes)===0||Fa(n,s),f=l?UR(n,s):th(n,s,!0),d=l;do{if(f===0){Zr&&!l&&ds(n,s,0,!1);break}else{if(a=n.current.alternate,d&&!LR(a)){f=th(n,s,!1),d=!1;continue}if(f===2){if(d=s,n.errorRecoveryDisabledLanes&d)var y=0;else y=n.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){s=y;e:{var S=n;f=To;var C=S.current.memoizedState.isDehydrated;if(C&&(na(S,y).flags|=256),y=th(S,y,!1),y!==2){if(Kd&&!C){S.errorRecoveryDisabledLanes|=d,nr|=d,f=4;break e}d=en,en=f,d!==null&&(en===null?en=d:en.push.apply(en,d))}f=y}if(d=!1,f!==2)continue}}if(f===1){na(n,0),ds(n,s,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ds(l,s,fn,!ls);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=wc+300-dt(),10<f)){if(ds(l,s,fn,!ls),Ul(l,0,!0)!==0)break e;Ai=s,l.timeoutHandle=qv(dv.bind(null,l,a,en,Nc,Xd,s,fn,nr,ea,ls,d,"Throttled",-0,0),f);break e}dv(l,a,en,Nc,Xd,s,fn,nr,ea,ls,d,null,-0,0)}}break}while(!0);ei(n)}function dv(n,s,a,l,f,d,y,S,C,D,P,$,M,j){if(n.timeoutHandle=-1,$=s.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},sv(s,d,$);var Z=(d&62914560)===d?wc-dt():(d&4194048)===d?lv-dt():0;if(Z=vN($,Z),Z!==null){Ai=d,n.cancelPendingCommit=Z(Ev.bind(null,n,s,d,a,l,f,y,S,C,P,$,null,M,j)),ds(n,d,y,!D);return}}Ev(n,s,d,a,l,f,y,S,C)}function LR(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!an(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ds(n,s,a,l){s&=~Wd,s&=~nr,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var d=31-Ft(f),y=1<<d;l[d]=-1,f&=~y}a!==0&&Sg(n,a,s)}function xc(){return(ze&6)===0?(wo(0),!1):!0}function eh(){if(Ee!==null){if(qe===0)var n=Ee.return;else n=Ee,_i=Ys=null,gd(n),Gr=null,ao=0,n=Ee;for(;n!==null;)F_(n.alternate,n),n=n.return;Ee=null}}function na(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,tN(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Ai=0,eh(),Qe=n,Ee=a=gi(n.current,null),Ce=s,qe=0,un=null,ls=!1,Zr=Fa(n,s),Kd=!1,ea=fn=Wd=nr=cs=lt=0,en=To=null,Xd=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-Ft(l),d=1<<f;s|=n[f],l&=~d}return xi=s,Wl(),a}function hv(n,s){ge=null,B.H=mo,s===$r||s===ic?(s=Ay(),qe=3):s===sd?(s=Ay(),qe=4):qe=s===Dd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,un=s,Ee===null&&(lt=1,yc(n,Tn(s,n.current)))}function pv(){var n=ln.current;return n===null?!0:(Ce&4194048)===Ce?Nn===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?n===Nn:!1}function mv(){var n=B.H;return B.H=mo,n===null?mo:n}function gv(){var n=B.A;return B.A=IR,n}function Ac(){lt=4,ls||(Ce&4194048)!==Ce&&ln.current!==null||(Zr=!0),(cs&134217727)===0&&(nr&134217727)===0||Qe===null||ds(Qe,Ce,fn,!1)}function th(n,s,a){var l=ze;ze|=2;var f=mv(),d=gv();(Qe!==n||Ce!==s)&&(Nc=null,na(n,s)),s=!1;var y=lt;e:do try{if(qe!==0&&Ee!==null){var S=Ee,C=un;switch(qe){case 8:eh(),y=6;break e;case 3:case 2:case 9:case 6:ln.current===null&&(s=!0);var D=qe;if(qe=0,un=null,ia(n,S,C,D),a&&Zr){y=0;break e}break;default:D=qe,qe=0,un=null,ia(n,S,C,D)}}jR(),y=lt;break}catch(P){hv(n,P)}while(!0);return s&&n.shellSuspendCounter++,_i=Ys=null,ze=l,B.H=f,B.A=d,Ee===null&&(Qe=null,Ce=0,Wl()),y}function jR(){for(;Ee!==null;)yv(Ee)}function UR(n,s){var a=ze;ze|=2;var l=mv(),f=gv();Qe!==n||Ce!==s?(Nc=null,Rc=dt()+500,na(n,s)):Zr=Fa(n,s);e:do try{if(qe!==0&&Ee!==null){s=Ee;var d=un;t:switch(qe){case 1:qe=0,un=null,ia(n,s,d,1);break;case 2:case 9:if(Ny(d)){qe=0,un=null,_v(s);break}s=function(){qe!==2&&qe!==9||Qe!==n||(qe=7),ei(n)},d.then(s,s);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:Ny(d)?(qe=0,un=null,_v(s)):(qe=0,un=null,ia(n,s,d,7));break;case 5:var y=null;switch(Ee.tag){case 26:y=Ee.memoizedState;case 5:case 27:var S=Ee;if(y?iE(y):S.stateNode.complete){qe=0,un=null;var C=S.sibling;if(C!==null)Ee=C;else{var D=S.return;D!==null?(Ee=D,Oc(D)):Ee=null}break t}}qe=0,un=null,ia(n,s,d,5);break;case 6:qe=0,un=null,ia(n,s,d,6);break;case 8:eh(),lt=6;break e;default:throw Error(r(462))}}BR();break}catch(P){hv(n,P)}while(!0);return _i=Ys=null,B.H=l,B.A=f,ze=a,Ee!==null?0:(Qe=null,Ce=0,Wl(),lt)}function BR(){for(;Ee!==null&&!qa();)yv(Ee)}function yv(n){var s=H_(n.alternate,n,xi);n.memoizedProps=n.pendingProps,s===null?Oc(n):Ee=s}function _v(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=L_(a,s,s.pendingProps,s.type,void 0,Ce);break;case 11:s=L_(a,s,s.pendingProps,s.type.render,s.ref,Ce);break;case 5:gd(s);default:F_(a,s),s=Ee=gy(s,xi),s=H_(a,s,xi)}n.memoizedProps=n.pendingProps,s===null?Oc(n):Ee=s}function ia(n,s,a,l){_i=Ys=null,gd(s),Gr=null,ao=0;var f=s.return;try{if(RR(n,f,s,a,Ce)){lt=1,yc(n,Tn(a,n.current)),Ee=null;return}}catch(d){if(f!==null)throw Ee=f,d;lt=1,yc(n,Tn(a,n.current)),Ee=null;return}s.flags&32768?(Ne||l===1?n=!0:Zr||(Ce&536870912)!==0?n=!1:(ls=n=!0,(l===2||l===9||l===3||l===6)&&(l=ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),vv(s,n)):Oc(s)}function Oc(n){var s=n;do{if((s.flags&32768)!==0){vv(s,ls);return}n=s.return;var a=AR(s.alternate,s,xi);if(a!==null){Ee=a;return}if(s=s.sibling,s!==null){Ee=s;return}Ee=s=n}while(s!==null);lt===0&&(lt=5)}function vv(n,s){do{var a=OR(n.alternate,n);if(a!==null){a.flags&=32767,Ee=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Ee=n;return}Ee=n=a}while(n!==null);lt=6,Ee=null}function Ev(n,s,a,l,f,d,y,S,C){n.cancelPendingCommit=null;do kc();while(St!==0);if((ze&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=Ff,y1(n,a,d,y,S,C),n===Qe&&(Ee=Qe=null,Ce=0),ta=s,fs=n,Ai=a,Qd=d,Jd=f,cv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,qR(di,function(){return wv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,f=Y.p,Y.p=2,y=ze,ze|=4;try{kR(n,s,a)}finally{ze=y,Y.p=f,B.T=l}}St=1,bv(),Sv(),Tv()}}function bv(){if(St===1){St=0;var n=fs,s=ta,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var l=Y.p;Y.p=2;var f=ze;ze|=4;try{tv(s,n);var d=hh,y=oy(n.containerInfo),S=d.focusedElem,C=d.selectionRange;if(y!==S&&S&&S.ownerDocument&&ay(S.ownerDocument.documentElement,S)){if(C!==null&&Bf(S)){var D=C.start,P=C.end;if(P===void 0&&(P=D),"selectionStart"in S)S.selectionStart=D,S.selectionEnd=Math.min(P,S.value.length);else{var $=S.ownerDocument||document,M=$&&$.defaultView||window;if(M.getSelection){var j=M.getSelection(),Z=S.textContent.length,ce=Math.min(C.start,Z),Ge=C.end===void 0?ce:Math.min(C.end,Z);!j.extend&&ce>Ge&&(y=Ge,Ge=ce,ce=y);var A=ry(S,ce),R=ry(S,Ge);if(A&&R&&(j.rangeCount!==1||j.anchorNode!==A.node||j.anchorOffset!==A.offset||j.focusNode!==R.node||j.focusOffset!==R.offset)){var k=$.createRange();k.setStart(A.node,A.offset),j.removeAllRanges(),ce>Ge?(j.addRange(k),j.extend(R.node,R.offset)):(k.setEnd(R.node,R.offset),j.addRange(k))}}}}for($=[],j=S;j=j.parentNode;)j.nodeType===1&&$.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<$.length;S++){var F=$[S];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Fc=!!dh,hh=dh=null}finally{ze=f,Y.p=l,B.T=a}}n.current=s,St=2}}function Sv(){if(St===2){St=0;var n=fs,s=ta,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var l=Y.p;Y.p=2;var f=ze;ze|=4;try{X_(n,s.alternate,s)}finally{ze=f,Y.p=l,B.T=a}}St=3}}function Tv(){if(St===4||St===3){St=0,Sr();var n=fs,s=ta,a=Ai,l=cv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?St=5:(St=0,ta=fs=null,Cv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(us=null),vf(a),s=s.stateNode,at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(Me,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=B.T,f=Y.p,Y.p=2,B.T=null;try{for(var d=n.onRecoverableError,y=0;y<l.length;y++){var S=l[y];d(S.value,{componentStack:S.stack})}}finally{B.T=s,Y.p=f}}(Ai&3)!==0&&kc(),ei(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===Zd?Co++:(Co=0,Zd=n):Co=0,wo(0)}}function Cv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,so(s)))}function kc(){return bv(),Sv(),Tv(),wv()}function wv(){if(St!==5)return!1;var n=fs,s=Qd;Qd=0;var a=vf(Ai),l=B.T,f=Y.p;try{Y.p=32>a?32:a,B.T=null,a=Jd,Jd=null;var d=fs,y=Ai;if(St=0,ta=fs=null,Ai=0,(ze&6)!==0)throw Error(r(331));var S=ze;if(ze|=4,av(d.current),iv(d,d.current,y,a),ze=S,wo(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(Me,d)}catch{}return!0}finally{Y.p=f,B.T=l,Cv(n,s)}}function Rv(n,s,a){s=Tn(a,s),s=kd(n.stateNode,s,2),n=ss(n,s,2),n!==null&&(Va(n,2),ei(n))}function Fe(n,s,a){if(n.tag===3)Rv(n,n,a);else for(;s!==null;){if(s.tag===3){Rv(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(us===null||!us.has(l))){n=Tn(a,n),a=N_(2),l=ss(s,a,2),l!==null&&(x_(a,l,s,n),Va(l,2),ei(l));break}}s=s.return}}function nh(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new MR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Kd=!0,f.add(a),n=zR.bind(null,n,s,a),s.then(n,n))}function zR(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Qe===n&&(Ce&a)===a&&(lt===4||lt===3&&(Ce&62914560)===Ce&&300>dt()-wc?(ze&2)===0&&na(n,0):Wd|=a,ea===Ce&&(ea=0)),ei(n)}function Nv(n,s){s===0&&(s=bg()),n=Vs(n,s),n!==null&&(Va(n,s),ei(n))}function PR(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Nv(n,a)}function HR(n,s){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),Nv(n,a)}function qR(n,s){return Us(n,s)}var Dc=null,sa=null,ih=!1,Ic=!1,sh=!1,hs=0;function ei(n){n!==sa&&n.next===null&&(sa===null?Dc=sa=n:sa=sa.next=n),Ic=!0,ih||(ih=!0,VR())}function wo(n,s){if(!sh&&Ic){sh=!0;do for(var a=!1,l=Dc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var y=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Ft(42|n)+1)-1,d&=f&~(y&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,kv(l,d))}else d=Ce,d=Ul(l,l===Qe?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fa(l,d)||(a=!0,kv(l,d));l=l.next}while(a);sh=!1}}function FR(){xv()}function xv(){Ic=ih=!1;var n=0;hs!==0&&eN()&&(n=hs);for(var s=dt(),a=null,l=Dc;l!==null;){var f=l.next,d=Av(l,s);d===0?(l.next=null,a===null?Dc=f:a.next=f,f===null&&(sa=a)):(a=l,(n!==0||(d&3)!==0)&&(Ic=!0)),l=f}St!==0&&St!==5||wo(n),hs!==0&&(hs=0)}function Av(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var y=31-Ft(d),S=1<<y,C=f[y];C===-1?((S&a)===0||(S&l)!==0)&&(f[y]=g1(S,s)):C<=s&&(n.expiredLanes|=S),d&=~S}if(s=Qe,a=Ce,a=Ul(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(qe===2||qe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Bs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Fa(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Bs(l),vf(a)){case 2:case 8:a=Ln;break;case 32:a=di;break;case 268435456:a=Cr;break;default:a=di}return l=Ov.bind(null,n),a=Us(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Bs(l),n.callbackPriority=2,n.callbackNode=null,2}function Ov(n,s){if(St!==0&&St!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(kc()&&n.callbackNode!==a)return null;var l=Ce;return l=Ul(n,n===Qe?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(fv(n,l,s),Av(n,dt()),n.callbackNode!=null&&n.callbackNode===a?Ov.bind(null,n):null)}function kv(n,s){if(kc())return null;fv(n,s,!0)}function VR(){nN(function(){(ze&6)!==0?Us(Re,FR):xv()})}function rh(){if(hs===0){var n=Fr;n===0&&(n=Ml,Ml<<=1,(Ml&261888)===0&&(Ml=256)),hs=n}return hs}function Dv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Hl(""+n)}function Iv(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function $R(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=Dv((f[Wt]||null).action),y=l.submitter;y&&(s=(s=y[Wt]||null)?Dv(s.formAction):y.getAttribute("formAction"),s!==null&&(d=s,y=null));var S=new $l("action","action",null,l,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(hs!==0){var C=y?Iv(f,y):new FormData(f);wd(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(S.preventDefault(),C=y?Iv(f,y):new FormData(f),wd(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var ah=0;ah<qf.length;ah++){var oh=qf[ah],GR=oh.toLowerCase(),YR=oh[0].toUpperCase()+oh.slice(1);jn(GR,"on"+YR)}jn(uy,"onAnimationEnd"),jn(fy,"onAnimationIteration"),jn(dy,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(cR,"onTransitionRun"),jn(uR,"onTransitionStart"),jn(fR,"onTransitionCancel"),jn(hy,"onTransitionEnd"),Ar("onMouseEnter",["mouseout","mouseover"]),Ar("onMouseLeave",["mouseout","mouseover"]),Ar("onPointerEnter",["pointerout","pointerover"]),Ar("onPointerLeave",["pointerout","pointerover"]),Ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ps("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function Mv(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var y=l.length-1;0<=y;y--){var S=l[y],C=S.instance,D=S.currentTarget;if(S=S.listener,C!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=D;try{d(f)}catch(P){Kl(P)}f.currentTarget=null,d=C}else for(y=0;y<l.length;y++){if(S=l[y],C=S.instance,D=S.currentTarget,S=S.listener,C!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=D;try{d(f)}catch(P){Kl(P)}f.currentTarget=null,d=C}}}}function be(n,s){var a=s[Ef];a===void 0&&(a=s[Ef]=new Set);var l=n+"__bubble";a.has(l)||(Lv(s,n,2,!1),a.add(l))}function lh(n,s,a){var l=0;s&&(l|=4),Lv(a,n,l,s)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function ch(n){if(!n[Mc]){n[Mc]=!0,xg.forEach(function(a){a!=="selectionchange"&&(KR.has(a)||lh(a,!1,n),lh(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Mc]||(s[Mc]=!0,lh("selectionchange",!1,s))}}function Lv(n,s,a,l){switch(uE(s)){case 2:var f=SN;break;case 8:f=TN;break;default:f=Ch}a=f.bind(null,s,a,n),f=void 0,!Af||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function uh(n,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var S=l.stateNode.containerInfo;if(S===f)break;if(y===4)for(y=l.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;S!==null;){if(y=Rr(S),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){l=d=y;continue e}S=S.parentNode}}l=l.return}Pg(function(){var D=d,P=Nf(a),$=[];e:{var M=py.get(n);if(M!==void 0){var j=$l,Z=n;switch(n){case"keypress":if(Fl(a)===0)break e;case"keydown":case"keyup":j=H1;break;case"focusin":Z="focus",j=If;break;case"focusout":Z="blur",j=If;break;case"beforeblur":case"afterblur":j=If;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Fg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=A1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=V1;break;case uy:case fy:case dy:j=D1;break;case hy:j=G1;break;case"scroll":case"scrollend":j=N1;break;case"wheel":j=K1;break;case"copy":case"cut":case"paste":j=M1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=$g;break;case"toggle":case"beforetoggle":j=X1}var ce=(s&4)!==0,Ge=!ce&&(n==="scroll"||n==="scrollend"),A=ce?M!==null?M+"Capture":null:M;ce=[];for(var R=D,k;R!==null;){var F=R;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||A===null||(F=Ya(R,A),F!=null&&ce.push(No(R,F,k))),Ge)break;R=R.return}0<ce.length&&(M=new j(M,Z,null,a,P),$.push({event:M,listeners:ce}))}}if((s&7)===0){e:{if(M=n==="mouseover"||n==="pointerover",j=n==="mouseout"||n==="pointerout",M&&a!==Rf&&(Z=a.relatedTarget||a.fromElement)&&(Rr(Z)||Z[wr]))break e;if((j||M)&&(M=P.window===P?P:(M=P.ownerDocument)?M.defaultView||M.parentWindow:window,j?(Z=a.relatedTarget||a.toElement,j=D,Z=Z?Rr(Z):null,Z!==null&&(Ge=c(Z),ce=Z.tag,Z!==Ge||ce!==5&&ce!==27&&ce!==6)&&(Z=null)):(j=null,Z=D),j!==Z)){if(ce=Fg,F="onMouseLeave",A="onMouseEnter",R="mouse",(n==="pointerout"||n==="pointerover")&&(ce=$g,F="onPointerLeave",A="onPointerEnter",R="pointer"),Ge=j==null?M:Ga(j),k=Z==null?M:Ga(Z),M=new ce(F,R+"leave",j,a,P),M.target=Ge,M.relatedTarget=k,F=null,Rr(P)===D&&(ce=new ce(A,R+"enter",Z,a,P),ce.target=k,ce.relatedTarget=Ge,F=ce),Ge=F,j&&Z)t:{for(ce=WR,A=j,R=Z,k=0,F=A;F;F=ce(F))k++;F=0;for(var le=R;le;le=ce(le))F++;for(;0<k-F;)A=ce(A),k--;for(;0<F-k;)R=ce(R),F--;for(;k--;){if(A===R||R!==null&&A===R.alternate){ce=A;break t}A=ce(A),R=ce(R)}ce=null}else ce=null;j!==null&&jv($,M,j,ce,!1),Z!==null&&Ge!==null&&jv($,Ge,Z,ce,!0)}}e:{if(M=D?Ga(D):window,j=M.nodeName&&M.nodeName.toLowerCase(),j==="select"||j==="input"&&M.type==="file")var Le=Zg;else if(Qg(M))if(ey)Le=aR;else{Le=sR;var te=iR}else j=M.nodeName,!j||j.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?D&&wf(D.elementType)&&(Le=Zg):Le=rR;if(Le&&(Le=Le(n,D))){Jg($,Le,a,P);break e}te&&te(n,M,D),n==="focusout"&&D&&M.type==="number"&&D.memoizedProps.value!=null&&Cf(M,"number",M.value)}switch(te=D?Ga(D):window,n){case"focusin":(Qg(te)||te.contentEditable==="true")&&(Lr=te,zf=D,to=null);break;case"focusout":to=zf=Lr=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,ly($,a,P);break;case"selectionchange":if(lR)break;case"keydown":case"keyup":ly($,a,P)}var ye;if(Lf)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Mr?Wg(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(Gg&&a.locale!=="ko"&&(Mr||we!=="onCompositionStart"?we==="onCompositionEnd"&&Mr&&(ye=Hg()):(Qi=P,Of="value"in Qi?Qi.value:Qi.textContent,Mr=!0)),te=Lc(D,we),0<te.length&&(we=new Vg(we,n,null,a,P),$.push({event:we,listeners:te}),ye?we.data=ye:(ye=Xg(a),ye!==null&&(we.data=ye)))),(ye=J1?Z1(n,a):eR(n,a))&&(we=Lc(D,"onBeforeInput"),0<we.length&&(te=new Vg("onBeforeInput","beforeinput",null,a,P),$.push({event:te,listeners:we}),te.data=ye)),$R($,n,D,a,P)}Mv($,s)})}function No(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Lc(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ya(n,a),f!=null&&l.unshift(No(n,f,d)),f=Ya(n,s),f!=null&&l.push(No(n,f,d))),n.tag===3)return l;n=n.return}return[]}function WR(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function jv(n,s,a,l,f){for(var d=s._reactName,y=[];a!==null&&a!==l;){var S=a,C=S.alternate,D=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||D===null||(C=D,f?(D=Ya(a,d),D!=null&&y.unshift(No(a,D,C))):f||(D=Ya(a,d),D!=null&&y.push(No(a,D,C)))),a=a.return}y.length!==0&&n.push({event:s,listeners:y})}var XR=/\r\n?/g,QR=/\u0000|\uFFFD/g;function Uv(n){return(typeof n=="string"?n:""+n).replace(XR,`
`).replace(QR,"")}function Bv(n,s){return s=Uv(s),Uv(n)===s}function $e(n,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||kr(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&kr(n,""+l);break;case"className":zl(n,"class",l);break;case"tabIndex":zl(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zl(n,a,l);break;case"style":Bg(n,l,d);break;case"data":if(s!=="object"){zl(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Hl(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&$e(n,s,"name",f.name,f,null),$e(n,s,"formEncType",f.formEncType,f,null),$e(n,s,"formMethod",f.formMethod,f,null),$e(n,s,"formTarget",f.formTarget,f,null)):($e(n,s,"encType",f.encType,f,null),$e(n,s,"method",f.method,f,null),$e(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Hl(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=pi);break;case"onScroll":l!=null&&be("scroll",n);break;case"onScrollEnd":l!=null&&be("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Hl(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":be("beforetoggle",n),be("toggle",n),Bl(n,"popover",l);break;case"xlinkActuate":hi(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":hi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":hi(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":hi(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":hi(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":hi(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":hi(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":hi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":hi(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Bl(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=w1.get(a)||a,Bl(n,a,l))}}function fh(n,s,a,l,f,d){switch(a){case"style":Bg(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?kr(n,l):(typeof l=="number"||typeof l=="bigint")&&kr(n,""+l);break;case"onScroll":l!=null&&be("scroll",n);break;case"onScrollEnd":l!=null&&be("scrollend",n);break;case"onClick":l!=null&&(n.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ag.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=n[Wt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Bl(n,a,l)}}}function Mt(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",n),be("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:$e(n,s,d,y,a,null)}}f&&$e(n,s,"srcSet",a.srcSet,a,null),l&&$e(n,s,"src",a.src,a,null);return;case"input":be("invalid",n);var S=d=y=f=null,C=null,D=null;for(l in a)if(a.hasOwnProperty(l)){var P=a[l];if(P!=null)switch(l){case"name":f=P;break;case"type":y=P;break;case"checked":C=P;break;case"defaultChecked":D=P;break;case"value":d=P;break;case"defaultValue":S=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,s));break;default:$e(n,s,l,P,a,null)}}Mg(n,d,S,C,D,y,f,!1);return;case"select":be("invalid",n),l=y=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":y=S;break;case"multiple":l=S;default:$e(n,s,f,S,a,null)}s=d,a=y,n.multiple=!!l,s!=null?Or(n,!!l,s,!1):a!=null&&Or(n,!!l,a,!0);return;case"textarea":be("invalid",n),d=f=l=null;for(y in a)if(a.hasOwnProperty(y)&&(S=a[y],S!=null))switch(y){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:$e(n,s,y,S,a,null)}jg(n,l,f,d);return;case"option":for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null)&&(C==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":$e(n,s,C,l,a,null));return;case"dialog":be("beforetoggle",n),be("toggle",n),be("cancel",n),be("close",n);break;case"iframe":case"object":be("load",n);break;case"video":case"audio":for(l=0;l<Ro.length;l++)be(Ro[l],n);break;case"image":be("error",n),be("load",n);break;case"details":be("toggle",n);break;case"embed":case"source":case"link":be("error",n),be("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:$e(n,s,D,l,a,null)}return;default:if(wf(s)){for(P in a)a.hasOwnProperty(P)&&(l=a[P],l!==void 0&&fh(n,s,P,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&$e(n,s,S,l,a,null))}function JR(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,y=null,S=null,C=null,D=null,P=null;for(j in a){var $=a[j];if(a.hasOwnProperty(j)&&$!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":C=$;default:l.hasOwnProperty(j)||$e(n,s,j,null,l,$)}}for(var M in l){var j=l[M];if($=a[M],l.hasOwnProperty(M)&&(j!=null||$!=null))switch(M){case"type":d=j;break;case"name":f=j;break;case"checked":D=j;break;case"defaultChecked":P=j;break;case"value":y=j;break;case"defaultValue":S=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,s));break;default:j!==$&&$e(n,s,M,j,l,$)}}Tf(n,y,S,C,D,P,d,f);return;case"select":j=y=S=M=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":j=C;default:l.hasOwnProperty(d)||$e(n,s,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":M=d;break;case"defaultValue":S=d;break;case"multiple":y=d;default:d!==C&&$e(n,s,f,d,l,C)}s=S,a=y,l=j,M!=null?Or(n,!!a,M,!1):!!l!=!!a&&(s!=null?Or(n,!!a,s,!0):Or(n,!!a,a?[]:"",!1));return;case"textarea":j=M=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:$e(n,s,S,null,l,f)}for(y in l)if(f=l[y],d=a[y],l.hasOwnProperty(y)&&(f!=null||d!=null))switch(y){case"value":M=f;break;case"defaultValue":j=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&$e(n,s,y,f,l,d)}Lg(n,M,j);return;case"option":for(var Z in a)M=a[Z],a.hasOwnProperty(Z)&&M!=null&&!l.hasOwnProperty(Z)&&(Z==="selected"?n.selected=!1:$e(n,s,Z,null,l,M));for(C in l)M=l[C],j=a[C],l.hasOwnProperty(C)&&M!==j&&(M!=null||j!=null)&&(C==="selected"?n.selected=M&&typeof M!="function"&&typeof M!="symbol":$e(n,s,C,M,l,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in a)M=a[ce],a.hasOwnProperty(ce)&&M!=null&&!l.hasOwnProperty(ce)&&$e(n,s,ce,null,l,M);for(D in l)if(M=l[D],j=a[D],l.hasOwnProperty(D)&&M!==j&&(M!=null||j!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,s));break;default:$e(n,s,D,M,l,j)}return;default:if(wf(s)){for(var Ge in a)M=a[Ge],a.hasOwnProperty(Ge)&&M!==void 0&&!l.hasOwnProperty(Ge)&&fh(n,s,Ge,void 0,l,M);for(P in l)M=l[P],j=a[P],!l.hasOwnProperty(P)||M===j||M===void 0&&j===void 0||fh(n,s,P,M,l,j);return}}for(var A in a)M=a[A],a.hasOwnProperty(A)&&M!=null&&!l.hasOwnProperty(A)&&$e(n,s,A,null,l,M);for($ in l)M=l[$],j=a[$],!l.hasOwnProperty($)||M===j||M==null&&j==null||$e(n,s,$,M,l,j)}function zv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZR(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,y=f.initiatorType,S=f.duration;if(d&&S&&zv(y)){for(y=0,S=f.responseEnd,l+=1;l<a.length;l++){var C=a[l],D=C.startTime;if(D>S)break;var P=C.transferSize,$=C.initiatorType;P&&zv($)&&(C=C.responseEnd,y+=P*(C<S?1:(S-D)/(C-D)))}if(--l,s+=8*(d+y)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var dh=null,hh=null;function jc(n){return n.nodeType===9?n:n.ownerDocument}function Pv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hv(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function ph(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mh=null;function eN(){var n=window.event;return n&&n.type==="popstate"?n===mh?!1:(mh=n,!0):(mh=null,!1)}var qv=typeof setTimeout=="function"?setTimeout:void 0,tN=typeof clearTimeout=="function"?clearTimeout:void 0,Fv=typeof Promise=="function"?Promise:void 0,nN=typeof queueMicrotask=="function"?queueMicrotask:typeof Fv<"u"?function(n){return Fv.resolve(null).then(n).catch(iN)}:qv;function iN(n){setTimeout(function(){throw n})}function ps(n){return n==="head"}function Vv(n,s){var a=s,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),la(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")xo(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,xo(a);for(var d=a.firstChild;d;){var y=d.nextSibling,S=d.nodeName;d[$a]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&xo(n.ownerDocument.body);a=f}while(a);la(s)}function $v(n,s){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function gh(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gh(a),bf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function sN(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[$a])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=xn(n.nextSibling),n===null)break}return null}function rN(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=xn(n.nextSibling),n===null))return null;return n}function Gv(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=xn(n.nextSibling),n===null))return null;return n}function yh(n){return n.data==="$?"||n.data==="$~"}function _h(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function aN(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function xn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var vh=null;function Yv(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return xn(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function Kv(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function Wv(n,s,a){switch(s=jc(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function xo(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);bf(n)}var An=new Map,Xv=new Set;function Uc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Oi=Y.d;Y.d={f:oN,r:lN,D:cN,C:uN,L:fN,m:dN,X:pN,S:hN,M:mN};function oN(){var n=Oi.f(),s=xc();return n||s}function lN(n){var s=Nr(n);s!==null&&s.tag===5&&s.type==="form"?h_(s):Oi.r(n)}var ra=typeof document>"u"?null:document;function Qv(n,s,a){var l=ra;if(l&&typeof s=="string"&&s){var f=bn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Xv.has(f)||(Xv.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Mt(s,"link",n),Ct(s),l.head.appendChild(s)))}}function cN(n){Oi.D(n),Qv("dns-prefetch",n,null)}function uN(n,s){Oi.C(n,s),Qv("preconnect",n,s)}function fN(n,s,a){Oi.L(n,s,a);var l=ra;if(l&&n&&s){var f='link[rel="preload"][as="'+bn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+bn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+bn(a.imageSizes)+'"]')):f+='[href="'+bn(n)+'"]';var d=f;switch(s){case"style":d=aa(n);break;case"script":d=oa(n)}An.has(d)||(n=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),An.set(d,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(Ao(d))||s==="script"&&l.querySelector(Oo(d))||(s=l.createElement("link"),Mt(s,"link",n),Ct(s),l.head.appendChild(s)))}}function dN(n,s){Oi.m(n,s);var a=ra;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+bn(l)+'"][href="'+bn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=oa(n)}if(!An.has(d)&&(n=v({rel:"modulepreload",href:n},s),An.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Oo(d)))return}l=a.createElement("link"),Mt(l,"link",n),Ct(l),a.head.appendChild(l)}}}function hN(n,s,a){Oi.S(n,s,a);var l=ra;if(l&&n){var f=xr(l).hoistableStyles,d=aa(n);s=s||"default";var y=f.get(d);if(!y){var S={loading:0,preload:null};if(y=l.querySelector(Ao(d)))S.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":s},a),(a=An.get(d))&&Eh(n,a);var C=y=l.createElement("link");Ct(C),Mt(C,"link",n),C._p=new Promise(function(D,P){C.onload=D,C.onerror=P}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Bc(y,s,l)}y={type:"stylesheet",instance:y,count:1,state:S},f.set(d,y)}}}function pN(n,s){Oi.X(n,s);var a=ra;if(a&&n){var l=xr(a).hoistableScripts,f=oa(n),d=l.get(f);d||(d=a.querySelector(Oo(f)),d||(n=v({src:n,async:!0},s),(s=An.get(f))&&bh(n,s),d=a.createElement("script"),Ct(d),Mt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function mN(n,s){Oi.M(n,s);var a=ra;if(a&&n){var l=xr(a).hoistableScripts,f=oa(n),d=l.get(f);d||(d=a.querySelector(Oo(f)),d||(n=v({src:n,async:!0,type:"module"},s),(s=An.get(f))&&bh(n,s),d=a.createElement("script"),Ct(d),Mt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Jv(n,s,a,l){var f=(f=ee.current)?Uc(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=aa(a.href),a=xr(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=aa(a.href);var d=xr(f).hoistableStyles,y=d.get(n);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,y),(d=f.querySelector(Ao(n)))&&!d._p&&(y.instance=d,y.state.loading=5),An.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},An.set(n,a),d||gN(f,n,a,y.state))),s&&l===null)throw Error(r(528,""));return y}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=oa(a),a=xr(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function aa(n){return'href="'+bn(n)+'"'}function Ao(n){return'link[rel="stylesheet"]['+n+"]"}function Zv(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function gN(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Mt(s,"link",a),Ct(s),n.head.appendChild(s))}function oa(n){return'[src="'+bn(n)+'"]'}function Oo(n){return"script[async]"+n}function eE(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+bn(a.href)+'"]');if(l)return s.instance=l,Ct(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ct(l),Mt(l,"style",f),Bc(l,a.precedence,n),s.instance=l;case"stylesheet":f=aa(a.href);var d=n.querySelector(Ao(f));if(d)return s.state.loading|=4,s.instance=d,Ct(d),d;l=Zv(a),(f=An.get(f))&&Eh(l,f),d=(n.ownerDocument||n).createElement("link"),Ct(d);var y=d;return y._p=new Promise(function(S,C){y.onload=S,y.onerror=C}),Mt(d,"link",l),s.state.loading|=4,Bc(d,a.precedence,n),s.instance=d;case"script":return d=oa(a.src),(f=n.querySelector(Oo(d)))?(s.instance=f,Ct(f),f):(l=a,(f=An.get(d))&&(l=v({},a),bh(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ct(f),Mt(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Bc(l,a.precedence,n));return s.instance}function Bc(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,y=0;y<l.length;y++){var S=l[y];if(S.dataset.precedence===s)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Eh(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function bh(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var zc=null;function tE(n,s,a){if(zc===null){var l=new Map,f=zc=new Map;f.set(a,l)}else f=zc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[$a]||d[Ot]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(s)||"";y=n+y;var S=l.get(y);S?S.push(d):l.set(y,[d])}}return l}function nE(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function yN(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function iE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function _N(n,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=aa(l.href),d=s.querySelector(Ao(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Pc.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=d,Ct(d);return}d=s.ownerDocument||s,l=Zv(l),(f=An.get(f))&&Eh(l,f),d=d.createElement("link"),Ct(d);var y=d;y._p=new Promise(function(S,C){y.onload=S,y.onerror=C}),Mt(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=Pc.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Sh=0;function vN(n,s){return n.stylesheets&&n.count===0&&qc(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&qc(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+s);0<n.imgBytes&&Sh===0&&(Sh=62500*ZR());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&qc(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Sh?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Hc=null;function qc(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Hc=new Map,s.forEach(EN,n),Hc=null,Pc.call(n))}function EN(n,s){if(!(s.state.loading&4)){var a=Hc.get(n);if(a)var l=a.get(null);else{a=new Map,Hc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var y=f[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}f=s.instance,y=f.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,f),a.set(y,f),this.count++,l=Pc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var ko={$$typeof:H,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function bN(n,s,a,l,f,d,y,S,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yf(0),this.hiddenUpdates=yf(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function sE(n,s,a,l,f,d,y,S,C,D,P,$){return n=new bN(n,s,a,y,C,D,P,$,S),s=1,d===!0&&(s|=24),d=on(3,null,null,s),n.current=d,d.stateNode=n,s=td(),s.refCount++,n.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},rd(d),n}function rE(n){return n?(n=Br,n):Br}function aE(n,s,a,l,f,d){f=rE(f),l.context===null?l.context=f:l.pendingContext=f,l=is(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ss(n,l,s),a!==null&&(tn(a,n,s),lo(a,n,s))}function oE(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Th(n,s){oE(n,s),(n=n.alternate)&&oE(n,s)}function lE(n){if(n.tag===13||n.tag===31){var s=Vs(n,67108864);s!==null&&tn(s,n,67108864),Th(n,67108864)}}function cE(n){if(n.tag===13||n.tag===31){var s=dn();s=_f(s);var a=Vs(n,s);a!==null&&tn(a,n,s),Th(n,s)}}var Fc=!0;function SN(n,s,a,l){var f=B.T;B.T=null;var d=Y.p;try{Y.p=2,Ch(n,s,a,l)}finally{Y.p=d,B.T=f}}function TN(n,s,a,l){var f=B.T;B.T=null;var d=Y.p;try{Y.p=8,Ch(n,s,a,l)}finally{Y.p=d,B.T=f}}function Ch(n,s,a,l){if(Fc){var f=wh(l);if(f===null)uh(n,s,l,Vc,a),fE(n,l);else if(wN(f,n,s,a,l))l.stopPropagation();else if(fE(n,l),s&4&&-1<CN.indexOf(n)){for(;f!==null;){var d=Nr(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=zs(d.pendingLanes);if(y!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;y;){var C=1<<31-Ft(y);S.entanglements[1]|=C,y&=~C}ei(d),(ze&6)===0&&(Rc=dt()+500,wo(0))}}break;case 31:case 13:S=Vs(d,2),S!==null&&tn(S,d,2),xc(),Th(d,2)}if(d=wh(l),d===null&&uh(n,s,l,Vc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else uh(n,s,l,null,a)}}function wh(n){return n=Nf(n),Rh(n)}var Vc=null;function Rh(n){if(Vc=null,n=Rr(n),n!==null){var s=c(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=u(s),n!==null)return n;n=null}else if(a===31){if(n=h(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Vc=n,null}function uE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tr()){case Re:return 2;case Ln:return 8;case di:case Dl:return 32;case Cr:return 268435456;default:return 32}default:return 32}}var Nh=!1,ms=null,gs=null,ys=null,Do=new Map,Io=new Map,_s=[],CN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fE(n,s){switch(n){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":Do.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(s.pointerId)}}function Mo(n,s,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Nr(s),s!==null&&lE(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function wN(n,s,a,l,f){switch(s){case"focusin":return ms=Mo(ms,n,s,a,l,f),!0;case"dragenter":return gs=Mo(gs,n,s,a,l,f),!0;case"mouseover":return ys=Mo(ys,n,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return Do.set(d,Mo(Do.get(d)||null,n,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Io.set(d,Mo(Io.get(d)||null,n,s,a,l,f)),!0}return!1}function dE(n){var s=Rr(n.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){n.blockedOn=s,Rg(n.priority,function(){cE(a)});return}}else if(s===31){if(s=h(a),s!==null){n.blockedOn=s,Rg(n.priority,function(){cE(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function $c(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=wh(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Rf=l,a.target.dispatchEvent(l),Rf=null}else return s=Nr(a),s!==null&&lE(s),n.blockedOn=a,!1;s.shift()}return!0}function hE(n,s,a){$c(n)&&a.delete(s)}function RN(){Nh=!1,ms!==null&&$c(ms)&&(ms=null),gs!==null&&$c(gs)&&(gs=null),ys!==null&&$c(ys)&&(ys=null),Do.forEach(hE),Io.forEach(hE)}function Gc(n,s){n.blockedOn===s&&(n.blockedOn=null,Nh||(Nh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,RN)))}var Yc=null;function pE(n){Yc!==n&&(Yc=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yc===n&&(Yc=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(Rh(l||a)===null)continue;break}var d=Nr(a);d!==null&&(n.splice(s,3),s-=3,wd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function la(n){function s(C){return Gc(C,n)}ms!==null&&Gc(ms,n),gs!==null&&Gc(gs,n),ys!==null&&Gc(ys,n),Do.forEach(s),Io.forEach(s);for(var a=0;a<_s.length;a++){var l=_s[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<_s.length&&(a=_s[0],a.blockedOn===null);)dE(a),a.blockedOn===null&&_s.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],y=f[Wt]||null;if(typeof d=="function")y||pE(a);else if(y){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,y=d[Wt]||null)S=y.formAction;else if(Rh(f)!==null)continue}else S=y.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),pE(a)}}}function mE(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function xh(n){this._internalRoot=n}Kc.prototype.render=xh.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=dn();aE(a,l,n,s,null,null)},Kc.prototype.unmount=xh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;aE(n.current,2,null,n,null,null),xc(),s[wr]=null}};function Kc(n){this._internalRoot=n}Kc.prototype.unstable_scheduleHydration=function(n){if(n){var s=wg();n={blockedOn:null,target:n,priority:s};for(var a=0;a<_s.length&&s!==0&&s<_s[a].priority;a++);_s.splice(a,0,n),a===0&&dE(n)}};var gE=e.version;if(gE!=="19.2.3")throw Error(r(527,gE,"19.2.3"));Y.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=m(s),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var NN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Me=Wc.inject(NN),at=Wc}catch{}}return jo.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=T_,d=C_,y=w_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=sE(n,1,!1,null,null,a,l,null,f,d,y,mE),n[wr]=s.current,ch(n),new xh(s)},jo.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",d=T_,y=C_,S=w_,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),s=sE(n,1,!0,s,a??null,l,f,C,d,y,S,mE),s.context=rE(null),a=s.current,l=dn(),l=_f(l),f=is(l),f.callback=null,ss(a,f,l),a=l,s.current.lanes=a,Va(s,a),ei(s),n[wr]=s.current,ch(n),new Kc(s)},jo.version="19.2.3",jo}var RE;function jN(){if(RE)return kh.exports;RE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kh.exports=LN(),kh.exports}var UN=jN();const BN=pl(UN);var NE="popstate";function zN(t={}){function e(r,o){let{pathname:c,search:u,hash:h}=r.location;return dp("",{pathname:c,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:al(o)}return HN(e,i,null,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PN(){return Math.random().toString(36).substring(2,10)}function xE(t,e){return{usr:t.state,key:t.key,idx:e}}function dp(t,e,i=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xa(e):e,state:i,key:e&&e.key||r||PN()}}function al({pathname:t="/",search:e="",hash:i=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function xa(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substring(i),t=t.substring(0,i));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function HN(t,e,i,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,u=o.history,h="POP",p=null,m=_();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function _(){return(u.state||{idx:null}).idx}function v(){h="POP";let x=_(),L=x==null?null:x-m;m=x,p&&p({action:h,location:O.location,delta:L})}function b(x,L){h="PUSH";let U=dp(O.location,x,L);m=_()+1;let H=xE(U,m),q=O.createHref(U);try{u.pushState(H,"",q)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;o.location.assign(q)}c&&p&&p({action:h,location:O.location,delta:1})}function T(x,L){h="REPLACE";let U=dp(O.location,x,L);m=_();let H=xE(U,m),q=O.createHref(U);u.replaceState(H,"",q),c&&p&&p({action:h,location:O.location,delta:0})}function N(x){return qN(x)}let O={get action(){return h},get location(){return t(o,u)},listen(x){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(NE,v),p=x,()=>{o.removeEventListener(NE,v),p=null}},createHref(x){return e(o,x)},createURL:N,encodeLocation(x){let L=N(x);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:b,replace:T,go(x){return u.go(x)}};return O}function qN(t,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),st(i,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:al(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function OS(t,e,i="/"){return FN(t,e,i,!1)}function FN(t,e,i,r){let o=typeof e=="string"?xa(e):e,c=Hi(o.pathname||"/",i);if(c==null)return null;let u=kS(t);VN(u);let h=null;for(let p=0;h==null&&p<u.length;++p){let m=tx(c);h=ZN(u[p],m,r)}return h}function kS(t,e=[],i=[],r="",o=!1){let c=(u,h,p=o,m)=>{let _={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&p)return;st(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let v=Ui([r,_.relativePath]),b=i.concat(_);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),kS(u.children,e,b,v,p)),!(u.path==null&&!u.index)&&e.push({path:v,score:QN(v,u.index),routesMeta:b})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))c(u,h);else for(let p of DS(u.path))c(u,h,!0,p)}),e}function DS(t){let e=t.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let u=DS(r.join("/")),h=[];return h.push(...u.map(p=>p===""?c:[c,p].join("/"))),o&&h.push(...u),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function VN(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:JN(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var $N=/^:[\w-]+$/,GN=3,YN=2,KN=1,WN=10,XN=-2,AE=t=>t==="*";function QN(t,e){let i=t.split("/"),r=i.length;return i.some(AE)&&(r+=XN),e&&(r+=YN),i.filter(o=>!AE(o)).reduce((o,c)=>o+($N.test(c)?GN:c===""?KN:WN),r)}function JN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function ZN(t,e,i=!1){let{routesMeta:r}=t,o={},c="/",u=[];for(let h=0;h<r.length;++h){let p=r[h],m=h===r.length-1,_=c==="/"?e:e.slice(c.length)||"/",v=Su({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),b=p.route;if(!v&&m&&i&&!r[r.length-1].route.index&&(v=Su({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:Ui([c,v.pathname]),pathnameBase:rx(Ui([c,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(c=Ui([c,v.pathnameBase]))}return u}function Su(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,r]=ex(t.path,t.caseSensitive,t.end),o=e.match(i);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((m,{paramName:_,isOptional:v},b)=>{if(_==="*"){let N=h[b]||"";u=c.slice(0,c.length-N.length).replace(/(.)\/+$/,"$1")}const T=h[b];return v&&!T?m[_]=void 0:m[_]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:u,pattern:t}}function ex(t,e=!1,i=!0){yn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function tx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=t.charAt(i);return r&&r!=="/"?null:t.slice(i)||"/"}var IS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nx=t=>IS.test(t);function ix(t,e="/"){let{pathname:i,search:r="",hash:o=""}=typeof t=="string"?xa(t):t,c;if(i)if(nx(i))c=i;else{if(i.includes("//")){let u=i;i=i.replace(/\/\/+/g,"/"),yn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${i}`)}i.startsWith("/")?c=OE(i.substring(1),"/"):c=OE(i,e)}else c=e;return{pathname:c,search:ax(r),hash:ox(o)}}function OE(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Lh(t,e,i,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sx(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function sm(t){let e=sx(t);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function rm(t,e,i,r=!1){let o;typeof t=="string"?o=xa(t):(o={...t},st(!o.pathname||!o.pathname.includes("?"),Lh("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),Lh("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),Lh("#","search","hash",o)));let c=t===""||o.pathname==="",u=c?"/":o.pathname,h;if(u==null)h=i;else{let v=e.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;o.pathname=b.join("/")}h=v>=0?e[v]:"/"}let p=ix(o,h),m=u&&u!=="/"&&u.endsWith("/"),_=(c||u===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}var Ui=t=>t.join("/").replace(/\/\/+/g,"/"),rx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ax=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ox=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,lx=class{constructor(t,e,i,r=!1){this.status=t,this.statusText=e||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function cx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function ux(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var MS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function LS(t,e){let i=t;if(typeof i!="string"||!IS.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let r=i,o=!1;if(MS)try{let c=new URL(window.location.href),u=i.startsWith("//")?new URL(c.protocol+i):new URL(i),h=Hi(u.pathname,e);u.origin===c.origin&&h!=null?i=h+u.search+u.hash:o=!0}catch{yn(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jS=["POST","PUT","PATCH","DELETE"];new Set(jS);var fx=["GET",...jS];new Set(fx);var Aa=E.createContext(null);Aa.displayName="DataRouter";var Yu=E.createContext(null);Yu.displayName="DataRouterState";var dx=E.createContext(!1),US=E.createContext({isTransitioning:!1});US.displayName="ViewTransition";var hx=E.createContext(new Map);hx.displayName="Fetchers";var px=E.createContext(null);px.displayName="Await";var _n=E.createContext(null);_n.displayName="Navigation";var ml=E.createContext(null);ml.displayName="Location";var Kn=E.createContext({outlet:null,matches:[],isDataRoute:!1});Kn.displayName="Route";var am=E.createContext(null);am.displayName="RouteError";var BS="REACT_ROUTER_ERROR",mx="REDIRECT",gx="ROUTE_ERROR_RESPONSE";function yx(t){if(t.startsWith(`${BS}:${mx}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function _x(t){if(t.startsWith(`${BS}:${gx}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new lx(e.status,e.statusText,e.data)}catch{}}function vx(t,{relative:e}={}){st(Oa(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=E.useContext(_n),{hash:o,pathname:c,search:u}=gl(t,{relative:e}),h=c;return i!=="/"&&(h=c==="/"?i:Ui([i,c])),r.createHref({pathname:h,search:u,hash:o})}function Oa(){return E.useContext(ml)!=null}function ci(){return st(Oa(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(ml).location}var zS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PS(t){E.useContext(_n).static||E.useLayoutEffect(t)}function Wn(){let{isDataRoute:t}=E.useContext(Kn);return t?Dx():Ex()}function Ex(){st(Oa(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Aa),{basename:e,navigator:i}=E.useContext(_n),{matches:r}=E.useContext(Kn),{pathname:o}=ci(),c=JSON.stringify(sm(r)),u=E.useRef(!1);return PS(()=>{u.current=!0}),E.useCallback((p,m={})=>{if(yn(u.current,zS),!u.current)return;if(typeof p=="number"){i.go(p);return}let _=rm(p,JSON.parse(c),o,m.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ui([e,_.pathname])),(m.replace?i.replace:i.push)(_,m.state,m)},[e,i,c,o,t])}E.createContext(null);function HS(){let{matches:t}=E.useContext(Kn),e=t[t.length-1];return e?e.params:{}}function gl(t,{relative:e}={}){let{matches:i}=E.useContext(Kn),{pathname:r}=ci(),o=JSON.stringify(sm(i));return E.useMemo(()=>rm(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function bx(t,e){return qS(t,e)}function qS(t,e,i,r,o){st(Oa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=E.useContext(_n),{matches:u}=E.useContext(Kn),h=u[u.length-1],p=h?h.params:{},m=h?h.pathname:"/",_=h?h.pathnameBase:"/",v=h&&h.route;{let U=v&&v.path||"";VS(m,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let b=ci(),T;if(e){let U=typeof e=="string"?xa(e):e;st(_==="/"||U.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${U.pathname}" was given in the \`location\` prop.`),T=U}else T=b;let N=T.pathname||"/",O=N;if(_!=="/"){let U=_.replace(/^\//,"").split("/");O="/"+N.replace(/^\//,"").split("/").slice(U.length).join("/")}let x=OS(t,{pathname:O});yn(v||x!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),yn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=Rx(x&&x.map(U=>Object.assign({},U,{params:Object.assign({},p,U.params),pathname:Ui([_,c.encodeLocation?c.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?_:Ui([_,c.encodeLocation?c.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),u,i,r,o);return e&&L?E.createElement(ml.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},L):L}function Sx(){let t=kx(),e=cx(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:c},"ErrorBoundary")," or"," ",E.createElement("code",{style:c},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),i?E.createElement("pre",{style:o},i):null,u)}var Tx=E.createElement(Sx,null),FS=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const i=_x(t.digest);i&&(t=i)}let e=t!==void 0?E.createElement(Kn.Provider,{value:this.props.routeContext},E.createElement(am.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?E.createElement(Cx,{error:t},e):e}};FS.contextType=dx;var jh=new WeakMap;function Cx({children:t,error:e}){let{basename:i}=E.useContext(_n);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=yx(e.digest);if(r){let o=jh.get(e);if(o)throw o;let c=LS(r.location,i);if(MS&&!jh.get(e))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw jh.set(e,u),u}return E.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return t}function wx({routeContext:t,match:e,children:i}){let r=E.useContext(Aa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Kn.Provider,{value:t},i)}function Rx(t,e=[],i=null,r=null,o=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let c=t,u=i?.errors;if(u!=null){let _=c.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);st(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,_+1))}let h=!1,p=-1;if(i)for(let _=0;_<c.length;_++){let v=c[_];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=_),v.route.id){let{loaderData:b,errors:T}=i,N=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!T||T[v.route.id]===void 0);if(v.route.lazy||N){h=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let m=i&&r?(_,v)=>{r(_,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:ux(i.matches),errorInfo:v})}:void 0;return c.reduceRight((_,v,b)=>{let T,N=!1,O=null,x=null;i&&(T=u&&v.route.id?u[v.route.id]:void 0,O=v.route.errorElement||Tx,h&&(p<0&&b===0?(VS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,x=null):p===b&&(N=!0,x=v.route.hydrateFallbackElement||null)));let L=e.concat(c.slice(0,b+1)),U=()=>{let H;return T?H=O:N?H=x:v.route.Component?H=E.createElement(v.route.Component,null):v.route.element?H=v.route.element:H=_,E.createElement(wx,{match:v,routeContext:{outlet:_,matches:L,isDataRoute:i!=null},children:H})};return i&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?E.createElement(FS,{location:i.location,revalidation:i.revalidation,component:O,error:T,children:U(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:m}):U()},null)}function om(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nx(t){let e=E.useContext(Aa);return st(e,om(t)),e}function xx(t){let e=E.useContext(Yu);return st(e,om(t)),e}function Ax(t){let e=E.useContext(Kn);return st(e,om(t)),e}function lm(t){let e=Ax(t),i=e.matches[e.matches.length-1];return st(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function Ox(){return lm("useRouteId")}function kx(){let t=E.useContext(am),e=xx("useRouteError"),i=lm("useRouteError");return t!==void 0?t:e.errors?.[i]}function Dx(){let{router:t}=Nx("useNavigate"),e=lm("useNavigate"),i=E.useRef(!1);return PS(()=>{i.current=!0}),E.useCallback(async(o,c={})=>{yn(i.current,zS),i.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...c}))},[t,e])}var kE={};function VS(t,e,i){!e&&!kE[t]&&(kE[t]=!0,yn(!1,i))}E.memo(Ix);function Ix({routes:t,future:e,state:i,onError:r}){return qS(t,void 0,i,r,e)}function Mx({to:t,replace:e,state:i,relative:r}){st(Oa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=E.useContext(_n);yn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=E.useContext(Kn),{pathname:u}=ci(),h=Wn(),p=rm(t,sm(c),u,r==="path"),m=JSON.stringify(p);return E.useEffect(()=>{h(JSON.parse(m),{replace:e,state:i,relative:r})},[h,m,r,e,i]),null}function ki(t){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Lx({basename:t="/",children:e=null,location:i,navigationType:r="POP",navigator:o,static:c=!1,unstable_useTransitions:u}){st(!Oa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),p=E.useMemo(()=>({basename:h,navigator:o,static:c,unstable_useTransitions:u,future:{}}),[h,o,c,u]);typeof i=="string"&&(i=xa(i));let{pathname:m="/",search:_="",hash:v="",state:b=null,key:T="default"}=i,N=E.useMemo(()=>{let O=Hi(m,h);return O==null?null:{location:{pathname:O,search:_,hash:v,state:b,key:T},navigationType:r}},[h,m,_,v,b,T,r]);return yn(N!=null,`<Router basename="${h}"> is not able to match the URL "${m}${_}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:E.createElement(_n.Provider,{value:p},E.createElement(ml.Provider,{children:e,value:N}))}function jx({children:t,location:e}){return bx(hp(t),e)}function hp(t,e=[]){let i=[];return E.Children.forEach(t,(r,o)=>{if(!E.isValidElement(r))return;let c=[...e,o];if(r.type===E.Fragment){i.push.apply(i,hp(r.props.children,c));return}st(r.type===ki,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=hp(r.props.children,c)),i.push(u)}),i}var uu="get",fu="application/x-www-form-urlencoded";function Ku(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Ux(t){return Ku(t)&&t.tagName.toLowerCase()==="button"}function Bx(t){return Ku(t)&&t.tagName.toLowerCase()==="form"}function zx(t){return Ku(t)&&t.tagName.toLowerCase()==="input"}function Px(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Hx(t,e){return t.button===0&&(!e||e==="_self")&&!Px(t)}function pp(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,i)=>{let r=t[i];return e.concat(Array.isArray(r)?r.map(o=>[i,o]):[[i,r]])},[]))}function qx(t,e){let i=pp(t);return e&&e.forEach((r,o)=>{i.has(o)||e.getAll(o).forEach(c=>{i.append(o,c)})}),i}var Xc=null;function Fx(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var Vx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uh(t){return t!=null&&!Vx.has(t)?(yn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fu}"`),null):t}function $x(t,e){let i,r,o,c,u;if(Bx(t)){let h=t.getAttribute("action");r=h?Hi(h,e):null,i=t.getAttribute("method")||uu,o=Uh(t.getAttribute("enctype"))||fu,c=new FormData(t)}else if(Ux(t)||zx(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||h.getAttribute("action");if(r=p?Hi(p,e):null,i=t.getAttribute("formmethod")||h.getAttribute("method")||uu,o=Uh(t.getAttribute("formenctype"))||Uh(h.getAttribute("enctype"))||fu,c=new FormData(h,t),!Fx()){let{name:m,type:_,value:v}=t;if(_==="image"){let b=m?`${m}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else m&&c.append(m,v)}}else{if(Ku(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=uu,r=null,o=fu,u=t}return c&&o==="text/plain"&&(u=c,c=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gx(t,e,i,r){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&Hi(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function Yx(t,e){if(t.id in e)return e[t.id];try{let i=await import(t.module);return e[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Kx(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Wx(t,e,i){let r=await Promise.all(t.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await Yx(c,i);return u.links?u.links():[]}return[]}));return Zx(r.flat(1).filter(Kx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function DE(t,e,i,r,o,c){let u=(p,m)=>i[m]?p.route.id!==i[m].route.id:!0,h=(p,m)=>i[m].pathname!==p.pathname||i[m].route.path?.endsWith("*")&&i[m].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,m)=>u(p,m)||h(p,m)):c==="data"?e.filter((p,m)=>{let _=r.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(u(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Xx(t,e,{includeHydrateFallback:i}={}){return Qx(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Qx(t){return[...new Set(t)]}function Jx(t){let e={},i=Object.keys(t).sort();for(let r of i)e[r]=t[r];return e}function Zx(t,e){let i=new Set;return new Set(e),t.reduce((r,o)=>{let c=JSON.stringify(Jx(o));return i.has(c)||(i.add(c),r.push({key:c,link:o})),r},[])}function $S(){let t=E.useContext(Aa);return cm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function eA(){let t=E.useContext(Yu);return cm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var um=E.createContext(void 0);um.displayName="FrameworkContext";function GS(){let t=E.useContext(um);return cm(t,"You must render this element inside a <HydratedRouter> element"),t}function tA(t,e){let i=E.useContext(um),[r,o]=E.useState(!1),[c,u]=E.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:_,onTouchStart:v}=e,b=E.useRef(null);E.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let O=L=>{L.forEach(U=>{u(U.isIntersecting)})},x=new IntersectionObserver(O,{threshold:.5});return b.current&&x.observe(b.current),()=>{x.disconnect()}}},[t]),E.useEffect(()=>{if(r){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[r]);let T=()=>{o(!0)},N=()=>{o(!1),u(!1)};return i?t!=="intent"?[c,b,{}]:[c,b,{onFocus:Uo(h,T),onBlur:Uo(p,N),onMouseEnter:Uo(m,T),onMouseLeave:Uo(_,N),onTouchStart:Uo(v,T)}]:[!1,b,{}]}function Uo(t,e){return i=>{t&&t(i),i.defaultPrevented||e(i)}}function nA({page:t,...e}){let{router:i}=$S(),r=E.useMemo(()=>OS(i.routes,t,i.basename),[i.routes,t,i.basename]);return r?E.createElement(sA,{page:t,matches:r,...e}):null}function iA(t){let{manifest:e,routeModules:i}=GS(),[r,o]=E.useState([]);return E.useEffect(()=>{let c=!1;return Wx(t,e,i).then(u=>{c||o(u)}),()=>{c=!0}},[t,e,i]),r}function sA({page:t,matches:e,...i}){let r=ci(),{future:o,manifest:c,routeModules:u}=GS(),{basename:h}=$S(),{loaderData:p,matches:m}=eA(),_=E.useMemo(()=>DE(t,e,m,c,r,"data"),[t,e,m,c,r]),v=E.useMemo(()=>DE(t,e,m,c,r,"assets"),[t,e,m,c,r]),b=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let O=new Set,x=!1;if(e.forEach(U=>{let H=c.routes[U.route.id];!H||!H.hasLoader||(!_.some(q=>q.route.id===U.route.id)&&U.route.id in p&&u[U.route.id]?.shouldRevalidate||H.hasClientLoader?x=!0:O.add(U.route.id))}),O.size===0)return[];let L=Gx(t,h,o.unstable_trailingSlashAwareDataRequests,"data");return x&&O.size>0&&L.searchParams.set("_routes",e.filter(U=>O.has(U.route.id)).map(U=>U.route.id).join(",")),[L.pathname+L.search]},[h,o.unstable_trailingSlashAwareDataRequests,p,r,c,_,e,t,u]),T=E.useMemo(()=>Xx(v,c),[v,c]),N=iA(v);return E.createElement(E.Fragment,null,b.map(O=>E.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...i})),T.map(O=>E.createElement("link",{key:O,rel:"modulepreload",href:O,...i})),N.map(({key:O,link:x})=>E.createElement("link",{key:O,nonce:i.nonce,...x})))}function rA(...t){return e=>{t.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var aA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aA&&(window.__reactRouterVersion="7.12.0")}catch{}function oA({basename:t,children:e,unstable_useTransitions:i,window:r}){let o=E.useRef();o.current==null&&(o.current=zN({window:r,v5Compat:!0}));let c=o.current,[u,h]=E.useState({action:c.action,location:c.location}),p=E.useCallback(m=>{i===!1?h(m):E.startTransition(()=>h(m))},[i]);return E.useLayoutEffect(()=>c.listen(p),[c,p]),E.createElement(Lx,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:c,unstable_useTransitions:i})}var YS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zn=E.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:o,reloadDocument:c,replace:u,state:h,target:p,to:m,preventScrollReset:_,viewTransition:v,unstable_defaultShouldRevalidate:b,...T},N){let{basename:O,unstable_useTransitions:x}=E.useContext(_n),L=typeof m=="string"&&YS.test(m),U=LS(m,O);m=U.to;let H=vx(m,{relative:o}),[q,X,I]=tA(r,T),V=fA(m,{replace:u,state:h,target:p,preventScrollReset:_,relative:o,viewTransition:v,unstable_defaultShouldRevalidate:b,unstable_useTransitions:x});function ie(We){e&&e(We),We.defaultPrevented||V(We)}let Ue=E.createElement("a",{...T,...I,href:U.absoluteURL||H,onClick:U.isExternal||c?e:ie,ref:rA(N,X),target:p,"data-discover":!L&&i==="render"?"true":void 0});return q&&!L?E.createElement(E.Fragment,null,Ue,E.createElement(nA,{page:H})):Ue});zn.displayName="Link";var lA=E.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:o=!1,style:c,to:u,viewTransition:h,children:p,...m},_){let v=gl(u,{relative:m.relative}),b=ci(),T=E.useContext(Yu),{navigator:N,basename:O}=E.useContext(_n),x=T!=null&&yA(v)&&h===!0,L=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,U=b.pathname,H=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;i||(U=U.toLowerCase(),H=H?H.toLowerCase():null,L=L.toLowerCase()),H&&O&&(H=Hi(H,O)||H);const q=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let X=U===L||!o&&U.startsWith(L)&&U.charAt(q)==="/",I=H!=null&&(H===L||!o&&H.startsWith(L)&&H.charAt(L.length)==="/"),V={isActive:X,isPending:I,isTransitioning:x},ie=X?e:void 0,Ue;typeof r=="function"?Ue=r(V):Ue=[r,X?"active":null,I?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let We=typeof c=="function"?c(V):c;return E.createElement(zn,{...m,"aria-current":ie,className:Ue,ref:_,style:We,to:u,viewTransition:h},typeof p=="function"?p(V):p)});lA.displayName="NavLink";var cA=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:o,state:c,method:u=uu,action:h,onSubmit:p,relative:m,preventScrollReset:_,viewTransition:v,unstable_defaultShouldRevalidate:b,...T},N)=>{let{unstable_useTransitions:O}=E.useContext(_n),x=mA(),L=gA(h,{relative:m}),U=u.toLowerCase()==="get"?"get":"post",H=typeof h=="string"&&YS.test(h),q=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let I=X.nativeEvent.submitter,V=I?.getAttribute("formmethod")||u,ie=()=>x(I||X.currentTarget,{fetcherKey:e,method:V,navigate:i,replace:o,state:c,relative:m,preventScrollReset:_,viewTransition:v,unstable_defaultShouldRevalidate:b});O&&i!==!1?E.startTransition(()=>ie()):ie()};return E.createElement("form",{ref:N,method:U,action:L,onSubmit:r?p:q,...T,"data-discover":!H&&t==="render"?"true":void 0})});cA.displayName="Form";function uA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KS(t){let e=E.useContext(Aa);return st(e,uA(t)),e}function fA(t,{target:e,replace:i,state:r,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:p}={}){let m=Wn(),_=ci(),v=gl(t,{relative:c});return E.useCallback(b=>{if(Hx(b,e)){b.preventDefault();let T=i!==void 0?i:al(_)===al(v),N=()=>m(t,{replace:T,state:r,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:h});p?E.startTransition(()=>N()):N()}},[_,m,v,i,r,e,t,o,c,u,h,p])}function dA(t){yn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=E.useRef(pp(t)),i=E.useRef(!1),r=ci(),o=E.useMemo(()=>qx(r.search,i.current?null:e.current),[r.search]),c=Wn(),u=E.useCallback((h,p)=>{const m=pp(typeof h=="function"?h(new URLSearchParams(o)):h);i.current=!0,c("?"+m,p)},[c,o]);return[o,u]}var hA=0,pA=()=>`__${String(++hA)}__`;function mA(){let{router:t}=KS("useSubmit"),{basename:e}=E.useContext(_n),i=Ox(),r=t.fetch,o=t.navigate;return E.useCallback(async(c,u={})=>{let{action:h,method:p,encType:m,formData:_,body:v}=$x(c,e);if(u.navigate===!1){let b=u.fetcherKey||pA();await r(b,i,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:_,body:v,formMethod:u.method||p,formEncType:u.encType||m,flushSync:u.flushSync})}else await o(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:_,body:v,formMethod:u.method||p,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:i,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,o,e,i])}function gA(t,{relative:e}={}){let{basename:i}=E.useContext(_n),r=E.useContext(Kn);st(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...gl(t||".",{relative:e})},u=ci();if(t==null){c.search=u.search;let h=new URLSearchParams(c.search),p=h.getAll("index");if(p.some(_=>_==="")){h.delete("index"),p.filter(v=>v).forEach(v=>h.append("index",v));let _=h.toString();c.search=_?`?${_}`:""}}return(!t||t===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Ui([i,c.pathname])),al(c)}function yA(t,{relative:e}={}){let i=E.useContext(US);st(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=KS("useViewTransitionState"),o=gl(t,{relative:e});if(!i.isTransitioning)return!1;let c=Hi(i.currentLocation.pathname,r)||i.currentLocation.pathname,u=Hi(i.nextLocation.pathname,r)||i.nextLocation.pathname;return Su(o.pathname,u)!=null||Su(o.pathname,c)!=null}var _A=AS();const da=pl(_A);var Bh={exports:{}};var IE;function vA(){return IE||(IE=1,(function(t){(function(){var e={}.hasOwnProperty;function i(){for(var c="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(c=o(c,r(h)))}return c}function r(c){if(typeof c=="string"||typeof c=="number")return c;if(typeof c!="object")return"";if(Array.isArray(c))return i.apply(null,c);if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]"))return c.toString();var u="";for(var h in c)e.call(c,h)&&c[h]&&(u=o(u,h));return u}function o(c,u){return u?c?c+" "+u:c+u:c}t.exports?(i.default=i,t.exports=i):window.classNames=i})()})(Bh)),Bh.exports}var EA=vA();const J=pl(EA);function mp(){return mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)({}).hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},mp.apply(null,arguments)}function WS(t,e){if(t==null)return{};var i={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;i[r]=t[r]}return i}function ME(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function bA(t){var e=SA(t,"string");return typeof e=="symbol"?e:String(e)}function SA(t,e){if(typeof t!="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TA(t,e,i){var r=E.useRef(t!==void 0),o=E.useState(e),c=o[0],u=o[1],h=t!==void 0,p=r.current;return r.current=h,!h&&p&&c!==e&&u(e),[h?t:c,E.useCallback(function(m){for(var _=arguments.length,v=new Array(_>1?_-1:0),b=1;b<_;b++)v[b-1]=arguments[b];i&&i.apply(void 0,[m].concat(v)),u(m)},[i])]}function yl(t,e){return Object.keys(e).reduce(function(i,r){var o,c=i,u=c[ME(r)],h=c[r],p=WS(c,[ME(r),r].map(bA)),m=e[r],_=TA(h,u,t[m]),v=_[0],b=_[1];return mp({},p,(o={},o[r]=v,o[m]=b,o))},t)}function gp(t,e){return gp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},gp(t,e)}function CA(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,gp(t,e)}const wA=["xxl","xl","lg","md","sm","xs"],RA="xs",_l=E.createContext({prefixes:{},breakpoints:wA,minBreakpoint:RA}),{Consumer:A6,Provider:O6}=_l;function ae(t,e){const{prefixes:i}=E.useContext(_l);return t||i[e]||e}function XS(){const{breakpoints:t}=E.useContext(_l);return t}function QS(){const{minBreakpoint:t}=E.useContext(_l);return t}function JS(){const{dir:t}=E.useContext(_l);return t==="rtl"}function Wu(t){return t&&t.ownerDocument||document}function NA(t){var e=Wu(t);return e&&e.defaultView||window}function xA(t,e){return NA(t).getComputedStyle(t,e)}var AA=/([A-Z])/g;function OA(t){return t.replace(AA,"-$1").toLowerCase()}var kA=/^ms-/;function Qc(t){return OA(t).replace(kA,"-ms-")}var DA=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function IA(t){return!!(t&&DA.test(t))}function Bi(t,e){var i="",r="";if(typeof e=="string")return t.style.getPropertyValue(Qc(e))||xA(t).getPropertyValue(Qc(e));Object.keys(e).forEach(function(o){var c=e[o];!c&&c!==0?t.style.removeProperty(Qc(o)):IA(o)?r+=o+"("+c+") ":i+=Qc(o)+": "+c+";"}),r&&(i+="transform: "+r+";"),t.style.cssText+=";"+i}var zh={exports:{}},Ph,LE;function MA(){if(LE)return Ph;LE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ph=t,Ph}var Hh,jE;function LA(){if(jE)return Hh;jE=1;var t=MA();function e(){}function i(){}return i.resetWarningCache=e,Hh=function(){function r(u,h,p,m,_,v){if(v!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function o(){return r}var c={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:i,resetWarningCache:e};return c.PropTypes=c,c},Hh}var UE;function jA(){return UE||(UE=1,zh.exports=LA()()),zh.exports}var UA=jA();const ne=pl(UA),BE={disabled:!1},ZS=ue.createContext(null);var BA=function(e){return e.scrollTop},Ko="unmounted",Ss="exited",Hn="entering",Di="entered",ol="exiting",Gi=(function(t){CA(e,t);function e(r,o){var c;c=t.call(this,r,o)||this;var u=o,h=u&&!u.isMounting?r.enter:r.appear,p;return c.appearStatus=null,r.in?h?(p=Ss,c.appearStatus=Hn):p=Di:r.unmountOnExit||r.mountOnEnter?p=Ko:p=Ss,c.state={status:p},c.nextCallback=null,c}e.getDerivedStateFromProps=function(o,c){var u=o.in;return u&&c.status===Ko?{status:Ss}:null};var i=e.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(o){var c=null;if(o!==this.props){var u=this.state.status;this.props.in?u!==Hn&&u!==Di&&(c=Hn):(u===Hn||u===Di)&&(c=ol)}this.updateStatus(!1,c)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var o=this.props.timeout,c,u,h;return c=u=h=o,o!=null&&typeof o!="number"&&(c=o.exit,u=o.enter,h=o.appear!==void 0?o.appear:u),{exit:c,enter:u,appear:h}},i.updateStatus=function(o,c){if(o===void 0&&(o=!1),c!==null)if(this.cancelNextCallback(),c===Hn){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:da.findDOMNode(this);u&&BA(u)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ss&&this.setState({status:Ko})},i.performEnter=function(o){var c=this,u=this.props.enter,h=this.context?this.context.isMounting:o,p=this.props.nodeRef?[h]:[da.findDOMNode(this),h],m=p[0],_=p[1],v=this.getTimeouts(),b=h?v.appear:v.enter;if(!o&&!u||BE.disabled){this.safeSetState({status:Di},function(){c.props.onEntered(m)});return}this.props.onEnter(m,_),this.safeSetState({status:Hn},function(){c.props.onEntering(m,_),c.onTransitionEnd(b,function(){c.safeSetState({status:Di},function(){c.props.onEntered(m,_)})})})},i.performExit=function(){var o=this,c=this.props.exit,u=this.getTimeouts(),h=this.props.nodeRef?void 0:da.findDOMNode(this);if(!c||BE.disabled){this.safeSetState({status:Ss},function(){o.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:ol},function(){o.props.onExiting(h),o.onTransitionEnd(u.exit,function(){o.safeSetState({status:Ss},function(){o.props.onExited(h)})})})},i.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(o,c){c=this.setNextCallback(c),this.setState(o,c)},i.setNextCallback=function(o){var c=this,u=!0;return this.nextCallback=function(h){u&&(u=!1,c.nextCallback=null,o(h))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},i.onTransitionEnd=function(o,c){this.setNextCallback(c);var u=this.props.nodeRef?this.props.nodeRef.current:da.findDOMNode(this),h=o==null&&!this.props.addEndListener;if(!u||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],m=p[0],_=p[1];this.props.addEndListener(m,_)}o!=null&&setTimeout(this.nextCallback,o)},i.render=function(){var o=this.state.status;if(o===Ko)return null;var c=this.props,u=c.children;c.in,c.mountOnEnter,c.unmountOnExit,c.appear,c.enter,c.exit,c.timeout,c.addEndListener,c.onEnter,c.onEntering,c.onEntered,c.onExit,c.onExiting,c.onExited,c.nodeRef;var h=WS(c,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ue.createElement(ZS.Provider,{value:null},typeof u=="function"?u(o,h):ue.cloneElement(ue.Children.only(u),h))},e})(ue.Component);Gi.contextType=ZS;Gi.propTypes={};function ca(){}Gi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ca,onEntering:ca,onEntered:ca,onExit:ca,onExiting:ca,onExited:ca};Gi.UNMOUNTED=Ko;Gi.EXITED=Ss;Gi.ENTERING=Hn;Gi.ENTERED=Di;Gi.EXITING=ol;function zA(t){return t.code==="Escape"||t.keyCode===27}function PA(){const t=E.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function ka(t){if(!t||typeof t=="function")return null;const{major:e}=PA();return e>=19?t.props.ref:t.ref}const Da=!!(typeof window<"u"&&window.document&&window.document.createElement);var yp=!1,_p=!1;try{var qh={get passive(){return yp=!0},get once(){return _p=yp=!0}};Da&&(window.addEventListener("test",qh,qh),window.removeEventListener("test",qh,!0))}catch{}function e0(t,e,i,r){if(r&&typeof r!="boolean"&&!_p){var o=r.once,c=r.capture,u=i;!_p&&o&&(u=i.__once||function h(p){this.removeEventListener(e,h,c),i.call(this,p)},i.__once=u),t.addEventListener(e,u,yp?r:c)}t.addEventListener(e,i,r)}function vp(t,e,i,r){var o=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,i,o),i.__once&&t.removeEventListener(e,i.__once,o)}function Tu(t,e,i,r){return e0(t,e,i,r),function(){vp(t,e,i,r)}}function HA(t,e,i,r){if(r===void 0&&(r=!0),t){var o=document.createEvent("HTMLEvents");o.initEvent(e,i,r),t.dispatchEvent(o)}}function qA(t){var e=Bi(t,"transitionDuration")||"",i=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*i}function FA(t,e,i){i===void 0&&(i=5);var r=!1,o=setTimeout(function(){r||HA(t,"transitionend",!0)},e+i),c=Tu(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(o),c()}}function t0(t,e,i,r){i==null&&(i=qA(t)||0);var o=FA(t,i,r),c=Tu(t,"transitionend",e);return function(){o(),c()}}function zE(t,e){const i=Bi(t,e)||"",r=i.indexOf("ms")===-1?1e3:1;return parseFloat(i)*r}function Xu(t,e){const i=zE(t,"transitionDuration"),r=zE(t,"transitionDelay"),o=t0(t,c=>{c.target===t&&(o(),e(c))},i+r)}function Bo(...t){return t.filter(e=>e!=null).reduce((e,i)=>{if(typeof i!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?i:function(...o){e.apply(this,o),i.apply(this,o)}},null)}function fm(t){t.offsetHeight}const PE=t=>!t||typeof t=="function"?t:e=>{t.current=e};function VA(t,e){const i=PE(t),r=PE(e);return o=>{i&&i(o),r&&r(o)}}function n0(t,e){return E.useMemo(()=>VA(t,e),[t,e])}function $A(t){return t&&"setState"in t?da.findDOMNode(t):t??null}const vl=ue.forwardRef(({onEnter:t,onEntering:e,onEntered:i,onExit:r,onExiting:o,onExited:c,addEndListener:u,children:h,childRef:p,...m},_)=>{const v=E.useRef(null),b=n0(v,p),T=I=>{b($A(I))},N=I=>V=>{I&&v.current&&I(v.current,V)},O=E.useCallback(N(t),[t]),x=E.useCallback(N(e),[e]),L=E.useCallback(N(i),[i]),U=E.useCallback(N(r),[r]),H=E.useCallback(N(o),[o]),q=E.useCallback(N(c),[c]),X=E.useCallback(N(u),[u]);return g.jsx(Gi,{ref:_,...m,onEnter:O,onEntered:L,onEntering:x,onExit:U,onExited:q,onExiting:H,addEndListener:X,nodeRef:v,children:typeof h=="function"?(I,V)=>h(I,{...V,ref:T}):ue.cloneElement(h,{ref:T})})});vl.displayName="TransitionWrapper";const GA={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function YA(t,e){const i=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[i],o=GA[t];return r+parseInt(Bi(e,o[0]),10)+parseInt(Bi(e,o[1]),10)}const KA={[Ss]:"collapse",[ol]:"collapsing",[Hn]:"collapsing",[Di]:"collapse show"},i0=ue.forwardRef(({onEnter:t,onEntering:e,onEntered:i,onExit:r,onExiting:o,className:c,children:u,dimension:h="height",in:p=!1,timeout:m=300,mountOnEnter:_=!1,unmountOnExit:v=!1,appear:b=!1,getDimensionValue:T=YA,...N},O)=>{const x=typeof h=="function"?h():h,L=E.useMemo(()=>Bo(I=>{I.style[x]="0"},t),[x,t]),U=E.useMemo(()=>Bo(I=>{const V=`scroll${x[0].toUpperCase()}${x.slice(1)}`;I.style[x]=`${I[V]}px`},e),[x,e]),H=E.useMemo(()=>Bo(I=>{I.style[x]=null},i),[x,i]),q=E.useMemo(()=>Bo(I=>{I.style[x]=`${T(x,I)}px`,fm(I)},r),[r,T,x]),X=E.useMemo(()=>Bo(I=>{I.style[x]=null},o),[x,o]);return g.jsx(vl,{ref:O,addEndListener:Xu,...N,"aria-expanded":N.role?p:null,onEnter:L,onEntering:U,onEntered:H,onExit:q,onExiting:X,childRef:ka(u),in:p,timeout:m,mountOnEnter:_,unmountOnExit:v,appear:b,children:(I,V)=>ue.cloneElement(u,{...V,className:J(c,u.props.className,KA[I],x==="width"&&"collapse-horizontal")})})});i0.displayName="Collapse";function s0(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t},[t]),e}function oi(t){const e=s0(t);return E.useCallback(function(...i){return e.current&&e.current(...i)},[e])}const El=(t=>E.forwardRef((e,i)=>g.jsx("div",{...e,ref:i,className:J(e.className,t)}))),r0=El("h4");r0.displayName="DivStyledAsH4";const a0=E.forwardRef(({className:t,bsPrefix:e,as:i=r0,...r},o)=>(e=ae(e,"alert-heading"),g.jsx(i,{ref:o,className:J(t,e),...r})));a0.displayName="AlertHeading";function WA(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t},[t]),e}function Ii(t){const e=WA(t);return E.useCallback(function(...i){return e.current&&e.current(...i)},[e])}function XA(){const t=E.useRef(!0),e=E.useRef(()=>t.current);return E.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function QA(t){const e=E.useRef(null);return E.useEffect(()=>{e.current=t}),e.current}const JA=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",ZA=typeof document<"u",HE=ZA||JA?E.useLayoutEffect:E.useEffect,eO=["as","disabled"];function tO(t,e){if(t==null)return{};var i={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;i[r]=t[r]}return i}function nO(t){return!t||t.trim()==="#"}function dm({tagName:t,disabled:e,href:i,target:r,rel:o,role:c,onClick:u,tabIndex:h=0,type:p}){t||(i!=null||r!=null||o!=null?t="a":t="button");const m={tagName:t};if(t==="button")return[{type:p||"button",disabled:e},m];const _=b=>{if((e||t==="a"&&nO(i))&&b.preventDefault(),e){b.stopPropagation();return}u?.(b)},v=b=>{b.key===" "&&(b.preventDefault(),_(b))};return t==="a"&&(i||(i="#"),e&&(i=void 0)),[{role:c??"button",disabled:void 0,tabIndex:e?void 0:h,href:i,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?o:void 0,onClick:_,onKeyDown:v},m]}const o0=E.forwardRef((t,e)=>{let{as:i,disabled:r}=t,o=tO(t,eO);const[c,{tagName:u}]=dm(Object.assign({tagName:i,disabled:r},o));return g.jsx(u,Object.assign({},o,c,{ref:e}))});o0.displayName="Button";const iO=["onKeyDown"];function sO(t,e){if(t==null)return{};var i={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;i[r]=t[r]}return i}function rO(t){return!t||t.trim()==="#"}const ll=E.forwardRef((t,e)=>{let{onKeyDown:i}=t,r=sO(t,iO);const[o]=dm(Object.assign({tagName:"a"},r)),c=Ii(u=>{o.onKeyDown(u),i?.(u)});return rO(r.href)||r.role==="button"?g.jsx("a",Object.assign({ref:e},r,o,{onKeyDown:c})):g.jsx("a",Object.assign({ref:e},r,{onKeyDown:i}))});ll.displayName="Anchor";const l0=E.forwardRef(({className:t,bsPrefix:e,as:i=ll,...r},o)=>(e=ae(e,"alert-link"),g.jsx(i,{ref:o,className:J(t,e),...r})));l0.displayName="AlertLink";const aO={[Hn]:"show",[Di]:"show"},Sa=E.forwardRef(({className:t,children:e,transitionClasses:i={},onEnter:r,...o},c)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},h=E.useCallback((p,m)=>{fm(p),r?.(p,m)},[r]);return g.jsx(vl,{ref:c,addEndListener:Xu,...u,onEnter:h,childRef:ka(e),children:(p,m)=>E.cloneElement(e,{...m,className:J("fade",t,e.props.className,aO[p],i[p])})})});Sa.displayName="Fade";const oO={"aria-label":ne.string,onClick:ne.func,variant:ne.oneOf(["white"])},Qu=E.forwardRef(({className:t,variant:e,"aria-label":i="Close",...r},o)=>g.jsx("button",{ref:o,type:"button",className:J("btn-close",e&&`btn-close-${e}`,t),"aria-label":i,...r}));Qu.displayName="CloseButton";Qu.propTypes=oO;const c0=E.forwardRef((t,e)=>{const{bsPrefix:i,show:r=!0,closeLabel:o="Close alert",closeVariant:c,className:u,children:h,variant:p="primary",onClose:m,dismissible:_,transition:v=Sa,...b}=yl(t,{show:"onClose"}),T=ae(i,"alert"),N=oi(L=>{m&&m(!1,L)}),O=v===!0?Sa:v,x=g.jsxs("div",{role:"alert",...O?void 0:b,ref:e,className:J(u,T,p&&`${T}-${p}`,_&&`${T}-dismissible`),children:[_&&g.jsx(Qu,{onClick:N,"aria-label":o,variant:c}),h]});return O?g.jsx(O,{unmountOnExit:!0,...b,ref:void 0,in:r,children:x}):r?x:null});c0.displayName="Alert";const lr=Object.assign(c0,{Link:l0,Heading:a0}),kn=E.forwardRef(({bsPrefix:t,bg:e="primary",pill:i=!1,text:r,className:o,as:c="span",...u},h)=>{const p=ae(t,"badge");return g.jsx(c,{ref:h,...u,className:J(o,p,i&&"rounded-pill",r&&`text-${r}`,e&&`bg-${e}`)})});kn.displayName="Badge";const xe=E.forwardRef(({as:t,bsPrefix:e,variant:i="primary",size:r,active:o=!1,disabled:c=!1,className:u,...h},p)=>{const m=ae(e,"btn"),[_,{tagName:v}]=dm({tagName:t,disabled:c,...h}),b=v;return g.jsx(b,{..._,...h,ref:p,disabled:c,className:J(u,m,o&&"active",i&&`${m}-${i}`,r&&`${m}-${r}`,h.href&&c&&"disabled")})});xe.displayName="Button";const hm=E.forwardRef(({className:t,bsPrefix:e,as:i="div",...r},o)=>(e=ae(e,"card-body"),g.jsx(i,{ref:o,className:J(t,e),...r})));hm.displayName="CardBody";const u0=E.forwardRef(({className:t,bsPrefix:e,as:i="div",...r},o)=>(e=ae(e,"card-footer"),g.jsx(i,{ref:o,className:J(t,e),...r})));u0.displayName="CardFooter";const pm=E.createContext(null);pm.displayName="CardHeaderContext";const f0=E.forwardRef(({bsPrefix:t,className:e,as:i="div",...r},o)=>{const c=ae(t,"card-header"),u=E.useMemo(()=>({cardHeaderBsPrefix:c}),[c]);return g.jsx(pm.Provider,{value:u,children:g.jsx(i,{ref:o,...r,className:J(e,c)})})});f0.displayName="CardHeader";const d0=E.forwardRef(({bsPrefix:t,className:e,variant:i,as:r="img",...o},c)=>{const u=ae(t,"card-img");return g.jsx(r,{ref:c,className:J(i?`${u}-${i}`:u,e),...o})});d0.displayName="CardImg";const h0=E.forwardRef(({className:t,bsPrefix:e,as:i="div",...r},o)=>(e=ae(e,"card-img-overlay"),g.jsx(i,{ref:o,className:J(t,e),...r})));h0.displayName="CardImgOverlay";const p0=E.forwardRef(({className:t,bsPrefix:e,as:i="a",...r},o)=>(e=ae(e,"card-link"),g.jsx(i,{ref:o,className:J(t,e),...r})));p0.displayName="CardLink";const lO=El("h6"),m0=E.forwardRef(({className:t,bsPrefix:e,as:i=lO,...r},o)=>(e=ae(e,"card-subtitle"),g.jsx(i,{ref:o,className:J(t,e),...r})));m0.displayName="CardSubtitle";const g0=E.forwardRef(({className:t,bsPrefix:e,as:i="p",...r},o)=>(e=ae(e,"card-text"),g.jsx(i,{ref:o,className:J(t,e),...r})));g0.displayName="CardText";const cO=El("h5"),y0=E.forwardRef(({className:t,bsPrefix:e,as:i=cO,...r},o)=>(e=ae(e,"card-title"),g.jsx(i,{ref:o,className:J(t,e),...r})));y0.displayName="CardTitle";const _0=E.forwardRef(({bsPrefix:t,className:e,bg:i,text:r,border:o,body:c=!1,children:u,as:h="div",...p},m)=>{const _=ae(t,"card");return g.jsx(h,{ref:m,...p,className:J(e,_,i&&`bg-${i}`,r&&`text-${r}`,o&&`border-${o}`),children:c?g.jsx(hm,{children:u}):u})});_0.displayName="Card";const De=Object.assign(_0,{Img:d0,Title:y0,Subtitle:m0,Body:hm,Link:p0,Text:g0,Header:f0,Footer:u0,ImgOverlay:h0});function uO(t,e){const i=E.useRef(!0);E.useEffect(()=>{if(i.current){i.current=!1;return}return t()},e)}function fO(){const t=E.useRef(!0),e=E.useRef(()=>t.current);return E.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function dO(t){const e=E.useRef(t);return e.current=t,e}function v0(t){const e=dO(t);E.useEffect(()=>()=>e.current(),[])}const Ep=2**31-1;function E0(t,e,i){const r=i-Date.now();t.current=r<=Ep?setTimeout(e,r):setTimeout(()=>E0(t,e,i),Ep)}function hO(){const t=fO(),e=E.useRef();return v0(()=>clearTimeout(e.current)),E.useMemo(()=>{const i=()=>clearTimeout(e.current);function r(o,c=0){t()&&(i(),c<=Ep?e.current=setTimeout(o,c):E0(e,o,Date.now()+c))}return{set:r,clear:i,handleRef:e}},[])}const b0=E.forwardRef(({className:t,bsPrefix:e,as:i="div",...r},o)=>(e=ae(e,"carousel-caption"),g.jsx(i,{ref:o,className:J(t,e),...r})));b0.displayName="CarouselCaption";const S0=E.forwardRef(({as:t="div",bsPrefix:e,className:i,...r},o)=>{const c=J(i,ae(e,"carousel-item"));return g.jsx(t,{ref:o,...r,className:c})});S0.displayName="CarouselItem";function bp(t,e){let i=0;return E.Children.map(t,r=>E.isValidElement(r)?e(r,i++):r)}function pO(t,e){let i=0;E.Children.forEach(t,r=>{E.isValidElement(r)&&e(r,i++)})}function mO(t,e){return E.Children.toArray(t).some(i=>E.isValidElement(i)&&i.type===e)}const gO=40;function yO(t){if(!t||!t.style||!t.parentNode||!t.parentNode.style)return!1;const e=getComputedStyle(t);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(t.parentNode).display!=="none"}const T0=E.forwardRef(({defaultActiveIndex:t=0,...e},i)=>{const{as:r="div",bsPrefix:o,slide:c=!0,fade:u=!1,controls:h=!0,indicators:p=!0,indicatorLabels:m=[],activeIndex:_,onSelect:v,onSlide:b,onSlid:T,interval:N=5e3,keyboard:O=!0,onKeyDown:x,pause:L="hover",onMouseOver:U,onMouseOut:H,wrap:q=!0,touch:X=!0,onTouchStart:I,onTouchMove:V,onTouchEnd:ie,prevIcon:Ue=g.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:We="Previous",nextIcon:rt=g.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:Be="Next",variant:re,className:Ie,children:Se,...B}=yl({defaultActiveIndex:t,...e},{activeIndex:"onSelect"}),Y=ae(o,"carousel"),W=JS(),me=E.useRef(null),[de,w]=E.useState("next"),[z,K]=E.useState(!1),[G,se]=E.useState(!1),[ee,ve]=E.useState(_||0);E.useEffect(()=>{!G&&_!==ee&&(me.current?w(me.current):w((_||0)>ee?"next":"prev"),c&&se(!0),ve(_||0))},[_,G,ee,c]),E.useEffect(()=>{me.current&&(me.current=null)});let Xe=0,Pe;pO(Se,(he,Me)=>{++Xe,Me===_&&(Pe=he.props.interval)});const qt=s0(Pe),gt=E.useCallback(he=>{if(G)return;let Me=ee-1;if(Me<0){if(!q)return;Me=Xe-1}me.current="prev",v?.(Me,he)},[G,ee,v,q,Xe]),ft=oi(he=>{if(G)return;let Me=ee+1;if(Me>=Xe){if(!q)return;Me=0}me.current="next",v?.(Me,he)}),vn=E.useRef();E.useImperativeHandle(i,()=>({element:vn.current,prev:gt,next:ft}));const At=oi(()=>{!document.hidden&&yO(vn.current)&&(W?gt():ft())}),Te=de==="next"?"start":"end";uO(()=>{c||(b?.(ee,Te),T?.(ee,Te))},[ee]);const Xn=`${Y}-item-${de}`,fi=`${Y}-item-${Te}`,br=E.useCallback(he=>{fm(he),b?.(ee,Te)},[b,ee,Te]),js=E.useCallback(()=>{se(!1),T?.(ee,Te)},[T,ee,Te]),Us=E.useCallback(he=>{if(O&&!/input|textarea/i.test(he.target.tagName))switch(he.key){case"ArrowLeft":he.preventDefault(),W?ft(he):gt(he);return;case"ArrowRight":he.preventDefault(),W?gt(he):ft(he);return}x?.(he)},[O,x,gt,ft,W]),Bs=E.useCallback(he=>{L==="hover"&&K(!0),U?.(he)},[L,U]),qa=E.useCallback(he=>{K(!1),H?.(he)},[H]),Sr=E.useRef(0),dt=E.useRef(0),Tr=hO(),Re=E.useCallback(he=>{Sr.current=he.touches[0].clientX,dt.current=0,L==="hover"&&K(!0),I?.(he)},[L,I]),Ln=E.useCallback(he=>{he.touches&&he.touches.length>1?dt.current=0:dt.current=he.touches[0].clientX-Sr.current,V?.(he)},[V]),di=E.useCallback(he=>{if(X){const Me=dt.current;Math.abs(Me)>gO&&(Me>0?gt(he):ft(he))}L==="hover"&&Tr.set(()=>{K(!1)},N||void 0),ie?.(he)},[X,L,gt,ft,Tr,N,ie]),Dl=N!=null&&!z&&!G,Cr=E.useRef();E.useEffect(()=>{var he,Me;if(!Dl)return;const at=W?gt:ft;return Cr.current=window.setInterval(document.visibilityState?At:at,(he=(Me=qt.current)!=null?Me:N)!=null?he:void 0),()=>{Cr.current!==null&&clearInterval(Cr.current)}},[Dl,gt,ft,qt,N,At,W]);const Il=E.useMemo(()=>p&&Array.from({length:Xe},(he,Me)=>at=>{v?.(Me,at)}),[p,Xe,v]);return g.jsxs(r,{ref:vn,...B,onKeyDown:Us,onMouseOver:Bs,onMouseOut:qa,onTouchStart:Re,onTouchMove:Ln,onTouchEnd:di,className:J(Ie,Y,c&&"slide",u&&`${Y}-fade`,re&&`${Y}-${re}`),children:[p&&g.jsx("div",{className:`${Y}-indicators`,children:bp(Se,(he,Me)=>g.jsx("button",{type:"button","data-bs-target":"","aria-label":m!=null&&m.length?m[Me]:`Slide ${Me+1}`,className:Me===ee?"active":void 0,onClick:Il?Il[Me]:void 0,"aria-current":Me===ee},Me))}),g.jsx("div",{className:`${Y}-inner`,children:bp(Se,(he,Me)=>{const at=Me===ee;return c?g.jsx(vl,{in:at,onEnter:at?br:void 0,onEntered:at?js:void 0,addEndListener:Xu,children:(Kt,Ft)=>E.cloneElement(he,{...Ft,className:J(he.props.className,at&&Kt!=="entered"&&Xn,(Kt==="entered"||Kt==="exiting")&&"active",(Kt==="entering"||Kt==="exiting")&&fi)})}):E.cloneElement(he,{className:J(he.props.className,at&&"active")})})}),h&&g.jsxs(g.Fragment,{children:[(q||_!==0)&&g.jsxs(ll,{className:`${Y}-control-prev`,onClick:gt,children:[Ue,We&&g.jsx("span",{className:"visually-hidden",children:We})]}),(q||_!==Xe-1)&&g.jsxs(ll,{className:`${Y}-control-next`,onClick:ft,children:[rt,Be&&g.jsx("span",{className:"visually-hidden",children:Be})]})]})]})});T0.displayName="Carousel";const qE=Object.assign(T0,{Caption:b0,Item:S0});function _O({as:t,bsPrefix:e,className:i,...r}){e=ae(e,"col");const o=XS(),c=QS(),u=[],h=[];return o.forEach(p=>{const m=r[p];delete r[p];let _,v,b;typeof m=="object"&&m!=null?{span:_,offset:v,order:b}=m:_=m;const T=p!==c?`-${p}`:"";_&&u.push(_===!0?`${e}${T}`:`${e}${T}-${_}`),b!=null&&h.push(`order${T}-${b}`),v!=null&&h.push(`offset${T}-${v}`)}),[{...r,className:J(i,...u,...h)},{as:t,bsPrefix:e,spans:u}]}const $n=E.forwardRef((t,e)=>{const[{className:i,...r},{as:o="div",bsPrefix:c,spans:u}]=_O(t);return g.jsx(o,{...r,ref:e,className:J(i,!u.length&&c)})});$n.displayName="Col";const jt=E.forwardRef(({bsPrefix:t,fluid:e=!1,as:i="div",className:r,...o},c)=>{const u=ae(t,"container"),h=typeof e=="string"?`-${e}`:"-fluid";return g.jsx(i,{ref:c,...o,className:J(r,e?`${u}${h}`:u)})});jt.displayName="Container";var vO=Function.prototype.bind.call(Function.prototype.call,[].slice);function ir(t,e){return vO(t.querySelectorAll(e))}function EO(){const[,t]=E.useReducer(e=>e+1,0);return t}function FE(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const Cu=E.createContext(null),Ju=(t,e=null)=>t!=null?String(t):e||null,mm=E.createContext(null);mm.displayName="NavContext";const bO="data-rr-ui-",SO="rrUi";function Zu(t){return`${bO}${t}`}function TO(t){return`${SO}${t}`}const C0=E.createContext(Da?window:void 0);C0.Provider;function gm(){return E.useContext(C0)}const CO=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",wO=typeof document<"u",RO=wO||CO?E.useLayoutEffect:E.useEffect,w0=E.createContext(null);w0.displayName="InputGroupContext";const Ia=E.createContext(null);Ia.displayName="NavbarContext";const NO={type:ne.string,tooltip:ne.bool,as:ne.elementType},ef=E.forwardRef(({as:t="div",className:e,type:i="valid",tooltip:r=!1,...o},c)=>g.jsx(t,{...o,ref:c,className:J(e,`${i}-${r?"tooltip":"feedback"}`)}));ef.displayName="Feedback";ef.propTypes=NO;const qi=E.createContext({}),bl=E.forwardRef(({id:t,bsPrefix:e,className:i,type:r="checkbox",isValid:o=!1,isInvalid:c=!1,as:u="input",...h},p)=>{const{controlId:m}=E.useContext(qi);return e=ae(e,"form-check-input"),g.jsx(u,{...h,ref:p,type:r,id:t||m,className:J(i,e,o&&"is-valid",c&&"is-invalid")})});bl.displayName="FormCheckInput";const wu=E.forwardRef(({bsPrefix:t,className:e,htmlFor:i,...r},o)=>{const{controlId:c}=E.useContext(qi);return t=ae(t,"form-check-label"),g.jsx("label",{...r,ref:o,htmlFor:i||c,className:J(e,t)})});wu.displayName="FormCheckLabel";const R0=E.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:i,inline:r=!1,reverse:o=!1,disabled:c=!1,isValid:u=!1,isInvalid:h=!1,feedbackTooltip:p=!1,feedback:m,feedbackType:_,className:v,style:b,title:T="",type:N="checkbox",label:O,children:x,as:L="input",...U},H)=>{e=ae(e,"form-check"),i=ae(i,"form-switch");const{controlId:q}=E.useContext(qi),X=E.useMemo(()=>({controlId:t||q}),[q,t]),I=!x&&O!=null&&O!==!1||mO(x,wu),V=g.jsx(bl,{...U,type:N==="switch"?"checkbox":N,ref:H,isValid:u,isInvalid:h,disabled:c,as:L});return g.jsx(qi.Provider,{value:X,children:g.jsx("div",{style:b,className:J(v,I&&e,r&&`${e}-inline`,o&&`${e}-reverse`,N==="switch"&&i),children:x||g.jsxs(g.Fragment,{children:[V,I&&g.jsx(wu,{title:T,children:O}),m&&g.jsx(ef,{type:_,tooltip:p,children:m})]})})})});R0.displayName="FormCheck";const Ru=Object.assign(R0,{Input:bl,Label:wu}),N0=E.forwardRef(({bsPrefix:t,type:e,size:i,htmlSize:r,id:o,className:c,isValid:u=!1,isInvalid:h=!1,plaintext:p,readOnly:m,as:_="input",...v},b)=>{const{controlId:T}=E.useContext(qi);return t=ae(t,"form-control"),g.jsx(_,{...v,type:e,size:r,ref:b,readOnly:m,id:o||T,className:J(c,p?`${t}-plaintext`:t,i&&`${t}-${i}`,e==="color"&&`${t}-color`,u&&"is-valid",h&&"is-invalid")})});N0.displayName="FormControl";const xO=Object.assign(N0,{Feedback:ef}),x0=E.forwardRef(({className:t,bsPrefix:e,as:i="div",...r},o)=>(e=ae(e,"form-floating"),g.jsx(i,{ref:o,className:J(t,e),...r})));x0.displayName="FormFloating";const ym=E.forwardRef(({controlId:t,as:e="div",...i},r)=>{const o=E.useMemo(()=>({controlId:t}),[t]);return g.jsx(qi.Provider,{value:o,children:g.jsx(e,{...i,ref:r})})});ym.displayName="FormGroup";const A0=E.forwardRef(({as:t="label",bsPrefix:e,column:i=!1,visuallyHidden:r=!1,className:o,htmlFor:c,...u},h)=>{const{controlId:p}=E.useContext(qi);e=ae(e,"form-label");let m="col-form-label";typeof i=="string"&&(m=`${m} ${m}-${i}`);const _=J(o,e,r&&"visually-hidden",i&&m);return c=c||p,i?g.jsx($n,{ref:h,as:"label",className:_,htmlFor:c,...u}):g.jsx(t,{ref:h,className:_,htmlFor:c,...u})});A0.displayName="FormLabel";const O0=E.forwardRef(({bsPrefix:t,className:e,id:i,...r},o)=>{const{controlId:c}=E.useContext(qi);return t=ae(t,"form-range"),g.jsx("input",{...r,type:"range",ref:o,className:J(e,t),id:i||c})});O0.displayName="FormRange";const k0=E.forwardRef(({bsPrefix:t,size:e,htmlSize:i,className:r,isValid:o=!1,isInvalid:c=!1,id:u,...h},p)=>{const{controlId:m}=E.useContext(qi);return t=ae(t,"form-select"),g.jsx("select",{...h,size:i,ref:p,className:J(r,t,e&&`${t}-${e}`,o&&"is-valid",c&&"is-invalid"),id:u||m})});k0.displayName="FormSelect";const D0=E.forwardRef(({bsPrefix:t,className:e,as:i="small",muted:r,...o},c)=>(t=ae(t,"form-text"),g.jsx(i,{...o,ref:c,className:J(e,t,r&&"text-muted")})));D0.displayName="FormText";const I0=E.forwardRef((t,e)=>g.jsx(Ru,{...t,ref:e,type:"switch"}));I0.displayName="Switch";const AO=Object.assign(I0,{Input:Ru.Input,Label:Ru.Label}),M0=E.forwardRef(({bsPrefix:t,className:e,children:i,controlId:r,label:o,...c},u)=>(t=ae(t,"form-floating"),g.jsxs(ym,{ref:u,className:J(e,t),controlId:r,...c,children:[i,g.jsx("label",{htmlFor:r,children:o})]})));M0.displayName="FloatingLabel";const OO={_ref:ne.any,validated:ne.bool,as:ne.elementType},_m=E.forwardRef(({className:t,validated:e,as:i="form",...r},o)=>g.jsx(i,{...r,ref:o,className:J(t,e&&"was-validated")}));_m.displayName="Form";_m.propTypes=OO;const oe=Object.assign(_m,{Group:ym,Control:xO,Floating:x0,Check:Ru,Switch:AO,Label:A0,Text:D0,Range:O0,Select:k0,FloatingLabel:M0}),tf=E.forwardRef(({className:t,bsPrefix:e,as:i="span",...r},o)=>(e=ae(e,"input-group-text"),g.jsx(i,{ref:o,className:J(t,e),...r})));tf.displayName="InputGroupText";const kO=t=>g.jsx(tf,{children:g.jsx(bl,{type:"checkbox",...t})}),DO=t=>g.jsx(tf,{children:g.jsx(bl,{type:"radio",...t})}),L0=E.forwardRef(({bsPrefix:t,size:e,hasValidation:i,className:r,as:o="div",...c},u)=>{t=ae(t,"input-group");const h=E.useMemo(()=>({}),[]);return g.jsx(w0.Provider,{value:h,children:g.jsx(o,{ref:u,...c,className:J(r,t,e&&`${t}-${e}`,i&&"has-validation")})})});L0.displayName="InputGroup";const ha=Object.assign(L0,{Text:tf,Radio:DO,Checkbox:kO}),VE=t=>!t||typeof t=="function"?t:e=>{t.current=e};function IO(t,e){const i=VE(t),r=VE(e);return o=>{i&&i(o),r&&r(o)}}function nf(t,e){return E.useMemo(()=>IO(t,e),[t,e])}const j0=E.createContext(null),MO=["as","active","eventKey"];function LO(t,e){if(t==null)return{};var i={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;i[r]=t[r]}return i}function vm({key:t,onClick:e,active:i,id:r,role:o,disabled:c}){const u=E.useContext(Cu),h=E.useContext(mm),p=E.useContext(j0);let m=i;const _={role:o};if(h){!o&&h.role==="tablist"&&(_.role="tab");const v=h.getControllerId(t??null),b=h.getControlledId(t??null);_[Zu("event-key")]=t,_.id=v||r,m=i==null&&t!=null?h.activeKey===t:i,(m||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(_["aria-controls"]=b)}return _.role==="tab"&&(_["aria-selected"]=m,m||(_.tabIndex=-1),c&&(_.tabIndex=-1,_["aria-disabled"]=!0)),_.onClick=Ii(v=>{c||(e?.(v),t!=null&&u&&!v.isPropagationStopped()&&u(t,v))}),[_,{isActive:m}]}const U0=E.forwardRef((t,e)=>{let{as:i=o0,active:r,eventKey:o}=t,c=LO(t,MO);const[u,h]=vm(Object.assign({key:Ju(o,c.href),active:r},c));return u[Zu("active")]=h.isActive,g.jsx(i,Object.assign({},c,u,{ref:e}))});U0.displayName="NavItem";const jO=["as","onSelect","activeKey","role","onKeyDown"];function UO(t,e){if(t==null)return{};var i={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;i[r]=t[r]}return i}const $E=()=>{},GE=Zu("event-key"),B0=E.forwardRef((t,e)=>{let{as:i="div",onSelect:r,activeKey:o,role:c,onKeyDown:u}=t,h=UO(t,jO);const p=EO(),m=E.useRef(!1),_=E.useContext(Cu),v=E.useContext(j0);let b,T;v&&(c=c||"tablist",o=v.activeKey,b=v.getControlledId,T=v.getControllerId);const N=E.useRef(null),O=H=>{const q=N.current;if(!q)return null;const X=ir(q,`[${GE}]:not([aria-disabled=true])`),I=q.querySelector("[aria-selected=true]");if(!I||I!==document.activeElement)return null;const V=X.indexOf(I);if(V===-1)return null;let ie=V+H;return ie>=X.length&&(ie=0),ie<0&&(ie=X.length-1),X[ie]},x=(H,q)=>{H!=null&&(r?.(H,q),_?.(H,q))},L=H=>{if(u?.(H),!v)return;let q;switch(H.key){case"ArrowLeft":case"ArrowUp":q=O(-1);break;case"ArrowRight":case"ArrowDown":q=O(1);break;default:return}q&&(H.preventDefault(),x(q.dataset[TO("EventKey")]||null,H),m.current=!0,p())};E.useEffect(()=>{if(N.current&&m.current){const H=N.current.querySelector(`[${GE}][aria-selected=true]`);H?.focus()}m.current=!1});const U=nf(e,N);return g.jsx(Cu.Provider,{value:x,children:g.jsx(mm.Provider,{value:{role:c,activeKey:Ju(o),getControlledId:b||$E,getControllerId:T||$E},children:g.jsx(i,Object.assign({},h,{onKeyDown:L,ref:U,role:c}))})})});B0.displayName="Nav";const z0=Object.assign(B0,{Item:U0}),P0=E.forwardRef(({bsPrefix:t,active:e,disabled:i,eventKey:r,className:o,variant:c,action:u,as:h,...p},m)=>{t=ae(t,"list-group-item");const[_,v]=vm({key:Ju(r,p.href),active:e,...p}),b=oi(N=>{if(i){N.preventDefault(),N.stopPropagation();return}_.onClick(N)});i&&p.tabIndex===void 0&&(p.tabIndex=-1,p["aria-disabled"]=!0);const T=h||(u?p.href?"a":"button":"div");return g.jsx(T,{ref:m,...p,..._,onClick:b,className:J(o,t,v.isActive&&"active",i&&"disabled",c&&`${t}-${c}`,u&&`${t}-action`)})});P0.displayName="ListGroupItem";const H0=E.forwardRef((t,e)=>{const{className:i,bsPrefix:r,variant:o,horizontal:c,numbered:u,as:h="div",...p}=yl(t,{activeKey:"onSelect"}),m=ae(r,"list-group");let _;return c&&(_=c===!0?"horizontal":`horizontal-${c}`),g.jsx(z0,{ref:e,...p,as:h,className:J(i,m,o&&`${m}-${o}`,_&&`${m}-${_}`,u&&`${m}-numbered`)})});H0.displayName="ListGroup";const Jo=Object.assign(H0,{Item:P0});var Jc;function YE(t){if((!Jc&&Jc!==0||t)&&Da){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Jc=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Jc}function BO(){return E.useState(null)}function Fh(t){t===void 0&&(t=Wu());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function zO(t){const e=E.useRef(t);return e.current=t,e}function PO(t){const e=zO(t);E.useEffect(()=>()=>e.current(),[])}function HO(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const KE=Zu("modal-open");class Em{constructor({ownerDocument:e,handleContainerOverflow:i=!0,isRTL:r=!1}={}){this.handleContainerOverflow=i,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return HO(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const i={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[r]:o.style[r]},e.scrollBarWidth&&(i[r]=`${parseInt(Bi(o,r)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(KE,""),Bi(o,i)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const i=this.getElement();i.removeAttribute(KE),Object.assign(i.style,e.style)}add(e){let i=this.modals.indexOf(e);return i!==-1||(i=this.modals.length,this.modals.push(e),this.setModalAttributes(e),i!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),i}remove(e){const i=this.modals.indexOf(e);i!==-1&&(this.modals.splice(i,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Vh=(t,e)=>Da?t==null?(e||Wu()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function qO(t,e){const i=gm(),[r,o]=E.useState(()=>Vh(t,i?.document));if(!r){const c=Vh(t);c&&o(c)}return E.useEffect(()=>{},[e,r]),E.useEffect(()=>{const c=Vh(t);c!==r&&o(c)},[t,r]),r}function FO({children:t,in:e,onExited:i,mountOnEnter:r,unmountOnExit:o}){const c=E.useRef(null),u=E.useRef(e),h=Ii(i);E.useEffect(()=>{e?u.current=!0:h(c.current)},[e,h]);const p=nf(c,ka(t)),m=E.cloneElement(t,{ref:p});return e?m:o||!u.current&&r?null:m}const VO=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function $O(t,e){if(t==null)return{};var i={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;i[r]=t[r]}return i}function GO(t){let{onEnter:e,onEntering:i,onEntered:r,onExit:o,onExiting:c,onExited:u,addEndListener:h,children:p}=t,m=$O(t,VO);const _=E.useRef(null),v=nf(_,ka(p)),b=q=>X=>{q&&_.current&&q(_.current,X)},T=E.useCallback(b(e),[e]),N=E.useCallback(b(i),[i]),O=E.useCallback(b(r),[r]),x=E.useCallback(b(o),[o]),L=E.useCallback(b(c),[c]),U=E.useCallback(b(u),[u]),H=E.useCallback(b(h),[h]);return Object.assign({},m,{nodeRef:_},e&&{onEnter:T},i&&{onEntering:N},r&&{onEntered:O},o&&{onExit:x},c&&{onExiting:L},u&&{onExited:U},h&&{addEndListener:H},{children:typeof p=="function"?(q,X)=>p(q,Object.assign({},X,{ref:v})):E.cloneElement(p,{ref:v})})}const YO=["component"];function KO(t,e){if(t==null)return{};var i={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;i[r]=t[r]}return i}const WO=E.forwardRef((t,e)=>{let{component:i}=t,r=KO(t,YO);const o=GO(r);return g.jsx(i,Object.assign({ref:e},o))});function XO({in:t,onTransition:e}){const i=E.useRef(null),r=E.useRef(!0),o=Ii(e);return HE(()=>{if(!i.current)return;let c=!1;return o({in:t,element:i.current,initial:r.current,isStale:()=>c}),()=>{c=!0}},[t,o]),HE(()=>(r.current=!1,()=>{r.current=!0}),[]),i}function QO({children:t,in:e,onExited:i,onEntered:r,transition:o}){const[c,u]=E.useState(!e);e&&c&&u(!1);const h=XO({in:!!e,onTransition:m=>{const _=()=>{m.isStale()||(m.in?r?.(m.element,m.initial):(u(!0),i?.(m.element)))};Promise.resolve(o(m)).then(_,v=>{throw m.in||u(!0),v})}}),p=nf(h,ka(t));return c&&!e?null:E.cloneElement(t,{ref:p})}function WE(t,e,i){return t?g.jsx(WO,Object.assign({},i,{component:t})):e?g.jsx(QO,Object.assign({},i,{transition:e})):g.jsx(FO,Object.assign({},i))}const JO=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function ZO(t,e){if(t==null)return{};var i={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;i[r]=t[r]}return i}let $h;function ek(t){return $h||($h=new Em({ownerDocument:t?.document})),$h}function tk(t){const e=gm(),i=t||ek(e),r=E.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>i.add(r.current),remove:()=>i.remove(r.current),isTopModal:()=>i.isTopModal(r.current),setDialogRef:E.useCallback(o=>{r.current.dialog=o},[]),setBackdropRef:E.useCallback(o=>{r.current.backdrop=o},[])})}const q0=E.forwardRef((t,e)=>{let{show:i=!1,role:r="dialog",className:o,style:c,children:u,backdrop:h=!0,keyboard:p=!0,onBackdropClick:m,onEscapeKeyDown:_,transition:v,runTransition:b,backdropTransition:T,runBackdropTransition:N,autoFocus:O=!0,enforceFocus:x=!0,restoreFocus:L=!0,restoreFocusOptions:U,renderDialog:H,renderBackdrop:q=Te=>g.jsx("div",Object.assign({},Te)),manager:X,container:I,onShow:V,onHide:ie=()=>{},onExit:Ue,onExited:We,onExiting:rt,onEnter:Be,onEntering:re,onEntered:Ie}=t,Se=ZO(t,JO);const B=gm(),Y=qO(I),W=tk(X),me=XA(),de=QA(i),[w,z]=E.useState(!i),K=E.useRef(null);E.useImperativeHandle(e,()=>W,[W]),Da&&!de&&i&&(K.current=Fh(B?.document)),i&&w&&z(!1);const G=Ii(()=>{if(W.add(),qt.current=Tu(document,"keydown",Xe),Pe.current=Tu(document,"focus",()=>setTimeout(ee),!0),V&&V(),O){var Te,Xn;const fi=Fh((Te=(Xn=W.dialog)==null?void 0:Xn.ownerDocument)!=null?Te:B?.document);W.dialog&&fi&&!FE(W.dialog,fi)&&(K.current=fi,W.dialog.focus())}}),se=Ii(()=>{if(W.remove(),qt.current==null||qt.current(),Pe.current==null||Pe.current(),L){var Te;(Te=K.current)==null||Te.focus==null||Te.focus(U),K.current=null}});E.useEffect(()=>{!i||!Y||G()},[i,Y,G]),E.useEffect(()=>{w&&se()},[w,se]),PO(()=>{se()});const ee=Ii(()=>{if(!x||!me()||!W.isTopModal())return;const Te=Fh(B?.document);W.dialog&&Te&&!FE(W.dialog,Te)&&W.dialog.focus()}),ve=Ii(Te=>{Te.target===Te.currentTarget&&(m?.(Te),h===!0&&ie())}),Xe=Ii(Te=>{p&&zA(Te)&&W.isTopModal()&&(_?.(Te),Te.defaultPrevented||ie())}),Pe=E.useRef(),qt=E.useRef(),gt=(...Te)=>{z(!0),We?.(...Te)};if(!Y)return null;const ft=Object.assign({role:r,ref:W.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Se,{style:c,className:o,tabIndex:-1});let vn=H?H(ft):g.jsx("div",Object.assign({},ft,{children:E.cloneElement(u,{role:"document"})}));vn=WE(v,b,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!i,onExit:Ue,onExiting:rt,onExited:gt,onEnter:Be,onEntering:re,onEntered:Ie,children:vn});let At=null;return h&&(At=q({ref:W.setBackdropRef,onClick:ve}),At=WE(T,N,{in:!!i,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:At})),g.jsx(g.Fragment,{children:da.createPortal(g.jsxs(g.Fragment,{children:[At,vn]}),Y)})});q0.displayName="Modal";const F0=Object.assign(q0,{Manager:Em});function nk(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function ik(t,e){t.classList?t.classList.add(e):nk(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function XE(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function sk(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=XE(t.className,e):t.setAttribute("class",XE(t.className&&t.className.baseVal||"",e))}const ua={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class V0 extends Em{adjustAndStore(e,i,r){const o=i.style[e];i.dataset[e]=o,Bi(i,{[e]:`${parseFloat(Bi(i,e))+r}px`})}restore(e,i){const r=i.dataset[e];r!==void 0&&(delete i.dataset[e],Bi(i,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const i=this.getElement();if(ik(i,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ir(i,ua.FIXED_CONTENT).forEach(c=>this.adjustAndStore(r,c,e.scrollBarWidth)),ir(i,ua.STICKY_CONTENT).forEach(c=>this.adjustAndStore(o,c,-e.scrollBarWidth)),ir(i,ua.NAVBAR_TOGGLER).forEach(c=>this.adjustAndStore(o,c,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const i=this.getElement();sk(i,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ir(i,ua.FIXED_CONTENT).forEach(c=>this.restore(r,c)),ir(i,ua.STICKY_CONTENT).forEach(c=>this.restore(o,c)),ir(i,ua.NAVBAR_TOGGLER).forEach(c=>this.restore(o,c))}}let Gh;function $0(t){return Gh||(Gh=new V0(t)),Gh}const G0=E.forwardRef(({className:t,bsPrefix:e,as:i="div",...r},o)=>(e=ae(e,"modal-body"),g.jsx(i,{ref:o,className:J(t,e),...r})));G0.displayName="ModalBody";const bm=E.createContext({onHide(){}}),Sm=E.forwardRef(({bsPrefix:t,className:e,contentClassName:i,centered:r,size:o,fullscreen:c,children:u,scrollable:h,...p},m)=>{t=ae(t,"modal");const _=`${t}-dialog`,v=typeof c=="string"?`${t}-fullscreen-${c}`:`${t}-fullscreen`;return g.jsx("div",{...p,ref:m,className:J(_,e,o&&`${t}-${o}`,r&&`${_}-centered`,h&&`${_}-scrollable`,c&&v),children:g.jsx("div",{className:J(`${t}-content`,i),children:u})})});Sm.displayName="ModalDialog";const Y0=E.forwardRef(({className:t,bsPrefix:e,as:i="div",...r},o)=>(e=ae(e,"modal-footer"),g.jsx(i,{ref:o,className:J(t,e),...r})));Y0.displayName="ModalFooter";const Tm=E.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:i=!1,onHide:r,children:o,...c},u)=>{const h=E.useContext(bm),p=oi(()=>{h?.onHide(),r?.()});return g.jsxs("div",{ref:u,...c,children:[o,i&&g.jsx(Qu,{"aria-label":t,variant:e,onClick:p})]})});Tm.displayName="AbstractModalHeader";const K0=E.forwardRef(({bsPrefix:t,className:e,closeLabel:i="Close",closeButton:r=!1,...o},c)=>(t=ae(t,"modal-header"),g.jsx(Tm,{ref:c,...o,className:J(e,t),closeLabel:i,closeButton:r})));K0.displayName="ModalHeader";const rk=El("h4"),W0=E.forwardRef(({className:t,bsPrefix:e,as:i=rk,...r},o)=>(e=ae(e,"modal-title"),g.jsx(i,{ref:o,className:J(t,e),...r})));W0.displayName="ModalTitle";function ak(t){return g.jsx(Sa,{...t,timeout:null})}function ok(t){return g.jsx(Sa,{...t,timeout:null})}const X0=E.forwardRef(({bsPrefix:t,className:e,style:i,dialogClassName:r,contentClassName:o,children:c,dialogAs:u=Sm,"data-bs-theme":h,"aria-labelledby":p,"aria-describedby":m,"aria-label":_,show:v=!1,animation:b=!0,backdrop:T=!0,keyboard:N=!0,onEscapeKeyDown:O,onShow:x,onHide:L,container:U,autoFocus:H=!0,enforceFocus:q=!0,restoreFocus:X=!0,restoreFocusOptions:I,onEntered:V,onExit:ie,onExiting:Ue,onEnter:We,onEntering:rt,onExited:Be,backdropClassName:re,manager:Ie,...Se},B)=>{const[Y,W]=E.useState({}),[me,de]=E.useState(!1),w=E.useRef(!1),z=E.useRef(!1),K=E.useRef(null),[G,se]=BO(),ee=n0(B,se),ve=oi(L),Xe=JS();t=ae(t,"modal");const Pe=E.useMemo(()=>({onHide:ve}),[ve]);function qt(){return Ie||$0({isRTL:Xe})}function gt(Re){if(!Da)return;const Ln=qt().getScrollbarWidth()>0,di=Re.scrollHeight>Wu(Re).documentElement.clientHeight;W({paddingRight:Ln&&!di?YE():void 0,paddingLeft:!Ln&&di?YE():void 0})}const ft=oi(()=>{G&&gt(G.dialog)});v0(()=>{vp(window,"resize",ft),K.current==null||K.current()});const vn=()=>{w.current=!0},At=Re=>{w.current&&G&&Re.target===G.dialog&&(z.current=!0),w.current=!1},Te=()=>{de(!0),K.current=t0(G.dialog,()=>{de(!1)})},Xn=Re=>{Re.target===Re.currentTarget&&Te()},fi=Re=>{if(T==="static"){Xn(Re);return}if(z.current||Re.target!==Re.currentTarget){z.current=!1;return}L?.()},br=Re=>{N?O?.(Re):(Re.preventDefault(),T==="static"&&Te())},js=(Re,Ln)=>{Re&&gt(Re),We?.(Re,Ln)},Us=Re=>{K.current==null||K.current(),ie?.(Re)},Bs=(Re,Ln)=>{rt?.(Re,Ln),e0(window,"resize",ft)},qa=Re=>{Re&&(Re.style.display=""),Be?.(Re),vp(window,"resize",ft)},Sr=E.useCallback(Re=>g.jsx("div",{...Re,className:J(`${t}-backdrop`,re,!b&&"show")}),[b,re,t]),dt={...i,...Y};dt.display="block";const Tr=Re=>g.jsx("div",{role:"dialog",...Re,style:dt,className:J(e,t,me&&`${t}-static`,!b&&"show"),onClick:T?fi:void 0,onMouseUp:At,"data-bs-theme":h,"aria-label":_,"aria-labelledby":p,"aria-describedby":m,children:g.jsx(u,{...Se,onMouseDown:vn,className:r,contentClassName:o,children:c})});return g.jsx(bm.Provider,{value:Pe,children:g.jsx(F0,{show:v,ref:ee,backdrop:T,container:U,keyboard:!0,autoFocus:H,enforceFocus:q,restoreFocus:X,restoreFocusOptions:I,onEscapeKeyDown:br,onShow:x,onHide:L,onEnter:js,onEntering:Bs,onEntered:V,onExit:Us,onExiting:Ue,onExited:qa,manager:qt(),transition:b?ak:void 0,backdropTransition:b?ok:void 0,renderBackdrop:Sr,renderDialog:Tr})})});X0.displayName="Modal";const Tt=Object.assign(X0,{Body:G0,Header:K0,Title:W0,Footer:Y0,Dialog:Sm,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Q0=E.forwardRef(({className:t,bsPrefix:e,as:i="div",...r},o)=>(e=ae(e,"nav-item"),g.jsx(i,{ref:o,className:J(t,e),...r})));Q0.displayName="NavItem";const J0=E.forwardRef(({bsPrefix:t,className:e,as:i=ll,active:r,eventKey:o,disabled:c=!1,...u},h)=>{t=ae(t,"nav-link");const[p,m]=vm({key:Ju(o,u.href),active:r,disabled:c,...u});return g.jsx(i,{...u,...p,ref:h,disabled:c,className:J(e,t,c&&"disabled",m.isActive&&"active")})});J0.displayName="NavLink";const Z0=E.forwardRef((t,e)=>{const{as:i="div",bsPrefix:r,variant:o,fill:c=!1,justify:u=!1,navbar:h,navbarScroll:p,className:m,activeKey:_,...v}=yl(t,{activeKey:"onSelect"}),b=ae(r,"nav");let T,N,O=!1;const x=E.useContext(Ia),L=E.useContext(pm);return x?(T=x.bsPrefix,O=h??!0):L&&({cardHeaderBsPrefix:N}=L),g.jsx(z0,{as:i,ref:e,activeKey:_,className:J(m,{[b]:!O,[`${T}-nav`]:O,[`${T}-nav-scroll`]:O&&p,[`${N}-${o}`]:!!N,[`${b}-${o}`]:!!o,[`${b}-fill`]:c,[`${b}-justified`]:u}),...v})});Z0.displayName="Nav";const Es=Object.assign(Z0,{Item:Q0,Link:J0}),eT=E.forwardRef(({bsPrefix:t,className:e,as:i,...r},o)=>{t=ae(t,"navbar-brand");const c=i||(r.href?"a":"span");return g.jsx(c,{...r,ref:o,className:J(e,t)})});eT.displayName="NavbarBrand";const tT=E.forwardRef(({children:t,bsPrefix:e,...i},r)=>{e=ae(e,"navbar-collapse");const o=E.useContext(Ia);return g.jsx(i0,{in:!!(o&&o.expanded),...i,children:g.jsx("div",{ref:r,className:e,children:t})})});tT.displayName="NavbarCollapse";const nT=E.forwardRef(({bsPrefix:t,className:e,children:i,label:r="Toggle navigation",as:o="button",onClick:c,...u},h)=>{t=ae(t,"navbar-toggler");const{onToggle:p,expanded:m}=E.useContext(Ia)||{},_=oi(v=>{c&&c(v),p&&p()});return o==="button"&&(u.type="button"),g.jsx(o,{...u,ref:h,onClick:_,"aria-label":r,className:J(e,t,!m&&"collapsed"),children:i||g.jsx("span",{className:`${t}-icon`})})});nT.displayName="NavbarToggle";const Sp=new WeakMap,QE=(t,e)=>{if(!t||!e)return;const i=Sp.get(e)||new Map;Sp.set(e,i);let r=i.get(t);return r||(r=e.matchMedia(t),r.refCount=0,i.set(r.media,r)),r};function lk(t,e=typeof window>"u"?void 0:window){const i=QE(t,e),[r,o]=E.useState(()=>i?i.matches:!1);return RO(()=>{let c=QE(t,e);if(!c)return o(!1);let u=Sp.get(e);const h=()=>{o(c.matches)};return c.refCount++,c.addListener(h),h(),()=>{c.removeListener(h),c.refCount--,c.refCount<=0&&u?.delete(c.media),c=void 0}},[t]),r}function ck(t){const e=Object.keys(t);function i(h,p){return h===p?p:h?`${h} and ${p}`:p}function r(h){return e[Math.min(e.indexOf(h)+1,e.length-1)]}function o(h){const p=r(h);let m=t[p];return typeof m=="number"?m=`${m-.2}px`:m=`calc(${m} - 0.2px)`,`(max-width: ${m})`}function c(h){let p=t[h];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function u(h,p,m){let _;typeof h=="object"?(_=h,m=p,p=!0):(p=p||!0,_={[h]:p});let v=E.useMemo(()=>Object.entries(_).reduce((b,[T,N])=>((N==="up"||N===!0)&&(b=i(b,c(T))),(N==="down"||N===!0)&&(b=i(b,o(T))),b),""),[JSON.stringify(_)]);return lk(v,m)}return u}const uk=ck({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),iT=E.forwardRef(({className:t,bsPrefix:e,as:i="div",...r},o)=>(e=ae(e,"offcanvas-body"),g.jsx(i,{ref:o,className:J(t,e),...r})));iT.displayName="OffcanvasBody";const fk={[Hn]:"show",[Di]:"show"},sT=E.forwardRef(({bsPrefix:t,className:e,children:i,in:r=!1,mountOnEnter:o=!1,unmountOnExit:c=!1,appear:u=!1,...h},p)=>(t=ae(t,"offcanvas"),g.jsx(vl,{ref:p,addEndListener:Xu,in:r,mountOnEnter:o,unmountOnExit:c,appear:u,...h,childRef:ka(i),children:(m,_)=>E.cloneElement(i,{..._,className:J(e,i.props.className,(m===Hn||m===ol)&&`${t}-toggling`,fk[m])})})));sT.displayName="OffcanvasToggling";const rT=E.forwardRef(({bsPrefix:t,className:e,closeLabel:i="Close",closeButton:r=!1,...o},c)=>(t=ae(t,"offcanvas-header"),g.jsx(Tm,{ref:c,...o,className:J(e,t),closeLabel:i,closeButton:r})));rT.displayName="OffcanvasHeader";const dk=El("h5"),aT=E.forwardRef(({className:t,bsPrefix:e,as:i=dk,...r},o)=>(e=ae(e,"offcanvas-title"),g.jsx(i,{ref:o,className:J(t,e),...r})));aT.displayName="OffcanvasTitle";function hk(t){return g.jsx(sT,{...t})}function pk(t){return g.jsx(Sa,{...t})}const oT=E.forwardRef(({bsPrefix:t,className:e,children:i,"aria-labelledby":r,placement:o="start",responsive:c,show:u=!1,backdrop:h=!0,keyboard:p=!0,scroll:m=!1,onEscapeKeyDown:_,onShow:v,onHide:b,container:T,autoFocus:N=!0,enforceFocus:O=!0,restoreFocus:x=!0,restoreFocusOptions:L,onEntered:U,onExit:H,onExiting:q,onEnter:X,onEntering:I,onExited:V,backdropClassName:ie,manager:Ue,renderStaticNode:We=!1,...rt},Be)=>{const re=E.useRef();t=ae(t,"offcanvas");const[Ie,Se]=E.useState(!1),B=oi(b),Y=uk(c||"xs","up");E.useEffect(()=>{Se(c?u&&!Y:u)},[u,c,Y]);const W=E.useMemo(()=>({onHide:B}),[B]);function me(){return Ue||(m?(re.current||(re.current=new V0({handleContainerOverflow:!1})),re.current):$0())}const de=(G,...se)=>{G&&(G.style.visibility="visible"),X?.(G,...se)},w=(G,...se)=>{G&&(G.style.visibility=""),V?.(...se)},z=E.useCallback(G=>g.jsx("div",{...G,className:J(`${t}-backdrop`,ie)}),[ie,t]),K=G=>g.jsx("div",{...G,...rt,className:J(e,c?`${t}-${c}`:t,`${t}-${o}`),"aria-labelledby":r,children:i});return g.jsxs(g.Fragment,{children:[!Ie&&(c||We)&&K({}),g.jsx(bm.Provider,{value:W,children:g.jsx(F0,{show:Ie,ref:Be,backdrop:h,container:T,keyboard:p,autoFocus:N,enforceFocus:O&&!m,restoreFocus:x,restoreFocusOptions:L,onEscapeKeyDown:_,onShow:v,onHide:B,onEnter:de,onEntering:I,onEntered:U,onExit:H,onExiting:q,onExited:w,manager:me(),transition:hk,backdropTransition:pk,renderBackdrop:z,renderDialog:K})})]})});oT.displayName="Offcanvas";const mk=Object.assign(oT,{Body:iT,Header:rT,Title:aT}),lT=E.forwardRef(({onHide:t,...e},i)=>{const r=E.useContext(Ia),o=oi(()=>{r==null||r.onToggle==null||r.onToggle(),t?.()});return g.jsx(mk,{ref:i,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:o})});lT.displayName="NavbarOffcanvas";const cT=E.forwardRef(({className:t,bsPrefix:e,as:i="span",...r},o)=>(e=ae(e,"navbar-text"),g.jsx(i,{ref:o,className:J(t,e),...r})));cT.displayName="NavbarText";const uT=E.forwardRef((t,e)=>{const{bsPrefix:i,expand:r=!0,variant:o="light",bg:c,fixed:u,sticky:h,className:p,as:m="nav",expanded:_,onToggle:v,onSelect:b,collapseOnSelect:T=!1,...N}=yl(t,{expanded:"onToggle"}),O=ae(i,"navbar"),x=E.useCallback((...H)=>{b?.(...H),T&&_&&v?.(!1)},[b,T,_,v]);N.role===void 0&&m!=="nav"&&(N.role="navigation");let L=`${O}-expand`;typeof r=="string"&&(L=`${L}-${r}`);const U=E.useMemo(()=>({onToggle:()=>v?.(!_),bsPrefix:O,expanded:!!_,expand:r}),[O,_,r,v]);return g.jsx(Ia.Provider,{value:U,children:g.jsx(Cu.Provider,{value:x,children:g.jsx(m,{ref:e,...N,className:J(p,O,r&&L,o&&`${O}-${o}`,c&&`bg-${c}`,h&&`sticky-${h}`,u&&`fixed-${u}`)})})})});uT.displayName="Navbar";const Zc=Object.assign(uT,{Brand:eT,Collapse:tT,Offcanvas:lT,Text:cT,Toggle:nT}),JE=1e3;function gk(t,e,i){const r=(t-e)/(i-e)*100;return Math.round(r*JE)/JE}function ZE({min:t,now:e,max:i,label:r,visuallyHidden:o,striped:c,animated:u,className:h,style:p,variant:m,bsPrefix:_,...v},b){return g.jsx("div",{ref:b,...v,role:"progressbar",className:J(h,`${_}-bar`,{[`bg-${m}`]:m,[`${_}-bar-animated`]:u,[`${_}-bar-striped`]:u||c}),style:{width:`${gk(e,t,i)}%`,...p},"aria-valuenow":e,"aria-valuemin":t,"aria-valuemax":i,children:o?g.jsx("span",{className:"visually-hidden",children:r}):r})}const fT=E.forwardRef(({isChild:t=!1,...e},i)=>{const r={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...e};if(r.bsPrefix=ae(r.bsPrefix,"progress"),t)return ZE(r,i);const{min:o,now:c,max:u,label:h,visuallyHidden:p,striped:m,animated:_,bsPrefix:v,variant:b,className:T,children:N,...O}=r;return g.jsx("div",{ref:i,...O,className:J(T,v),children:N?bp(N,x=>E.cloneElement(x,{isChild:!0})):ZE({min:o,now:c,max:u,label:h,visuallyHidden:p,striped:m,animated:_,bsPrefix:v,variant:b},i)})});fT.displayName="ProgressBar";const Ma=E.forwardRef(({bsPrefix:t,className:e,as:i="div",...r},o)=>{const c=ae(t,"row"),u=XS(),h=QS(),p=`${c}-cols`,m=[];return u.forEach(_=>{const v=r[_];delete r[_];let b;v!=null&&typeof v=="object"?{cols:b}=v:b=v;const T=_!==h?`-${_}`:"";b!=null&&m.push(`${p}${T}-${b}`)}),g.jsx(i,{ref:o,...r,className:J(e,c,...m)})});Ma.displayName="Row";const In=E.forwardRef(({bsPrefix:t,variant:e,animation:i="border",size:r,as:o="div",className:c,...u},h)=>{t=ae(t,"spinner");const p=`${t}-${i}`;return g.jsx(o,{ref:h,...u,className:J(c,p,r&&`${p}-${r}`,e&&`text-${e}`)})});In.displayName="Spinner";const yk=()=>{};var eb={};const dT={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const Q=function(t,e){if(!t)throw La(e)},La=function(t){return new Error("Firebase Database ("+dT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};const hT=function(t){const e=[];let i=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},_k=function(t){const e=[];let i=0,r=0;for(;i<t.length;){const o=t[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=t[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=t[i++],u=t[i++],h=t[i++],p=((o&7)<<18|(c&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const c=t[i++],u=t[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},Cm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const c=t[o],u=o+1<t.length,h=u?t[o+1]:0,p=o+2<t.length,m=p?t[o+2]:0,_=c>>2,v=(c&3)<<4|h>>4;let b=(h&15)<<2|m>>6,T=m&63;p||(T=64,u||(b=64)),r.push(i[_],i[v],i[b],i[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_k(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const c=i[t.charAt(o++)],h=o<t.length?i[t.charAt(o)]:0;++o;const m=o<t.length?i[t.charAt(o)]:64;++o;const v=o<t.length?i[t.charAt(o)]:64;if(++o,c==null||h==null||m==null||v==null)throw new vk;const b=c<<2|h>>4;if(r.push(b),m!==64){const T=h<<4&240|m>>2;if(r.push(T),v!==64){const N=m<<6&192|v;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pT=function(t){const e=hT(t);return Cm.encodeByteArray(e,!0)},Nu=function(t){return pT(t).replace(/\./g,"")},xu=function(t){try{return Cm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ek(t){return mT(void 0,t)}function mT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!bk(i)||(t[i]=mT(t[i],e[i]));return t}function bk(t){return t!=="__proto__"}function Sk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Tk=()=>Sk().__FIREBASE_DEFAULTS__,Ck=()=>{if(typeof process>"u"||typeof eb>"u")return;const t=eb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xu(t[1]);return e&&JSON.parse(e)},wm=()=>{try{return yk()||Tk()||Ck()||wk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gT=t=>wm()?.emulatorHosts?.[t],yT=t=>{const e=gT(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},_T=()=>wm()?.config,vT=t=>wm()?.[`_${t}`];class Rm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Ms(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Nm(t){return(await fetch(t,{credentials:"include"})).ok}function ET(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Nu(JSON.stringify(i)),Nu(JSON.stringify(u)),""].join(".")}const Zo={};function Rk(){const t={prod:[],emulator:[]};for(const e of Object.keys(Zo))Zo[e]?t.emulator.push(e):t.prod.push(e);return t}function Nk(t){let e=document.getElementById(t),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),i=!0),{created:i,element:e}}let tb=!1;function xm(t,e){if(typeof window>"u"||typeof document>"u"||!Ms(window.location.host)||Zo[t]===e||Zo[t]||tb)return;Zo[t]=e;function i(b){return`__firebase__banner__${b}`}const r="__firebase__banner",c=Rk().prod.length>0;function u(){const b=document.getElementById(r);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,T){b.setAttribute("width","24"),b.setAttribute("id",T),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{tb=!0,u()},b}function _(b,T){b.setAttribute("id",T),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=Nk(r),T=i("text"),N=document.getElementById(T)||document.createElement("span"),O=i("learnmore"),x=document.getElementById(O)||document.createElement("a"),L=i("preprendIcon"),U=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const H=b.element;h(H),_(x,O);const q=m();p(U,L),H.append(U,N,x,q),document.body.appendChild(H)}c?(N.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Am(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function xk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ak(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ok(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kk(){return dT.NODE_ADMIN===!0}function Dk(){try{return typeof indexedDB=="object"}catch{return!1}}function Ik(){return new Promise((t,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const Mk="FirebaseError";class Yi extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=Mk,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?Lk(c,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Yi(o,h,r)}}function Lk(t,e){return t.replace(jk,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const jk=/\{\$([^}]+)}/g;function cl(t){return JSON.parse(t)}function Lt(t){return JSON.stringify(t)}const ST=function(t){let e={},i={},r={},o="";try{const c=t.split(".");e=cl(xu(c[0])||""),i=cl(xu(c[1])||""),o=c[2],r=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:r,signature:o}},Uk=function(t){const e=ST(t),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},Bk=function(t){const e=ST(t).claims;return typeof e=="object"&&e.admin===!0};function Ki(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ta(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Tp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Au(t,e,i){const r={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(i,t[o],o,t));return r}function cr(t,e){if(t===e)return!0;const i=Object.keys(t),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=t[o],u=e[o];if(nb(c)&&nb(u)){if(!cr(c,u))return!1}else if(c!==u)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function nb(t){return t!==null&&typeof t=="object"}function ja(t){const e=[];for(const[i,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Xo(t){const e=t.indexOf("?");if(!e)return"";const i=t.indexOf("#",e);return t.substring(e,i>0?i:void 0)}class zk{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const r=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)r[v]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let v=0;v<16;v++)r[v]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let v=16;v<80;v++){const b=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(b<<1|b>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],u=this.chain_[2],h=this.chain_[3],p=this.chain_[4],m,_;for(let v=0;v<80;v++){v<40?v<20?(m=h^c&(u^h),_=1518500249):(m=c^u^h,_=1859775393):v<60?(m=c&u|h&(c|u),_=2400959708):(m=c^u^h,_=3395469782);const b=(o<<5|o>>>27)+m+p+_+r[v]&4294967295;p=h,h=u,u=(c<<30|c>>>2)&4294967295,c=o,o=b}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const r=i-this.blockSize;let o=0;const c=this.buf_;let u=this.inbuf_;for(;o<i;){if(u===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(c[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(c),u=0;break}}else for(;o<i;)if(c[u]=e[o],++u,++o,u===this.blockSize){this.compress_(c),u=0;break}}this.inbuf_=u,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)e[r]=this.chain_[o]>>c&255,++r;return e}}function Pk(t,e){const i=new Hk(t,e);return i.subscribe.bind(i)}class Hk{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");qk(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=Yh),o.error===void 0&&(o.error=Yh),o.complete===void 0&&(o.complete=Yh);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qk(t,e){if(typeof t!="object"||t===null)return!1;for(const i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}function Yh(){}function Fk(t,e){return`${t} failed: ${e} argument `}const Vk=function(t){const e=[];let i=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const c=o-55296;r++,Q(r<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(r)-56320;o=65536+(c<<10)+u}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},sf=function(t){let e=0;for(let i=0;i<t.length;i++){const r=t.charCodeAt(i);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,i++):e+=3}return e};function Ut(t){return t&&t._delegate?t._delegate:t}class Ds{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const sr="[DEFAULT]";class $k{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new Rm;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yk(e))try{this.getOrInitializeService({instanceIdentifier:sr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sr){return this.instances.has(e)}getOptions(e=sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);r===h&&u.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Gk(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sr){return this.component?this.component.multipleInstances?e:sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gk(t){return t===sr?void 0:t}function Yk(t){return t.instantiationMode==="EAGER"}class Kk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new $k(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const Wk={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},Xk=Ye.INFO,Qk={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},Jk=(t,e,...i)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=Qk[e];if(o)console[o](`[${r}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Om{constructor(e){this.name=e,this._logLevel=Xk,this._logHandler=Jk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const Zk=(t,e)=>e.some(i=>t instanceof i);let ib,sb;function eD(){return ib||(ib=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tD(){return sb||(sb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TT=new WeakMap,Cp=new WeakMap,CT=new WeakMap,Kh=new WeakMap,km=new WeakMap;function nD(t){const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{i(xs(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(i=>{i instanceof IDBCursor&&TT.set(i,t)}).catch(()=>{}),km.set(e,t),e}function iD(t){if(Cp.has(t))return;const e=new Promise((i,r)=>{const o=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{i(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});Cp.set(t,e)}let wp={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return Cp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CT.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return xs(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sD(t){wp=t(wp)}function rD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=t.call(Wh(this),e,...i);return CT.set(r,e.sort?e.sort():[e]),xs(r)}:tD().includes(t)?function(...e){return t.apply(Wh(this),e),xs(TT.get(this))}:function(...e){return xs(t.apply(Wh(this),e))}}function aD(t){return typeof t=="function"?rD(t):(t instanceof IDBTransaction&&iD(t),Zk(t,eD())?new Proxy(t,wp):t)}function xs(t){if(t instanceof IDBRequest)return nD(t);if(Kh.has(t))return Kh.get(t);const e=aD(t);return e!==t&&(Kh.set(t,e),km.set(e,t)),e}const Wh=t=>km.get(t);function oD(t,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const u=indexedDB.open(t,e),h=xs(u);return r&&u.addEventListener("upgradeneeded",p=>{r(xs(u.result),p.oldVersion,p.newVersion,xs(u.transaction),p)}),i&&u.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),h.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const lD=["get","getKey","getAll","getAllKeys","count"],cD=["put","add","delete","clear"],Xh=new Map;function rb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xh.get(e))return Xh.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=cD.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||lD.includes(i)))return;const c=async function(u,...h){const p=this.transaction(u,o?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[i](...h),o&&p.done]))[0]};return Xh.set(e,c),c}sD(t=>({...t,get:(e,i,r)=>rb(e,i)||t.get(e,i,r),has:(e,i)=>!!rb(e,i)||t.has(e,i)}));class uD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(fD(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function fD(t){return t.getComponent()?.type==="VERSION"}const Rp="@firebase/app",ab="0.14.6";const Fi=new Om("@firebase/app"),dD="@firebase/app-compat",hD="@firebase/analytics-compat",pD="@firebase/analytics",mD="@firebase/app-check-compat",gD="@firebase/app-check",yD="@firebase/auth",_D="@firebase/auth-compat",vD="@firebase/database",ED="@firebase/data-connect",bD="@firebase/database-compat",SD="@firebase/functions",TD="@firebase/functions-compat",CD="@firebase/installations",wD="@firebase/installations-compat",RD="@firebase/messaging",ND="@firebase/messaging-compat",xD="@firebase/performance",AD="@firebase/performance-compat",OD="@firebase/remote-config",kD="@firebase/remote-config-compat",DD="@firebase/storage",ID="@firebase/storage-compat",MD="@firebase/firestore",LD="@firebase/ai",jD="@firebase/firestore-compat",UD="firebase",BD="12.6.0";const Np="[DEFAULT]",zD={[Rp]:"fire-core",[dD]:"fire-core-compat",[pD]:"fire-analytics",[hD]:"fire-analytics-compat",[gD]:"fire-app-check",[mD]:"fire-app-check-compat",[yD]:"fire-auth",[_D]:"fire-auth-compat",[vD]:"fire-rtdb",[ED]:"fire-data-connect",[bD]:"fire-rtdb-compat",[SD]:"fire-fn",[TD]:"fire-fn-compat",[CD]:"fire-iid",[wD]:"fire-iid-compat",[RD]:"fire-fcm",[ND]:"fire-fcm-compat",[xD]:"fire-perf",[AD]:"fire-perf-compat",[OD]:"fire-rc",[kD]:"fire-rc-compat",[DD]:"fire-gcs",[ID]:"fire-gcs-compat",[MD]:"fire-fst",[jD]:"fire-fst-compat",[LD]:"fire-vertex","fire-js":"fire-js",[UD]:"fire-js-all"};const Ou=new Map,PD=new Map,xp=new Map;function ob(t,e){try{t.container.addComponent(e)}catch(i){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function ur(t){const e=t.name;if(xp.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;xp.set(e,t);for(const i of Ou.values())ob(i,t);for(const i of PD.values())ob(i,t);return!0}function rf(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function hn(t){return t==null?!1:t.settings!==void 0}const HD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new Sl("app","Firebase",HD);class qD{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}const yr=BD;function wT(t,e={}){let i=t;typeof e!="object"&&(e={name:e});const r={name:Np,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw As.create("bad-app-name",{appName:String(o)});if(i||(i=_T()),!i)throw As.create("no-options");const c=Ou.get(o);if(c){if(cr(i,c.options)&&cr(r,c.config))return c;throw As.create("duplicate-app",{appName:o})}const u=new Kk(o);for(const p of xp.values())u.addComponent(p);const h=new qD(i,r,u);return Ou.set(o,h),h}function Dm(t=Np){const e=Ou.get(t);if(!e&&t===Np&&_T())return wT();if(!e)throw As.create("no-app",{appName:t});return e}function ii(t,e,i){let r=zD[t]??t;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(u.join(" "));return}ur(new Ds(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const FD="firebase-heartbeat-database",VD=1,ul="firebase-heartbeat-store";let Qh=null;function RT(){return Qh||(Qh=oD(FD,VD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ul)}catch(i){console.warn(i)}}}}).catch(t=>{throw As.create("idb-open",{originalErrorMessage:t.message})})),Qh}async function $D(t){try{const i=(await RT()).transaction(ul),r=await i.objectStore(ul).get(NT(t));return await i.done,r}catch(e){if(e instanceof Yi)Fi.warn(e.message);else{const i=As.create("idb-get",{originalErrorMessage:e?.message});Fi.warn(i.message)}}}async function lb(t,e){try{const r=(await RT()).transaction(ul,"readwrite");await r.objectStore(ul).put(e,NT(t)),await r.done}catch(i){if(i instanceof Yi)Fi.warn(i.message);else{const r=As.create("idb-set",{originalErrorMessage:i?.message});Fi.warn(r.message)}}}function NT(t){return`${t.name}!${t.options.appId}`}const GD=1024,YD=30;class KD{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new XD(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>YD){const o=QD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cb(),{heartbeatsToSend:i,unsentEntries:r}=WD(this._heartbeatsCache.heartbeats),o=Nu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Fi.warn(e),""}}}function cb(){return new Date().toISOString().substring(0,10)}function WD(t,e=GD){const i=[];let r=t.slice();for(const o of t){const c=i.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),ub(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),ub(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class XD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dk()?Ik().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await $D(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ub(t){return Nu(JSON.stringify({version:2,heartbeats:t})).length}function QD(t){if(t.length===0)return-1;let e=0,i=t[0].date;for(let r=1;r<t.length;r++)t[r].date<i&&(i=t[r].date,e=r);return e}function JD(t){ur(new Ds("platform-logger",e=>new uD(e),"PRIVATE")),ur(new Ds("heartbeat",e=>new KD(e),"PRIVATE")),ii(Rp,ab,t),ii(Rp,ab,"esm2020"),ii("fire-js","")}JD("");var ZD="firebase",eI="12.7.0";ii(ZD,eI,"app");function xT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tI=xT,AT=new Sl("auth","Firebase",xT());const ku=new Om("@firebase/auth");function nI(t,...e){ku.logLevel<=Ye.WARN&&ku.warn(`Auth (${yr}): ${t}`,...e)}function du(t,...e){ku.logLevel<=Ye.ERROR&&ku.error(`Auth (${yr}): ${t}`,...e)}function Yn(t,...e){throw Im(t,...e)}function si(t,...e){return Im(t,...e)}function OT(t,e,i){const r={...tI(),[e]:i};return new Sl("auth","Firebase",r).create(e,{appName:t.name})}function zi(t){return OT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(t,...e){if(typeof t!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(i,...r)}return AT.create(t,...e)}function fe(t,e,...i){if(!t)throw Im(e,...i)}function Mi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw du(e),new Error(e)}function Vi(t,e){t||Mi(e)}function Ap(){return typeof self<"u"&&self.location?.href||""}function iI(){return fb()==="http:"||fb()==="https:"}function fb(){return typeof self<"u"&&self.location?.protocol||null}function sI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iI()||Ak()||"connection"in navigator)?navigator.onLine:!0}function rI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Tl{constructor(e,i){this.shortDelay=e,this.longDelay=i,Vi(i>e,"Short delay should be less than long delay!"),this.isMobile=Am()||bT()}get(){return sI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mm(t,e){Vi(t.emulator,"Emulator should always be set here");const{url:i}=t.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class kT{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const aI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const oI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lI=new Tl(3e4,6e4);function Wi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ui(t,e,i,r,o={}){return DT(t,o,async()=>{let c={},u={};r&&(e==="GET"?u=r:c={body:JSON.stringify(r)});const h=ja({key:t.config.apiKey,...u}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:p,...c};return xk()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Ms(t.emulatorConfig.host)&&(m.credentials="include"),kT.fetch()(await IT(t,t.config.apiHost,i,h),m)})}async function DT(t,e,i){t._canInitEmulator=!1;const r={...aI,...e};try{const o=new uI(t),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw eu(t,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const h=c.ok?u.errorMessage:u.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw eu(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw eu(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw eu(t,"user-disabled",u);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw OT(t,_,m);Yn(t,_)}}catch(o){if(o instanceof Yi)throw o;Yn(t,"network-request-failed",{message:String(o)})}}async function Cl(t,e,i,r,o={}){const c=await ui(t,e,i,r,o);return"mfaPendingCredential"in c&&Yn(t,"multi-factor-auth-required",{_serverResponse:c}),c}async function IT(t,e,i,r){const o=`${e}${i}?${r}`,c=t,u=c.config.emulator?Mm(t.config,o):`${t.config.apiScheme}://${o}`;return oI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function cI(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),lI.get())})}}function eu(t,e,i){const r={appName:t.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=si(t,e,r);return o.customData._tokenResponse=i,o}function db(t){return t!==void 0&&t.enterprise!==void 0}class fI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return cI(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dI(t,e){return ui(t,"GET","/v2/recaptchaConfig",Wi(t,e))}async function hI(t,e){return ui(t,"POST","/v1/accounts:delete",e)}async function Du(t,e){return ui(t,"POST","/v1/accounts:lookup",e)}function el(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pI(t,e=!1){const i=Ut(t),r=await i.getIdToken(e),o=Lm(r);fe(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:r,authTime:el(Jh(o.auth_time)),issuedAtTime:el(Jh(o.iat)),expirationTime:el(Jh(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Jh(t){return Number(t)*1e3}function Lm(t){const[e,i,r]=t.split(".");if(e===void 0||i===void 0||r===void 0)return du("JWT malformed, contained fewer than 3 sections"),null;try{const o=xu(i);return o?JSON.parse(o):(du("Failed to decode base64 JWT payload"),null)}catch(o){return du("Caught error parsing JWT payload as JSON",o?.toString()),null}}function hb(t){const e=Lm(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ca(t,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Yi&&mI(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function mI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class gI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Op{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=el(this.lastLoginAt),this.creationTime=el(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Iu(t){const e=t.auth,i=await t.getIdToken(),r=await Ca(t,Du(e,{idToken:i}));fe(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const c=o.providerUserInfo?.length?MT(o.providerUserInfo):[],u=_I(t.providerData,c),h=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!u?.length,m=h?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Op(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,_)}async function yI(t){const e=Ut(t);await Iu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _I(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function MT(t){return t.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function vI(t,e){const i=await DT(t,{},async()=>{const r=ja({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=t.config,u=await IT(t,o,"/v1/token",`key=${c}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:r};return t.emulatorConfig&&Ms(t.emulatorConfig.host)&&(p.credentials="include"),kT.fetch()(u,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function EI(t,e){return ui(t,"POST","/v2/accounts:revokeToken",Wi(t,e))}class ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const i=hb(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await vI(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,u=new ya;return r&&(fe(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(fe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(fe(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ya,this.toJSON())}_performRefresh(){return Mi("not implemented")}}function bs(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fn{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new gI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Op(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Ca(this,this.stsTokenManager.getToken(this.auth,e));return fe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return pI(this,e)}reload(){return yI(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Fn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await Iu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hn(this.auth.app))return Promise.reject(zi(this.auth));const e=await this.getIdToken();return await Ca(this,hI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,u=i.photoURL??void 0,h=i.tenantId??void 0,p=i._redirectEventId??void 0,m=i.createdAt??void 0,_=i.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:T,providerData:N,stsTokenManager:O}=i;fe(v&&O,e,"internal-error");const x=ya.fromJSON(this.name,O);fe(typeof v=="string",e,"internal-error"),bs(r,e.name),bs(o,e.name),fe(typeof b=="boolean",e,"internal-error"),fe(typeof T=="boolean",e,"internal-error"),bs(c,e.name),bs(u,e.name),bs(h,e.name),bs(p,e.name),bs(m,e.name),bs(_,e.name);const L=new Fn({uid:v,auth:e,email:o,emailVerified:b,displayName:r,isAnonymous:T,photoURL:u,phoneNumber:c,tenantId:h,stsTokenManager:x,createdAt:m,lastLoginAt:_});return N&&Array.isArray(N)&&(L.providerData=N.map(U=>({...U}))),p&&(L._redirectEventId=p),L}static async _fromIdTokenResponse(e,i,r=!1){const o=new ya;o.updateFromServerResponse(i);const c=new Fn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Iu(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];fe(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?MT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,h=new ya;h.updateFromIdToken(r);const p=new Fn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Op(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,m),p}}const pb=new Map;function Li(t){Vi(t instanceof Function,"Expected a class definition");let e=pb.get(t);return e?(Vi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pb.set(t,e),e)}class LT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}LT.type="NONE";const mb=LT;function hu(t,e,i){return`firebase:${t}:${e}:${i}`}class _a{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=hu(this.userKey,o.apiKey,c),this.fullPersistenceKey=hu("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Du(this.auth,{idToken:e}).catch(()=>{});return i?Fn._fromGetAccountInfoResponse(this.auth,i,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new _a(Li(mb),e,r);const o=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let c=o[0]||Li(mb);const u=hu(r,e.config.apiKey,e.name);let h=null;for(const m of i)try{const _=await m._get(u);if(_){let v;if(typeof _=="string"){const b=await Du(e,{idToken:_}).catch(()=>{});if(!b)break;v=await Fn._fromGetAccountInfoResponse(e,b,_)}else v=Fn._fromJSON(e,_);m!==c&&(h=v),c=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new _a(c,e,r):(c=p[0],h&&await c._set(u,h.toJSON()),await Promise.all(i.map(async m=>{if(m!==c)try{await m._remove(u)}catch{}})),new _a(c,e,r))}}function gb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HT(e))return"Blackberry";if(qT(e))return"Webos";if(UT(e))return"Safari";if((e.includes("chrome/")||BT(e))&&!e.includes("edge/"))return"Chrome";if(PT(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(i);if(r?.length===2)return r[1]}return"Other"}function jT(t=Yt()){return/firefox\//i.test(t)}function UT(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BT(t=Yt()){return/crios\//i.test(t)}function zT(t=Yt()){return/iemobile/i.test(t)}function PT(t=Yt()){return/android/i.test(t)}function HT(t=Yt()){return/blackberry/i.test(t)}function qT(t=Yt()){return/webos/i.test(t)}function jm(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bI(t=Yt()){return jm(t)&&!!window.navigator?.standalone}function SI(){return Ok()&&document.documentMode===10}function FT(t=Yt()){return jm(t)||PT(t)||qT(t)||HT(t)||/windows phone/i.test(t)||zT(t)}function VT(t,e=[]){let i;switch(t){case"Browser":i=gb(Yt());break;case"Worker":i=`${gb(Yt())}-${t}`;break;default:i=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${yr}/${r}`}class TI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((u,h)=>{try{const p=e(c);u(p)}catch(p){h(p)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function CI(t,e={}){return ui(t,"GET","/v2/passwordPolicy",Wi(t,e))}const wI=6;class RI{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??wI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class NI{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yb(this),this.idTokenSubscription=new yb(this),this.beforeStateQueue=new TI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Li(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _a.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Du(this,{idToken:e}),r=await Fn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===u)&&h?.user&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Iu(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hn(this.app))return Promise.reject(zi(this));const i=e?Ut(e):null;return i&&fe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hn(this.app)?Promise.reject(zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hn(this.app)?Promise.reject(zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CI(this),i=new RI(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sl("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await EI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Li(e)||this._popupRedirectResolver;fe(i,this,"argument-error"),this.redirectPersistenceManager=await _a.create(this,[Li(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(h,this,"internal-error"),h.then(()=>{u||c(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,r,o);return()=>{u=!0,p()}}else{const p=e.addObserver(i);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&nI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ls(t){return Ut(t)}class yb{constructor(e){this.auth=e,this.observer=null,this.addObserver=Pk(i=>this.observer=i)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xI(t){af=t}function $T(t){return af.loadJS(t)}function AI(){return af.recaptchaEnterpriseScript}function OI(){return af.gapiScript}function kI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class DI{constructor(){this.enterprise=new II}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class II{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const MI="recaptcha-enterprise",GT="NO_RECAPTCHA";class LI{constructor(e){this.type=MI,this.auth=Ls(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,h)=>{dI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new fI(p);return c.tenantId==null?c._agentRecaptchaConfig=m:c._tenantRecaptchaConfigs[c.tenantId]=m,u(m.siteKey)}}).catch(p=>{h(p)})})}function o(c,u,h){const p=window.grecaptcha;db(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(m=>{u(m)}).catch(()=>{u(GT)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DI().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{r(this.auth).then(h=>{if(!i&&db(window.grecaptcha))o(h,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=AI();p.length!==0&&(p+=h),$T(p).then(()=>{o(h,c,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function _b(t,e,i,r=!1,o=!1){const c=new LI(t);let u;if(o)u=GT;else try{u=await c.verify(i)}catch{u=await c.verify(i,!0)}const h={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Mu(t,e,i,r,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await _b(t,e,i,i==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await _b(t,e,i,i==="getOobCode");return r(t,u)}else return Promise.reject(c)})}function jI(t,e){const i=rf(t,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(cr(c,e??{}))return o;Yn(o,"already-initialized")}return i.initialize({options:e})}function UI(t,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Li);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function BI(t,e,i){const r=Ls(t);fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=YT(e),{host:u,port:h}=zI(e),p=h===null?"":`:${h}`,m={url:`${c}//${u}${p}/`},_=Object.freeze({host:u,port:h,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),fe(cr(m,r.config.emulator)&&cr(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Ms(u)?(Nm(`${c}//${u}${p}`),xm("Auth",!0)):PI()}function YT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zI(t){const e=YT(t),i=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:vb(r.substr(c.length+1))}}else{const[c,u]=r.split(":");return{host:c,port:vb(u)}}}function vb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PI(){function t(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Um{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Mi("not implemented")}_getIdTokenResponse(e){return Mi("not implemented")}_linkToIdToken(e,i){return Mi("not implemented")}_getReauthenticationResolver(e){return Mi("not implemented")}}async function HI(t,e){return ui(t,"POST","/v1/accounts:signUp",e)}async function qI(t,e){return Cl(t,"POST","/v1/accounts:signInWithPassword",Wi(t,e))}async function KT(t,e){return ui(t,"POST","/v1/accounts:sendOobCode",Wi(t,e))}async function FI(t,e){return KT(t,e)}async function VI(t,e){return KT(t,e)}async function $I(t,e){return Cl(t,"POST","/v1/accounts:signInWithEmailLink",Wi(t,e))}async function GI(t,e){return Cl(t,"POST","/v1/accounts:signInWithEmailLink",Wi(t,e))}class fl extends Um{constructor(e,i,r,o=null){super("password",r),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new fl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new fl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mu(e,i,"signInWithPassword",qI);case"emailLink":return $I(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mu(e,r,"signUpPassword",HI);case"emailLink":return GI(e,{idToken:i,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function va(t,e){return Cl(t,"POST","/v1/accounts:signInWithIdp",Wi(t,e))}const YI="http://localhost";class fr extends Um{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new fr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Yn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const u=new fr(r,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const i=this.buildRequest();return va(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,va(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,va(e,i)}buildRequest(){const e={requestUri:YI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=ja(i)}return e}}function KI(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WI(t){const e=Wo(Xo(t)).link,i=e?Wo(Xo(e)).deep_link_id:null,r=Wo(Xo(t)).deep_link_id;return(r?Wo(Xo(r)).link:null)||r||i||e||t}class Bm{constructor(e){const i=Wo(Xo(e)),r=i.apiKey??null,o=i.oobCode??null,c=KI(i.mode??null);fe(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=WI(e);try{return new Bm(i)}catch{return null}}}class Ua{constructor(){this.providerId=Ua.PROVIDER_ID}static credential(e,i){return fl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Bm.parseLink(i);return fe(r,"argument-error"),fl._fromEmailAndCode(e,r.code,r.tenantId)}}Ua.PROVIDER_ID="password";Ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class WT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class wl extends WT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ts extends wl{constructor(){super("facebook.com")}static credential(e){return fr._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";class Cs extends wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return fr._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Cs.credential(i,r)}catch{return null}}}Cs.GOOGLE_SIGN_IN_METHOD="google.com";Cs.PROVIDER_ID="google.com";class ws extends wl{constructor(){super("github.com")}static credential(e){return fr._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";class Rs extends wl{constructor(){super("twitter.com")}static credential(e,i){return fr._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Rs.credential(i,r)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";async function XI(t,e){return Cl(t,"POST","/v1/accounts:signUp",Wi(t,e))}class dr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await Fn._fromIdTokenResponse(e,r,o),u=Eb(r);return new dr({user:c,providerId:u,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=Eb(r);return new dr({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function Eb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Lu extends Yi{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Lu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new Lu(e,i,r,o)}}function XT(t,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(t):i._getIdTokenResponse(t)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Lu._fromErrorAndOperation(t,c,e,r):c})}async function QI(t,e,i=!1){const r=await Ca(t,e._linkToIdToken(t.auth,await t.getIdToken()),i);return dr._forOperation(t,"link",r)}async function JI(t,e,i=!1){const{auth:r}=t;if(hn(r.app))return Promise.reject(zi(r));const o="reauthenticate";try{const c=await Ca(t,XT(r,o,e,t),i);fe(c.idToken,r,"internal-error");const u=Lm(c.idToken);fe(u,r,"internal-error");const{sub:h}=u;return fe(t.uid===h,r,"user-mismatch"),dr._forOperation(t,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Yn(r,"user-mismatch"),c}}async function QT(t,e,i=!1){if(hn(t.app))return Promise.reject(zi(t));const r="signIn",o=await XT(t,r,e),c=await dr._fromIdTokenResponse(t,r,o);return i||await t._updateCurrentUser(c.user),c}async function ZI(t,e){return QT(Ls(t),e)}async function JT(t){const e=Ls(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function e2(t,e,i){const r=Ls(t);await Mu(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",VI)}async function t2(t,e,i){if(hn(t.app))return Promise.reject(zi(t));const r=Ls(t),u=await Mu(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&JT(t),p}),h=await dr._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function n2(t,e,i){return hn(t.app)?Promise.reject(zi(t)):ZI(Ut(t),Ua.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JT(t),r})}async function bb(t,e){const i=Ut(t),o={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:c}=await FI(i.auth,o);c!==t.email&&await t.reload()}async function i2(t,e){return ui(t,"POST","/v1/accounts:update",e)}async function s2(t,{displayName:e,photoURL:i}){if(e===void 0&&i===void 0)return;const r=Ut(t),c={idToken:await r.getIdToken(),displayName:e,photoUrl:i,returnSecureToken:!0},u=await Ca(r,i2(r.auth,c));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:p})=>p==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function r2(t,e,i,r){return Ut(t).onIdTokenChanged(e,i,r)}function a2(t,e,i){return Ut(t).beforeAuthStateChanged(e,i)}function o2(t,e,i,r){return Ut(t).onAuthStateChanged(e,i,r)}function l2(t){return Ut(t).signOut()}const ju="__sak";class ZT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ju,"1"),this.storage.removeItem(ju),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const c2=1e3,u2=10;class eC extends ZT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((u,h,p)=>{this.notifyListeners(u,p)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!i&&this.localCache[r]===u||this.notifyListeners(r,u)},c=this.storage.getItem(r);SI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,u2):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},c2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}eC.type="LOCAL";const f2=eC;class tC extends ZT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}tC.type="SESSION";const nC=tC;function d2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new of(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,u=this.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(u).map(async m=>m(i.origin,c)),p=await d2(h);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}of.receivers=[];function zm(t="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return t+i}class h2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((h,p)=>{const m=zm("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(v){const b=v;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),h(b.data.response);break;default:clearTimeout(_),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:i},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ri(){return window}function p2(t){ri().location.href=t}function iC(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function m2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g2(){return navigator?.serviceWorker?.controller||null}function y2(){return iC()?self:null}const sC="firebaseLocalStorageDb",_2=1,Uu="firebaseLocalStorage",rC="fbase_key";class Rl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function lf(t,e){return t.transaction([Uu],e?"readwrite":"readonly").objectStore(Uu)}function v2(){const t=indexedDB.deleteDatabase(sC);return new Rl(t).toPromise()}function kp(){const t=indexedDB.open(sC,_2);return new Promise((e,i)=>{t.addEventListener("error",()=>{i(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Uu,{keyPath:rC})}catch(o){i(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Uu)?e(r):(r.close(),await v2(),e(await kp()))})})}async function Sb(t,e,i){const r=lf(t,!0).put({[rC]:e,value:i});return new Rl(r).toPromise()}async function E2(t,e){const i=lf(t,!1).get(e),r=await new Rl(i).toPromise();return r===void 0?null:r.value}function Tb(t,e){const i=lf(t,!0).delete(e);return new Rl(i).toPromise()}const b2=800,S2=3;class aC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kp(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>S2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=of._getInstance(y2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await m2(),!this.activeServiceWorker)return;this.sender=new h2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||g2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kp();return await Sb(e,ju,"1"),await Tb(e,ju),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Sb(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>E2(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Tb(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=lf(o,!1).getAll();return new Rl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aC.type="LOCAL";const T2=aC;new Tl(3e4,6e4);function C2(t,e){return e?Li(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Pm extends Um{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return va(e,this._buildIdpRequest())}_linkToIdToken(e,i){return va(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return va(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function w2(t){return QT(t.auth,new Pm(t),t.bypassAuthState)}function R2(t){const{auth:e,user:i}=t;return fe(i,e,"internal-error"),JI(i,new Pm(t),t.bypassAuthState)}async function N2(t){const{auth:e,user:i}=t;return fe(i,e,"internal-error"),QI(i,new Pm(t),t.bypassAuthState)}class oC{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:u,type:h}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w2;case"linkViaPopup":case"linkViaRedirect":return N2;case"reauthViaPopup":case"reauthViaRedirect":return R2;default:Yn(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const x2=new Tl(2e3,1e4);class pa extends oC{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,pa.currentPopupAction&&pa.currentPopupAction.cancel(),pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,x2.get())};e()}}pa.currentPopupAction=null;const A2="pendingRedirect",pu=new Map;class O2 extends oC{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=pu.get(this.auth._key());if(!e){try{const r=await k2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}pu.set(this.auth._key(),e)}return this.bypassAuthState||pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k2(t,e){const i=M2(e),r=I2(t);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function D2(t,e){pu.set(t._key(),e)}function I2(t){return Li(t._redirectPersistence)}function M2(t){return hu(A2,t.config.apiKey,t.name)}async function L2(t,e,i=!1){if(hn(t.app))return Promise.reject(zi(t));const r=Ls(t),o=C2(r,e),u=await new O2(r,o,i).execute();return u&&!i&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const j2=600*1e3;class U2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!lC(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(si(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=j2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cb(e))}saveEventToCache(e){this.cachedEventUids.add(Cb(e)),this.lastProcessedEventTime=Date.now()}}function Cb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function B2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lC(t);default:return!1}}async function z2(t,e={}){return ui(t,"GET","/v1/projects",e)}const P2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H2=/^https?/;async function q2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await z2(t);for(const i of e)try{if(F2(i))return}catch{}Yn(t,"unauthorized-domain")}function F2(t){const e=Ap(),{protocol:i,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?i==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&u.hostname===r}if(!H2.test(i))return!1;if(P2.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const V2=new Tl(3e4,6e4);function wb(){const t=ri().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let i=0;i<t.CP.length;i++)t.CP[i]=null}}function $2(t){return new Promise((e,i)=>{function r(){wb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wb(),i(si(t,"network-request-failed"))},timeout:V2.get()})}if(ri().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ri().gapi?.load)r();else{const o=kI("iframefcb");return ri()[o]=()=>{gapi.load?r():i(si(t,"network-request-failed"))},$T(`${OI()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw mu=null,e})}let mu=null;function G2(t){return mu=mu||$2(t),mu}const Y2=new Tl(5e3,15e3),K2="__/auth/iframe",W2="emulator/auth/iframe",X2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J2(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const i=e.emulator?Mm(e,W2):`https://${t.config.authDomain}/${K2}`,r={apiKey:e.apiKey,appName:t.name,v:yr},o=Q2.get(t.config.apiHost);o&&(r.eid=o);const c=t._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${ja(r).slice(1)}`}async function Z2(t){const e=await G2(t),i=ri().gapi;return fe(i,t,"internal-error"),e.open({where:document.body,url:J2(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X2,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const u=si(t,"network-request-failed"),h=ri().setTimeout(()=>{c(u)},Y2.get());function p(){ri().clearTimeout(h),o(r)}r.ping(p).then(p,()=>{c(u)})}))}const eM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tM=500,nM=600,iM="_blank",sM="http://localhost";class Rb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rM(t,e,i,r=tM,o=nM){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const p={...eM,width:r.toString(),height:o.toString(),top:c,left:u},m=Yt().toLowerCase();i&&(h=BT(m)?iM:i),jT(m)&&(e=e||sM,p.scrollbars="yes");const _=Object.entries(p).reduce((b,[T,N])=>`${b}${T}=${N},`,"");if(bI(m)&&h!=="_self")return aM(e||"",h),new Rb(null);const v=window.open(e||"",h,_);fe(v,t,"popup-blocked");try{v.focus()}catch{}return new Rb(v)}function aM(t,e){const i=document.createElement("a");i.href=t,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const oM="__/auth/handler",lM="emulator/auth/handler",cM=encodeURIComponent("fac");async function Nb(t,e,i,r,o,c){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:r,v:yr,eventId:o};if(e instanceof WT){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",Tp(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))u[_]=v}if(e instanceof wl){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(u.scopes=_.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const p=await t._getAppCheckToken(),m=p?`#${cM}=${encodeURIComponent(p)}`:"";return`${uM(t)}?${ja(h).slice(1)}${m}`}function uM({config:t}){return t.emulator?Mm(t,lM):`https://${t.authDomain}/${oM}`}const Zh="webStorageSupport";class fM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nC,this._completeRedirectFn=L2,this._overrideRedirectResult=D2}async _openPopup(e,i,r,o){Vi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Nb(e,i,r,Ap(),o);return rM(e,c,zm())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await Nb(e,i,r,Ap(),o);return p2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Vi(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await Z2(e),r=new U2(e);return i.register("authEvent",o=>(fe(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Zh,{type:Zh},o=>{const c=o?.[0]?.[Zh];c!==void 0&&i(!!c),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=q2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return FT()||UT()||jm()}}const dM=fM;var xb="@firebase/auth",Ab="1.12.0";class hM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mM(t){ur(new Ds("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;fe(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VT(t)},m=new NI(r,o,c,p);return UI(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),ur(new Ds("auth-internal",e=>{const i=Ls(e.getProvider("auth").getImmediate());return(r=>new hM(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(xb,Ab,pM(t)),ii(xb,Ab,"esm2020")}const gM=300,yM=vT("authIdTokenMaxAge")||gM;let Ob=null;const _M=t=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>yM)return;const o=i?.token;Ob!==o&&(Ob=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function cC(t=Dm()){const e=rf(t,"auth");if(e.isInitialized())return e.getImmediate();const i=jI(t,{popupRedirectResolver:dM,persistence:[T2,f2,nC]}),r=vT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const u=_M(c.toString());a2(i,u,()=>u(i.currentUser)),r2(i,h=>u(h))}}const o=gT("auth");return o&&BI(i,`http://${o}`),i}function vM(){return document.getElementsByTagName("head")?.[0]??document}xI({loadJS(t){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const c=si("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",vM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mM("Browser");const uC="firebasestorage.googleapis.com",fC="storageBucket",EM=120*1e3,bM=600*1e3;class ut extends Yi{constructor(e,i,r=0){super(ep(e),`Firebase Storage: ${i} (${ep(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ep(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ct;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ct||(ct={}));function ep(t){return"storage/"+t}function Hm(){const t="An unknown error occurred, please check the error payload for server response.";return new ut(ct.UNKNOWN,t)}function SM(t){return new ut(ct.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function TM(t){return new ut(ct.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ut(ct.UNAUTHENTICATED,t)}function wM(){return new ut(ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function RM(t){return new ut(ct.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function NM(){return new ut(ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xM(){return new ut(ct.CANCELED,"User canceled the upload/download.")}function AM(t){return new ut(ct.INVALID_URL,"Invalid URL '"+t+"'.")}function OM(t){return new ut(ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function kM(){return new ut(ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+fC+"' property when initializing the app?")}function DM(){return new ut(ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function IM(){return new ut(ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function MM(t){return new ut(ct.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dp(t){return new ut(ct.INVALID_ARGUMENT,t)}function dC(){return new ut(ct.APP_DELETED,"The Firebase app was deleted.")}function LM(t){return new ut(ct.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tl(t,e){return new ut(ct.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function zo(t){throw new ut(ct.INTERNAL_ERROR,"Internal error: "+t)}class pn{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let r;try{r=pn.makeFromUrl(e,i)}catch{return new pn(e,"")}if(r.path==="")return r;throw OM(e)}static makeFromUrl(e,i){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+o+u,"i"),p={bucket:1,path:3};function m(q){q.path_=decodeURIComponent(q.path)}const _="v[A-Za-z0-9_]+",v=i.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",T=new RegExp(`^https?://${v}/${_}/b/${o}/o${b}`,"i"),N={bucket:1,path:3},O=i===uC?"(?:storage.googleapis.com|storage.cloud.google.com)":i,x="([^?#]*)",L=new RegExp(`^https?://${O}/${o}/${x}`,"i"),H=[{regex:h,indices:p,postModify:c},{regex:T,indices:N,postModify:m},{regex:L,indices:{bucket:1,path:2},postModify:m}];for(let q=0;q<H.length;q++){const X=H[q],I=X.regex.exec(e);if(I){const V=I[X.indices.bucket];let ie=I[X.indices.path];ie||(ie=""),r=new pn(V,ie),X.postModify(r);break}}if(r==null)throw AM(e);return r}}class jM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function UM(t,e,i){let r=1,o=null,c=null,u=!1,h=0;function p(){return h===2}let m=!1;function _(...x){m||(m=!0,e.apply(null,x))}function v(x){o=setTimeout(()=>{o=null,t(T,p())},x)}function b(){c&&clearTimeout(c)}function T(x,...L){if(m){b();return}if(x){b(),_.call(null,x,...L);return}if(p()||u){b(),_.call(null,x,...L);return}r<64&&(r*=2);let H;h===1?(h=2,H=0):H=(r+Math.random())*1e3,v(H)}let N=!1;function O(x){N||(N=!0,b(),!m&&(o!==null?(x||(h=2),clearTimeout(o),v(0)):x||(h=1)))}return v(0),c=setTimeout(()=>{u=!0,O(!0)},i),O}function BM(t){t(!1)}function zM(t){return t!==void 0}function PM(t){return typeof t=="object"&&!Array.isArray(t)}function qm(t){return typeof t=="string"||t instanceof String}function kb(t){return Fm()&&t instanceof Blob}function Fm(){return typeof Blob<"u"}function Db(t,e,i,r){if(r<e)throw Dp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>i)throw Dp(`Invalid value for '${t}'. Expected ${i} or less.`)}function Vm(t,e,i){let r=e;return i==null&&(r=`https://${e}`),`${i}://${r}/v0${t}`}function hC(t){const e=encodeURIComponent;let i="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);i=i+o+"&"}return i=i.slice(0,-1),i}var or;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(or||(or={}));function HM(t,e){const i=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,c=e.indexOf(t)!==-1;return i||o||c}class qM{constructor(e,i,r,o,c,u,h,p,m,_,v,b=!0,T=!1){this.url_=e,this.method_=i,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=v,this.retry=b,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,O)=>{this.resolve_=N,this.reject_=O,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new tu(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const u=h=>{const p=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&c.addUploadProgressListener(u),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(u),this.pendingConnection_=null;const h=c.getErrorCode()===or.NO_ERROR,p=c.getStatus();if(!h||HM(p,this.additionalRetryCodes_)&&this.retry){const _=c.getErrorCode()===or.ABORT;r(!1,new tu(!1,null,_));return}const m=this.successCodes_.indexOf(p)!==-1;r(!0,new tu(m,c))})},i=(r,o)=>{const c=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());zM(p)?c(p):c()}catch(p){u(p)}else if(h!==null){const p=Hm();p.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,p)):u(p)}else if(o.canceled){const p=this.appDelete_?dC():xM();u(p)}else{const p=NM();u(p)}};this.canceled_?i(!1,new tu(!1,null,!0)):this.backoffId_=UM(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&BM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class tu{constructor(e,i,r){this.wasSuccessCode=e,this.connection=i,this.canceled=!!r}}function FM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function VM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $M(t,e){e&&(t["X-Firebase-GMPID"]=e)}function GM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function YM(t,e,i,r,o,c,u=!0,h=!1){const p=hC(t.urlParams),m=t.url+p,_=Object.assign({},t.headers);return $M(_,e),FM(_,i),VM(_,c),GM(_,r),new qM(m,t.method,_,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,u,h)}function KM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function WM(...t){const e=KM();if(e!==void 0){const i=new e;for(let r=0;r<t.length;r++)i.append(t[r]);return i.getBlob()}else{if(Fm())return new Blob(t);throw new ut(ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function XM(t,e,i){return t.webkitSlice?t.webkitSlice(e,i):t.mozSlice?t.mozSlice(e,i):t.slice?t.slice(e,i):null}function QM(t){if(typeof atob>"u")throw MM("base-64");return atob(t)}const ti={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tp{constructor(e,i){this.data=e,this.contentType=i||null}}function JM(t,e){switch(t){case ti.RAW:return new tp(pC(e));case ti.BASE64:case ti.BASE64URL:return new tp(mC(t,e));case ti.DATA_URL:return new tp(eL(e),tL(e))}throw Hm()}function pC(t){const e=[];for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(i<t.length-1&&(t.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{const c=r,u=t.charCodeAt(++i);r=65536|(c&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function ZM(t){let e;try{e=decodeURIComponent(t)}catch{throw tl(ti.DATA_URL,"Malformed data URL.")}return pC(e)}function mC(t,e){switch(t){case ti.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw tl(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ti.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw tl(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=QM(e)}catch(o){throw o.message.includes("polyfill")?o:tl(t,"Invalid character found")}const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}class gC{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(i===null)throw tl(ti.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=i[1]||null;r!=null&&(this.base64=nL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function eL(t){const e=new gC(t);return e.base64?mC(ti.BASE64,e.rest):ZM(e.rest)}function tL(t){return new gC(t).contentType}function nL(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class Ns{constructor(e,i){let r=0,o="";kb(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,i){if(kb(this.data_)){const r=this.data_,o=XM(r,e,i);return o===null?null:new Ns(o)}else{const r=new Uint8Array(this.data_.buffer,e,i-e);return new Ns(r,!0)}}static getBlob(...e){if(Fm()){const i=e.map(r=>r instanceof Ns?r.data_:r);return new Ns(WM.apply(null,i))}else{const i=e.map(u=>qm(u)?JM(ti.RAW,u).data:u.data_);let r=0;i.forEach(u=>{r+=u.byteLength});const o=new Uint8Array(r);let c=0;return i.forEach(u=>{for(let h=0;h<u.length;h++)o[c++]=u[h]}),new Ns(o,!0)}}uploadData(){return this.data_}}function yC(t){let e;try{e=JSON.parse(t)}catch{return null}return PM(e)?e:null}function iL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function sL(t,e){const i=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?i:t+"/"+i}function _C(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function rL(t,e){return e}class $t{constructor(e,i,r,o){this.server=e,this.local=i||e,this.writable=!!r,this.xform=o||rL}}let nu=null;function aL(t){return!qm(t)||t.length<2?t:_C(t)}function vC(){if(nu)return nu;const t=[];t.push(new $t("bucket")),t.push(new $t("generation")),t.push(new $t("metageneration")),t.push(new $t("name","fullPath",!0));function e(c,u){return aL(u)}const i=new $t("name");i.xform=e,t.push(i);function r(c,u){return u!==void 0?Number(u):u}const o=new $t("size");return o.xform=r,t.push(o),t.push(new $t("timeCreated")),t.push(new $t("updated")),t.push(new $t("md5Hash",null,!0)),t.push(new $t("cacheControl",null,!0)),t.push(new $t("contentDisposition",null,!0)),t.push(new $t("contentEncoding",null,!0)),t.push(new $t("contentLanguage",null,!0)),t.push(new $t("contentType",null,!0)),t.push(new $t("metadata","customMetadata",!0)),nu=t,nu}function oL(t,e){function i(){const r=t.bucket,o=t.fullPath,c=new pn(r,o);return e._makeStorageReference(c)}Object.defineProperty(t,"ref",{get:i})}function lL(t,e,i){const r={};r.type="file";const o=i.length;for(let c=0;c<o;c++){const u=i[c];r[u.local]=u.xform(r,e[u.server])}return oL(r,t),r}function EC(t,e,i){const r=yC(e);return r===null?null:lL(t,r,i)}function cL(t,e,i,r){const o=yC(e);if(o===null||!qm(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const u=encodeURIComponent;return c.split(",").map(m=>{const _=t.bucket,v=t.fullPath,b="/b/"+u(_)+"/o/"+u(v),T=Vm(b,i,r),N=hC({alt:"media",token:m});return T+N})[0]}function uL(t,e){const i={},r=e.length;for(let o=0;o<r;o++){const c=e[o];c.writable&&(i[c.server]=t[c.local])}return JSON.stringify(i)}class bC{constructor(e,i,r,o){this.url=e,this.method=i,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function SC(t){if(!t)throw Hm()}function fL(t,e){function i(r,o){const c=EC(t,o,e);return SC(c!==null),c}return i}function dL(t,e){function i(r,o){const c=EC(t,o,e);return SC(c!==null),cL(c,o,t.host,t._protocol)}return i}function TC(t){function e(i,r){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=wM():o=CM():i.getStatus()===402?o=TM(t.bucket):i.getStatus()===403?o=RM(t.path):o=r,o.status=i.getStatus(),o.serverResponse=r.serverResponse,o}return e}function hL(t){const e=TC(t);function i(r,o){let c=e(r,o);return r.getStatus()===404&&(c=SM(t.path)),c.serverResponse=o.serverResponse,c}return i}function pL(t,e,i){const r=e.fullServerUrl(),o=Vm(r,t.host,t._protocol),c="GET",u=t.maxOperationRetryTime,h=new bC(o,c,dL(t,i),u);return h.errorHandler=hL(e),h}function mL(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function gL(t,e,i){const r=Object.assign({},i);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=mL(null,e)),r}function yL(t,e,i,r,o){const c=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let H="";for(let q=0;q<2;q++)H=H+Math.random().toString().slice(2);return H}const p=h();u["Content-Type"]="multipart/related; boundary="+p;const m=gL(e,r,o),_=uL(m,i),v="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,b=`\r
--`+p+"--",T=Ns.getBlob(v,r,b);if(T===null)throw DM();const N={name:m.fullPath},O=Vm(c,t.host,t._protocol),x="POST",L=t.maxUploadRetryTime,U=new bC(O,x,fL(t,i),L);return U.urlParams=N,U.headers=u,U.body=T.uploadData(),U.errorHandler=TC(e),U}class _L{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=or.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=or.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=or.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,r,o,c){if(this.sent_)throw zo("cannot .send() more than once");if(Ms(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,e,!0),c!==void 0)for(const u in c)c.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,c[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class vL extends _L{initXhr(){this.xhr_.responseType="text"}}function CC(){return new vL}class hr{constructor(e,i){this._service=e,i instanceof pn?this._location=i:this._location=pn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new hr(e,i)}get root(){const e=new pn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _C(this._location.path)}get storage(){return this._service}get parent(){const e=iL(this._location.path);if(e===null)return null;const i=new pn(this._location.bucket,e);return new hr(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw LM(e)}}function EL(t,e,i){t._throwIfRoot("uploadBytes");const r=yL(t.storage,t._location,vC(),new Ns(e,!0),i);return t.storage.makeRequestWithTokens(r,CC).then(o=>({metadata:o,ref:t}))}function bL(t){t._throwIfRoot("getDownloadURL");const e=pL(t.storage,t._location,vC());return t.storage.makeRequestWithTokens(e,CC).then(i=>{if(i===null)throw IM();return i})}function SL(t,e){const i=sL(t._location.path,e),r=new pn(t._location.bucket,i);return new hr(t.storage,r)}function TL(t){return/^[A-Za-z]+:\/\//.test(t)}function CL(t,e){return new hr(t,e)}function wC(t,e){if(t instanceof $m){const i=t;if(i._bucket==null)throw kM();const r=new hr(i,i._bucket);return e!=null?wC(r,e):r}else return e!==void 0?SL(t,e):t}function wL(t,e){if(e&&TL(e)){if(t instanceof $m)return CL(t,e);throw Dp("To use ref(service, url), the first argument must be a Storage instance.")}else return wC(t,e)}function Ib(t,e){const i=e?.[fC];return i==null?null:pn.makeFromBucketSpec(i,t)}function RL(t,e,i,r={}){t.host=`${e}:${i}`;const o=Ms(e);o&&(Nm(`https://${t.host}/b`),xm("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:c}=r;c&&(t._overrideAuthToken=typeof c=="string"?c:ET(c,t.app.options.projectId))}class $m{constructor(e,i,r,o,c,u=!1){this.app=e,this._authProvider=i,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=u,this._bucket=null,this._host=uC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=EM,this._maxUploadRetryTime=bM,this._requests=new Set,o!=null?this._bucket=pn.makeFromBucketSpec(o,this._host):this._bucket=Ib(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pn.makeFromBucketSpec(this._url,e):this._bucket=Ib(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Db("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Db("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hr(this,e)}_makeRequest(e,i,r,o,c=!0){if(this._deleted)return new jM(dC());{const u=YM(e,this._appId,r,o,i,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,i){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,r,o).getPromise()}}const Mb="@firebase/storage",Lb="0.14.0";const RC="storage";function NL(t,e,i){return t=Ut(t),EL(t,e,i)}function xL(t){return t=Ut(t),bL(t)}function AL(t,e){return t=Ut(t),wL(t,e)}function OL(t=Dm(),e){t=Ut(t);const r=rf(t,RC).getImmediate({identifier:e}),o=yT("storage");return o&&kL(r,...o),r}function kL(t,e,i,r={}){RL(t,e,i,r)}function DL(t,{instanceIdentifier:e}){const i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new $m(i,r,o,e,yr)}function IL(){ur(new Ds(RC,DL,"PUBLIC").setMultipleInstances(!0)),ii(Mb,Lb,""),ii(Mb,Lb,"esm2020")}IL();var jb={};const Ub="@firebase/database",Bb="1.1.0";let NC="";function ML(t){NC=t}class LL{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Lt(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:cl(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class jL{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return Ki(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const xC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new LL(e)}}catch{}return new jL},ar=xC("localStorage"),UL=xC("sessionStorage");const Ea=new Om("@firebase/database"),BL=(function(){let t=1;return function(){return t++}})(),AC=function(t){const e=Vk(t),i=new zk;i.update(e);const r=i.digest();return Cm.encodeByteArray(r)},Nl=function(...t){let e="";for(let i=0;i<t.length;i++){const r=t[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Nl.apply(null,r):typeof r=="object"?e+=Lt(r):e+=r,e+=" "}return e};let nl=null,zb=!0;const zL=function(t,e){Q(!0,"Can't turn on custom loggers persistently."),Ea.logLevel=Ye.VERBOSE,nl=Ea.log.bind(Ea)},zt=function(...t){if(zb===!0&&(zb=!1,nl===null&&UL.get("logging_enabled")===!0&&zL()),nl){const e=Nl.apply(null,t);nl(e)}},xl=function(t){return function(...e){zt(t,...e)}},Ip=function(...t){const e="FIREBASE INTERNAL ERROR: "+Nl(...t);Ea.error(e)},$i=function(...t){const e=`FIREBASE FATAL ERROR: ${Nl(...t)}`;throw Ea.error(e),new Error(e)},mn=function(...t){const e="FIREBASE WARNING: "+Nl(...t);Ea.warn(e)},PL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},OC=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},HL=function(t){if(document.readyState==="complete")t();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},wa="[MIN_NAME]",pr="[MAX_NAME]",Ba=function(t,e){if(t===e)return 0;if(t===wa||e===pr)return-1;if(e===wa||t===pr)return 1;{const i=Pb(t),r=Pb(e);return i!==null?r!==null?i-r===0?t.length-e.length:i-r:-1:r!==null?1:t<e?-1:1}},qL=function(t,e){return t===e?0:t<e?-1:1},Po=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Lt(e))},Gm=function(t){if(typeof t!="object"||t===null)return Lt(t);const e=[];for(const r in t)e.push(r);e.sort();let i="{";for(let r=0;r<e.length;r++)r!==0&&(i+=","),i+=Lt(e[r]),i+=":",i+=Gm(t[e[r]]);return i+="}",i},kC=function(t,e){const i=t.length;if(i<=e)return[t];const r=[];for(let o=0;o<i;o+=e)o+e>i?r.push(t.substring(o,i)):r.push(t.substring(o,o+e));return r};function Mn(t,e){for(const i in t)t.hasOwnProperty(i)&&e(i,t[i])}const DC=function(t){Q(!OC(t),"Invalid JSON number");const e=11,i=52,r=(1<<e-1)-1;let o,c,u,h,p;t===0?(c=0,u=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),r),c=h+r,u=Math.round(t*Math.pow(2,i-h)-Math.pow(2,i))):(c=0,u=Math.round(t/Math.pow(2,1-r-i))));const m=[];for(p=i;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);for(p=e;p;p-=1)m.push(c%2?1:0),c=Math.floor(c/2);m.push(o?1:0),m.reverse();const _=m.join("");let v="";for(p=0;p<64;p+=8){let b=parseInt(_.substr(p,8),2).toString(16);b.length===1&&(b="0"+b),v=v+b}return v.toLowerCase()},FL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},VL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},$L=new RegExp("^-?(0*)\\d{1,10}$"),GL=-2147483648,YL=2147483647,Pb=function(t){if($L.test(t)){const e=Number(t);if(e>=GL&&e<=YL)return e}return null},Al=function(t){try{t()}catch(e){setTimeout(()=>{const i=e.stack||"";throw mn("Exception was thrown by user callback.",i),e},Math.floor(0))}},KL=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},il=function(t,e){const i=setTimeout(t,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class WL{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,hn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){mn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class XL{constructor(e,i,r){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(zt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mn(e)}}class gu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}gu.OWNER="owner";const Ym="5",IC="v",MC="s",LC="r",jC="f",UC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BC="ls",zC="p",Mp="ac",PC="websocket",HC="long_polling";class qC{constructor(e,i,r,o,c=!1,u="",h=!1,p=!1,m=null){this.secure=i,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ar.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ar.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function QL(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function FC(t,e,i){Q(typeof e=="string","typeof type must == string"),Q(typeof i=="object","typeof params must == object");let r;if(e===PC)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===HC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);QL(t)&&(i.ns=t.namespace);const o=[];return Mn(i,(c,u)=>{o.push(c+"="+u)}),r+o.join("&")}class JL{constructor(){this.counters_={}}incrementCounter(e,i=1){Ki(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return Ek(this.counters_)}}const np={},ip={};function Km(t){const e=t.toString();return np[e]||(np[e]=new JL),np[e]}function ZL(t,e){const i=t.toString();return ip[i]||(ip[i]=e()),ip[i]}class ej{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Al(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Hb="start",tj="close",nj="pLPCommand",ij="pRTLPCB",VC="id",$C="pw",GC="ser",sj="cb",rj="seg",aj="ts",oj="d",lj="dframe",YC=1870,KC=30,cj=YC-KC,uj=25e3,fj=3e4;class ma{constructor(e,i,r,o,c,u,h){this.connId=e,this.repoInfo=i,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xl(e),this.stats_=Km(i),this.urlFn=p=>(this.appCheckToken&&(p[Mp]=this.appCheckToken),FC(i,HC,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new ej(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(fj)),HL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Wm((...c)=>{const[u,h,p,m,_]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===Hb)this.id=h,this.password=p;else if(u===tj)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...c)=>{const[u,h]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[Hb]="t",r[GC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[sj]=this.scriptTagHolder.uniqueCallbackIdentifier),r[IC]=Ym,this.transportSessionId&&(r[MC]=this.transportSessionId),this.lastSessionId&&(r[BC]=this.lastSessionId),this.applicationId&&(r[zC]=this.applicationId),this.appCheckToken&&(r[Mp]=this.appCheckToken),typeof location<"u"&&location.hostname&&UC.test(location.hostname)&&(r[LC]=jC);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ma.forceAllow_=!0}static forceDisallow(){ma.forceDisallow_=!0}static isAvailable(){return ma.forceAllow_?!0:!ma.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!FL()&&!VL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=Lt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=pT(i),o=kC(r,cj);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[lj]="t",r[VC]=e,r[$C]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=Lt(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Wm{constructor(e,i,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=BL(),window[nj+this.uniqueCallbackIdentifier]=e,window[ij+this.uniqueCallbackIdentifier]=i,this.myIFrame=Wm.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){zt("frame writing exception"),h.stack&&zt(h.stack),zt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||zt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[VC]=this.myID,e[$C]=this.myPW,e[GC]=this.currentSerial;let i=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+KC+r.length<=YC;){const u=this.pendingSegs.shift();r=r+"&"+rj+o+"="+u.seg+"&"+aj+o+"="+u.ts+"&"+oj+o+"="+u.d,o++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,r){this.pendingSegs.push({seg:e,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(r,Math.floor(uj)),c=()=>{clearTimeout(o),r()};this.addTag(e,c)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{zt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const dj=16384,hj=45e3;let Bu=null;typeof MozWebSocket<"u"?Bu=MozWebSocket:typeof WebSocket<"u"&&(Bu=WebSocket);class qn{constructor(e,i,r,o,c,u,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xl(this.connId),this.stats_=Km(i),this.connURL=qn.connectionURL_(i,u,h,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,c){const u={};return u[IC]=Ym,typeof location<"u"&&location.hostname&&UC.test(location.hostname)&&(u[LC]=jC),i&&(u[MC]=i),r&&(u[BC]=r),o&&(u[Mp]=o),c&&(u[zC]=c),FC(e,PC,u)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ar.set("previous_websocket_failure",!0);try{let r;kk(),this.mySock=new Bu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){qn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Bu!==null&&!qn.forceDisallow_}static previouslyFailed(){return ar.isInMemoryStorage||ar.get("previous_websocket_failure")===!0}markConnectionHealthy(){ar.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=cl(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Q(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=Lt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=kC(i,dj);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(hj))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}qn.responsesRequiredToBeHealthy=2;qn.healthyTimeout=3e4;class dl{static get ALL_TRANSPORTS(){return[ma,qn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=qn&&qn.isAvailable();let r=i&&!qn.previouslyFailed();if(e.webSocketOnly&&(i||mn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[qn];else{const o=this.transports_=[];for(const c of dl.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);dl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}dl.globalTransportInitialized_=!1;const pj=6e4,mj=5e3,gj=10*1024,yj=100*1024,sp="t",qb="d",_j="s",Fb="r",vj="e",Vb="o",$b="a",Gb="n",Yb="p",Ej="h";class bj{constructor(e,i,r,o,c,u,h,p,m,_){this.id=e,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xl("c:"+this.id+":"),this.transportManager_=new dl(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=il(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>yj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>gj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(sp in e){const i=e[sp];i===$b?this.upgradeIfSecondaryHealthy_():i===Fb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Vb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Po("t",e),r=Po("d",e);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Yb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$b,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Gb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Po("t",e),r=Po("d",e);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Po(sp,e);if(qb in e){const r=e[qb];if(i===Ej){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===Gb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===_j?this.onConnectionShutdown_(r):i===Fb?this.onReset_(r):i===vj?Ip("Server Error: "+r):i===Vb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ip("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Ym!==r&&mn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),il(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(pj))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):il(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(mj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Yb,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ar.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class WC{put(e,i,r,o){}merge(e,i,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,r){}onDisconnectMerge(e,i,r){}onDisconnectCancel(e,i){}reportStats(e){}}class XC{constructor(e){this.allowedEvents_=e,this.listeners_={},Q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,i)}}on(e,i,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:r});const o=this.getInitialEvent(e);o&&i.apply(r,o)}off(e,i,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let c=0;c<o.length;c++)if(o[c].callback===i&&(!r||r===o[c].context)){o.splice(c,1);return}}validateEventType_(e){Q(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}class zu extends XC{static getInstance(){return new zu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Am()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Kb=32,Wb=768;class nt{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Ke(){return new nt("")}function Oe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Is(t){return t.pieces_.length-t.pieceNum_}function tt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new nt(t.pieces_,e)}function QC(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Sj(t){let e="";for(let i=t.pieceNum_;i<t.pieces_.length;i++)t.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[i])));return e||"/"}function JC(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function ZC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let i=t.pieceNum_;i<t.pieces_.length-1;i++)e.push(t.pieces_[i]);return new nt(e,0)}function xt(t,e){const i=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)i.push(t.pieces_[r]);if(e instanceof nt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)i.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&i.push(r[o])}return new nt(i,0)}function Ae(t){return t.pieceNum_>=t.pieces_.length}function Dn(t,e){const i=Oe(t),r=Oe(e);if(i===null)return e;if(i===r)return Dn(tt(t),tt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ew(t,e){if(Is(t)!==Is(e))return!1;for(let i=t.pieceNum_,r=e.pieceNum_;i<=t.pieces_.length;i++,r++)if(t.pieces_[i]!==e.pieces_[r])return!1;return!0}function Vn(t,e){let i=t.pieceNum_,r=e.pieceNum_;if(Is(t)>Is(e))return!1;for(;i<t.pieces_.length;){if(t.pieces_[i]!==e.pieces_[r])return!1;++i,++r}return!0}class Tj{constructor(e,i){this.errorPrefix_=i,this.parts_=JC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=sf(this.parts_[r]);tw(this)}}function Cj(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=sf(e),tw(t)}function wj(t){const e=t.parts_.pop();t.byteLength_-=sf(e),t.parts_.length>0&&(t.byteLength_-=1)}function tw(t){if(t.byteLength_>Wb)throw new Error(t.errorPrefix_+"has a key path longer than "+Wb+" bytes ("+t.byteLength_+").");if(t.parts_.length>Kb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Kb+") or object contains a cycle "+rr(t))}function rr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}class Xm extends XC{static getInstance(){return new Xm}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return Q(e==="visible","Unknown event type: "+e),[this.visible_]}}const Ho=1e3,Rj=300*1e3,Xb=30*1e3,Nj=1.3,xj=3e4,Aj="server_kill",Qb=3;class Pi extends WC{constructor(e,i,r,o,c,u,h,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=Pi.nextPersistentConnectionId_++,this.log_=xl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ho,this.maxReconnectDelay_=Rj,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&zu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_(Lt(c)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new Rm,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const h=u.d;u.s==="ok"?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),i.promise}listen(e,i,r,o){this.initConnection_();const c=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+c),this.listens.has(u)||this.listens.set(u,new Map),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(u).has(c),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(u).set(c,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r},u="q";e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(u,c,h=>{const p=h.d,m=h.s;Pi.warnOnListenWarnings_(p,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Ki(e,"w")){const r=Ta(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();mn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Bk(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Xb)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=Uk(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const c=o.s,u=o.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e},u="n";o&&(c.q=r,c.t=o),this.sendRequest(u,c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,c){this.initConnection_();const u={p:i,d:r};c!==void 0&&(u.h=c),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const c=r.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Lt(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):Ip("Unrecognized action received from server: "+Lt(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>xj&&(this.reconnectDelay_=Ho),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Nj)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Pi.nextConnectionId_++,c=this.lastSessionId;let u=!1,h=null;const p=function(){h?h.close():(u=!0,r())},m=function(v){Q(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:p,sendRequest:m};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,b]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);u?zt("getToken() completed but was canceled"):(zt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=b&&b.token,h=new bj(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,r,T=>{mn(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(Aj)},c))}catch(v){this.log_("Failed to get token: "+v),u||(this.repoInfo_.nodeAdmin&&mn(v),p())}}}interrupt(e){zt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){zt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Tp(this.interruptReasons_)&&(this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;i?r=i.map(c=>Gm(c)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new nt(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(i),c.delete(i),c.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){zt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Qb&&(this.reconnectDelay_=Xb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){zt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Qb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+NC.replace(/\./g,"-")]=1,Am()?e["framework.cordova"]=1:bT()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=zu.getInstance().currentlyOnline();return Tp(this.interruptReasons_)&&e}}Pi.nextPersistentConnectionId_=0;Pi.nextConnectionId_=0;class ke{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new ke(e,i)}}class cf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const r=new ke(wa,e),o=new ke(wa,i);return this.compare(r,o)!==0}minPost(){return ke.MIN}}let iu;class nw extends cf{static get __EMPTY_NODE(){return iu}static set __EMPTY_NODE(e){iu=e}compare(e,i){return Ba(e.name,i.name)}isDefinedOn(e){throw La("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return ke.MIN}maxPost(){return new ke(pr,iu)}makePost(e,i){return Q(typeof e=="string","KeyIndex indexValue must always be a string."),new ke(e,iu)}toString(){return".key"}}const ba=new nw;class su{constructor(e,i,r,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=i?r(e.key,i):1,o&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Nt{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??Nt.RED,this.left=o??nn.EMPTY_NODE,this.right=c??nn.EMPTY_NODE}copy(e,i,r,o,c){return new Nt(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return nn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(e,r.key)===0){if(r.right.isEmpty())return nn.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Nt.RED=!0;Nt.BLACK=!1;class Oj{copy(e,i,r,o,c){return this}insert(e,i,r){return new Nt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class nn{constructor(e,i=nn.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new nn(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,Nt.BLACK,null,null))}remove(e){return new nn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Nt.BLACK,null,null))}get(e){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(e,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(e){let i,r=this.root_,o=null;for(;!r.isEmpty();)if(i=this.comparator_(e,r.key),i===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new su(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new su(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new su(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new su(this.root_,null,this.comparator_,!0,e)}}nn.EMPTY_NODE=new Oj;function kj(t,e){return Ba(t.name,e.name)}function Qm(t,e){return Ba(t,e)}let Lp;function Dj(t){Lp=t}const iw=function(t){return typeof t=="number"?"number:"+DC(t):"string:"+t},sw=function(t){if(t.isLeafNode()){const e=t.val();Q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ki(e,".sv"),"Priority must be a string or number.")}else Q(t===Lp||t.isEmpty(),"priority of unexpected type.");Q(t===Lp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Jb;class Rt{static set __childrenNodeConstructor(e){Jb=e}static get __childrenNodeConstructor(){return Jb}constructor(e,i=Rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),sw(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Rt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Rt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ae(e)?this:Oe(e)===".priority"?this.priorityNode_:Rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:Rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Oe(e);return r===null?i:i.isEmpty()&&r!==".priority"?this:(Q(r!==".priority"||Is(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(tt(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+iw(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=DC(this.value_):e+=this.value_,this.lazyHash_=AC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Rt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Rt.__childrenNodeConstructor?-1:(Q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=Rt.VALUE_TYPE_ORDER.indexOf(i),c=Rt.VALUE_TYPE_ORDER.indexOf(r);return Q(o>=0,"Unknown leaf type: "+i),Q(c>=0,"Unknown leaf type: "+r),o===c?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let rw,aw;function Ij(t){rw=t}function Mj(t){aw=t}class Lj extends cf{compare(e,i){const r=e.node.getPriority(),o=i.node.getPriority(),c=r.compareTo(o);return c===0?Ba(e.name,i.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return ke.MIN}maxPost(){return new ke(pr,new Rt("[PRIORITY-POST]",aw))}makePost(e,i){const r=rw(e);return new ke(i,new Rt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ht=new Lj;const jj=Math.log(2);class Uj{constructor(e){const i=c=>parseInt(Math.log(c)/jj,10),r=c=>parseInt(Array(c+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Pu=function(t,e,i,r){t.sort(e);const o=function(p,m){const _=m-p;let v,b;if(_===0)return null;if(_===1)return v=t[p],b=i?i(v):v,new Nt(b,v.node,Nt.BLACK,null,null);{const T=parseInt(_/2,10)+p,N=o(p,T),O=o(T+1,m);return v=t[T],b=i?i(v):v,new Nt(b,v.node,Nt.BLACK,N,O)}},c=function(p){let m=null,_=null,v=t.length;const b=function(N,O){const x=v-N,L=v;v-=N;const U=o(x+1,L),H=t[x],q=i?i(H):H;T(new Nt(q,H.node,O,null,U))},T=function(N){m?(m.left=N,m=N):(_=N,m=N)};for(let N=0;N<p.count;++N){const O=p.nextBitIsOne(),x=Math.pow(2,p.count-(N+1));O?b(x,Nt.BLACK):(b(x,Nt.BLACK),b(x,Nt.RED))}return _},u=new Uj(t.length),h=c(u);return new nn(r||e,h)};let rp;const fa={};class ji{static get Default(){return Q(fa&&Ht,"ChildrenNode.ts has not been loaded"),rp=rp||new ji({".priority":fa},{".priority":Ht}),rp}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=Ta(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof nn?i:null}hasIndex(e){return Ki(this.indexSet_,e.toString())}addIndex(e,i){Q(e!==ba,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const c=i.getIterator(ke.Wrap);let u=c.getNext();for(;u;)o=o||e.isDefinedOn(u.node),r.push(u),u=c.getNext();let h;o?h=Pu(r,e.getCompare()):h=fa;const p=e.toString(),m={...this.indexSet_};m[p]=e;const _={...this.indexes_};return _[p]=h,new ji(_,m)}addToIndexes(e,i){const r=Au(this.indexes_,(o,c)=>{const u=Ta(this.indexSet_,c);if(Q(u,"Missing index implementation for "+c),o===fa)if(u.isDefinedOn(e.node)){const h=[],p=i.getIterator(ke.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&h.push(m),m=p.getNext();return h.push(e),Pu(h,u.getCompare())}else return fa;else{const h=i.get(e.name);let p=o;return h&&(p=p.remove(new ke(e.name,h))),p.insert(e,e.node)}});return new ji(r,this.indexSet_)}removeFromIndexes(e,i){const r=Au(this.indexes_,o=>{if(o===fa)return o;{const c=i.get(e.name);return c?o.remove(new ke(e.name,c)):o}});return new ji(r,this.indexSet_)}}let qo;class He{static get EMPTY_NODE(){return qo||(qo=new He(new nn(Qm),null,ji.Default))}constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&sw(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qo}updatePriority(e){return this.children_.isEmpty()?this:new He(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?qo:i}}getChild(e){const i=Oe(e);return i===null?this:this.getImmediateChild(i).getChild(tt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(Q(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const r=new ke(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const u=o.isEmpty()?qo:this.priorityNode_;return new He(o,u,c)}}updateChild(e,i){const r=Oe(e);if(r===null)return i;{Q(Oe(e)!==".priority"||Is(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(tt(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,c=!0;if(this.forEachChild(Ht,(u,h)=>{i[u]=h.val(e),r++,c&&He.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):c=!1}),!e&&c&&o<2*r){const u=[];for(const h in i)u[h]=i[h];return u}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+iw(this.getPriority().val())+":"),this.forEachChild(Ht,(i,r)=>{const o=r.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":AC(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new ke(e,i));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new ke(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new ke(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ke.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ke.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ol?-1:0}withIndex(e){if(e===ba||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new He(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===ba||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ht),o=i.getIterator(Ht);let c=r.getNext(),u=o.getNext();for(;c&&u;){if(c.name!==u.name||!c.node.equals(u.node))return!1;c=r.getNext(),u=o.getNext()}return c===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===ba?null:this.indexMap_.get(e.toString())}}He.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Bj extends He{constructor(){super(new nn(Qm),He.EMPTY_NODE,ji.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return He.EMPTY_NODE}isEmpty(){return!1}}const Ol=new Bj;Object.defineProperties(ke,{MIN:{value:new ke(wa,He.EMPTY_NODE)},MAX:{value:new ke(pr,Ol)}});nw.__EMPTY_NODE=He.EMPTY_NODE;Rt.__childrenNodeConstructor=He;Dj(Ol);Mj(Ol);const zj=!0;function Pt(t,e=null){if(t===null)return He.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const i=t;return new Rt(i,Pt(e))}if(!(t instanceof Array)&&zj){const i=[];let r=!1;if(Mn(t,(u,h)=>{if(u.substring(0,1)!=="."){const p=Pt(h);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),i.push(new ke(u,p)))}}),i.length===0)return He.EMPTY_NODE;const c=Pu(i,kj,u=>u.name,Qm);if(r){const u=Pu(i,Ht.getCompare());return new He(c,Pt(e),new ji({".priority":u},{".priority":Ht}))}else return new He(c,Pt(e),ji.Default)}else{let i=He.EMPTY_NODE;return Mn(t,(r,o)=>{if(Ki(t,r)&&r.substring(0,1)!=="."){const c=Pt(o);(c.isLeafNode()||!c.isEmpty())&&(i=i.updateImmediateChild(r,c))}}),i.updatePriority(Pt(e))}}Ij(Pt);class Pj extends cf{constructor(e){super(),this.indexPath_=e,Q(!Ae(e)&&Oe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const r=this.extractChild(e.node),o=this.extractChild(i.node),c=r.compareTo(o);return c===0?Ba(e.name,i.name):c}makePost(e,i){const r=Pt(e),o=He.EMPTY_NODE.updateChild(this.indexPath_,r);return new ke(i,o)}maxPost(){const e=He.EMPTY_NODE.updateChild(this.indexPath_,Ol);return new ke(pr,e)}toString(){return JC(this.indexPath_,0).join("/")}}class Hj extends cf{compare(e,i){const r=e.node.compareTo(i.node);return r===0?Ba(e.name,i.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return ke.MIN}maxPost(){return ke.MAX}makePost(e,i){const r=Pt(e);return new ke(i,r)}toString(){return".value"}}const qj=new Hj;function Fj(t){return{type:"value",snapshotNode:t}}function Vj(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function $j(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Zb(t,e,i){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:i}}function Gj(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}class Jm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ht}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wa}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ht}copy(){const e=new Jm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function eS(t){const e={};if(t.isDefault())return e;let i;if(t.index_===Ht?i="$priority":t.index_===qj?i="$value":t.index_===ba?i="$key":(Q(t.index_ instanceof Pj,"Unrecognized index type!"),i=t.index_.toString()),e.orderBy=Lt(i),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Lt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Lt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Lt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Lt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function tS(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let i=t.viewFrom_;i===""&&(t.isViewFromLeft()?i="l":i="r"),e.vf=i}return t.index_!==Ht&&(e.i=t.index_.toString()),e}class Hu extends WC{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(Q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=xl("p:rest:"),this.listens_={}}listen(e,i,r,o){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const u=Hu.getListenId_(e,r),h={};this.listens_[u]=h;const p=eS(e._queryParams);this.restRequest_(c+".json",p,(m,_)=>{let v=_;if(m===404&&(v=null,m=null),m===null&&this.onDataUpdate_(c,v,!1,r),Ta(this.listens_,u)===h){let b;m?m===401?b="permission_denied":b="rest_error:"+m:b="ok",o(b,null)}})}unlisten(e,i){const r=Hu.getListenId_(e,i);delete this.listens_[r]}get(e){const i=eS(e._queryParams),r=e._path.toString(),o=new Rm;return this.restRequest_(r+".json",i,(c,u)=>{let h=u;c===404&&(h=null,c=null),c===null?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(i.auth=o.accessToken),c&&c.token&&(i.ac=c.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ja(i);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=cl(h.responseText)}catch{mn("Failed to parse JSON response for "+u+": "+h.responseText)}r(null,p)}else h.status!==401&&h.status!==404&&mn("Got unsuccessful REST response for "+u+" Status: "+h.status),r(h.status);r=null}},h.open("GET",u,!0),h.send()})}}class Yj{constructor(){this.rootNode_=He.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}function qu(){return{value:null,children:new Map}}function ow(t,e,i){if(Ae(e))t.value=i,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,i);else{const r=Oe(e);t.children.has(r)||t.children.set(r,qu());const o=t.children.get(r);e=tt(e),ow(o,e,i)}}function jp(t,e,i){t.value!==null?i(e,t.value):Kj(t,(r,o)=>{const c=new nt(e.toString()+"/"+r);jp(o,c,i)})}function Kj(t,e){t.children.forEach((i,r)=>{e(r,i)})}class Wj{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i={...e};return this.last_&&Mn(this.last_,(r,o)=>{i[r]=i[r]-o}),this.last_=e,i}}const nS=10*1e3,Xj=30*1e3,Qj=300*1e3;class Jj{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new Wj(e);const r=nS+(Xj-nS)*Math.random();il(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),i={};let r=!1;Mn(e,(o,c)=>{c>0&&Ki(this.statsToReport_,o)&&(i[o]=c,r=!0)}),r&&this.server_.reportStats(i),il(this.reportStats_.bind(this),Math.floor(Math.random()*2*Qj))}}var ni;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ni||(ni={}));function lw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function cw(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function uw(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Fu{constructor(e,i,r){this.path=e,this.affectedTree=i,this.revert=r,this.type=ni.ACK_USER_WRITE,this.source=lw()}operationForChild(e){if(Ae(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new nt(e));return new Fu(Ke(),i,this.revert)}}else return Q(Oe(this.path)===e,"operationForChild called for unrelated child."),new Fu(tt(this.path),this.affectedTree,this.revert)}}class mr{constructor(e,i,r){this.source=e,this.path=i,this.snap=r,this.type=ni.OVERWRITE}operationForChild(e){return Ae(this.path)?new mr(this.source,Ke(),this.snap.getImmediateChild(e)):new mr(this.source,tt(this.path),this.snap)}}class hl{constructor(e,i,r){this.source=e,this.path=i,this.children=r,this.type=ni.MERGE}operationForChild(e){if(Ae(this.path)){const i=this.children.subtree(new nt(e));return i.isEmpty()?null:i.value?new mr(this.source,Ke(),i.value):new hl(this.source,Ke(),i)}else return Q(Oe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new hl(this.source,tt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Zm{constructor(e,i,r){this.node_=e,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ae(e))return this.isFullyInitialized()&&!this.filtered_;const i=Oe(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Zj(t,e,i,r){const o=[],c=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&c.push(Gj(u.childName,u.snapshotNode))}),Fo(t,o,"child_removed",e,r,i),Fo(t,o,"child_added",e,r,i),Fo(t,o,"child_moved",c,r,i),Fo(t,o,"child_changed",e,r,i),Fo(t,o,"value",e,r,i),o}function Fo(t,e,i,r,o,c){const u=r.filter(h=>h.type===i);u.sort((h,p)=>t3(t,h,p)),u.forEach(h=>{const p=e3(t,h,c);o.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(p,t.query_))})})}function e3(t,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function t3(t,e,i){if(e.childName==null||i.childName==null)throw La("Should only compare child_ events.");const r=new ke(e.childName,e.snapshotNode),o=new ke(i.childName,i.snapshotNode);return t.index_.compare(r,o)}function fw(t,e){return{eventCache:t,serverCache:e}}function sl(t,e,i,r){return fw(new Zm(e,i,r),t.serverCache)}function dw(t,e,i,r){return fw(t.eventCache,new Zm(e,i,r))}function Up(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function gr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let ap;const n3=()=>(ap||(ap=new nn(qL)),ap);class et{static fromObject(e){let i=new et(null);return Mn(e,(r,o)=>{i=i.set(new nt(r),o)}),i}constructor(e,i=n3()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Ke(),value:this.value};if(Ae(e))return null;{const r=Oe(e),o=this.children.get(r);if(o!==null){const c=o.findRootMostMatchingPathAndValue(tt(e),i);return c!=null?{path:xt(new nt(r),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ae(e))return this;{const i=Oe(e),r=this.children.get(i);return r!==null?r.subtree(tt(e)):new et(null)}}set(e,i){if(Ae(e))return new et(i,this.children);{const r=Oe(e),c=(this.children.get(r)||new et(null)).set(tt(e),i),u=this.children.insert(r,c);return new et(this.value,u)}}remove(e){if(Ae(e))return this.children.isEmpty()?new et(null):new et(null,this.children);{const i=Oe(e),r=this.children.get(i);if(r){const o=r.remove(tt(e));let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),this.value===null&&c.isEmpty()?new et(null):new et(this.value,c)}else return this}}get(e){if(Ae(e))return this.value;{const i=Oe(e),r=this.children.get(i);return r?r.get(tt(e)):null}}setTree(e,i){if(Ae(e))return i;{const r=Oe(e),c=(this.children.get(r)||new et(null)).setTree(tt(e),i);let u;return c.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,c),new et(this.value,u)}}fold(e){return this.fold_(Ke(),e)}fold_(e,i){const r={};return this.children.inorderTraversal((o,c)=>{r[o]=c.fold_(xt(e,o),i)}),i(e,this.value,r)}findOnPath(e,i){return this.findOnPath_(e,Ke(),i)}findOnPath_(e,i,r){const o=this.value?r(i,this.value):!1;if(o)return o;if(Ae(e))return null;{const c=Oe(e),u=this.children.get(c);return u?u.findOnPath_(tt(e),xt(i,c),r):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Ke(),i)}foreachOnPath_(e,i,r){if(Ae(e))return this;{this.value&&r(i,this.value);const o=Oe(e),c=this.children.get(o);return c?c.foreachOnPath_(tt(e),xt(i,o),r):new et(null)}}foreach(e){this.foreach_(Ke(),e)}foreach_(e,i){this.children.inorderTraversal((r,o)=>{o.foreach_(xt(e,r),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,r)=>{r.value&&e(i,r.value)})}}class Gn{constructor(e){this.writeTree_=e}static empty(){return new Gn(new et(null))}}function rl(t,e,i){if(Ae(e))return new Gn(new et(i));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let c=r.value;const u=Dn(o,e);return c=c.updateChild(u,i),new Gn(t.writeTree_.set(o,c))}else{const o=new et(i),c=t.writeTree_.setTree(e,o);return new Gn(c)}}}function iS(t,e,i){let r=t;return Mn(i,(o,c)=>{r=rl(r,xt(e,o),c)}),r}function sS(t,e){if(Ae(e))return Gn.empty();{const i=t.writeTree_.setTree(e,new et(null));return new Gn(i)}}function Bp(t,e){return _r(t,e)!=null}function _r(t,e){const i=t.writeTree_.findRootMostValueAndPath(e);return i!=null?t.writeTree_.get(i.path).getChild(Dn(i.path,e)):null}function rS(t){const e=[],i=t.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Ht,(r,o)=>{e.push(new ke(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new ke(r,o.value))}),e}function Os(t,e){if(Ae(e))return t;{const i=_r(t,e);return i!=null?new Gn(new et(i)):new Gn(t.writeTree_.subtree(e))}}function zp(t){return t.writeTree_.isEmpty()}function Ra(t,e){return hw(Ke(),t.writeTree_,e)}function hw(t,e,i){if(e.value!=null)return i.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,c)=>{o===".priority"?(Q(c.value!==null,"Priority writes must always be leaf nodes"),r=c.value):i=hw(xt(t,o),c,i)}),!i.getChild(t).isEmpty()&&r!==null&&(i=i.updateChild(xt(t,".priority"),r)),i}}function pw(t,e){return vw(e,t)}function i3(t,e,i,r,o){Q(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:i,writeId:r,visible:o}),o&&(t.visibleWrites=rl(t.visibleWrites,e,i)),t.lastWriteId=r}function s3(t,e){for(let i=0;i<t.allWrites.length;i++){const r=t.allWrites[i];if(r.writeId===e)return r}return null}function r3(t,e){const i=t.allWrites.findIndex(h=>h.writeId===e);Q(i>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[i];t.allWrites.splice(i,1);let o=r.visible,c=!1,u=t.allWrites.length-1;for(;o&&u>=0;){const h=t.allWrites[u];h.visible&&(u>=i&&a3(h,r.path)?o=!1:Vn(r.path,h.path)&&(c=!0)),u--}if(o){if(c)return o3(t),!0;if(r.snap)t.visibleWrites=sS(t.visibleWrites,r.path);else{const h=r.children;Mn(h,p=>{t.visibleWrites=sS(t.visibleWrites,xt(r.path,p))})}return!0}else return!1}function a3(t,e){if(t.snap)return Vn(t.path,e);for(const i in t.children)if(t.children.hasOwnProperty(i)&&Vn(xt(t.path,i),e))return!0;return!1}function o3(t){t.visibleWrites=mw(t.allWrites,l3,Ke()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function l3(t){return t.visible}function mw(t,e,i){let r=Gn.empty();for(let o=0;o<t.length;++o){const c=t[o];if(e(c)){const u=c.path;let h;if(c.snap)Vn(i,u)?(h=Dn(i,u),r=rl(r,h,c.snap)):Vn(u,i)&&(h=Dn(u,i),r=rl(r,Ke(),c.snap.getChild(h)));else if(c.children){if(Vn(i,u))h=Dn(i,u),r=iS(r,h,c.children);else if(Vn(u,i))if(h=Dn(u,i),Ae(h))r=iS(r,Ke(),c.children);else{const p=Ta(c.children,Oe(h));if(p){const m=p.getChild(tt(h));r=rl(r,Ke(),m)}}}else throw La("WriteRecord should have .snap or .children")}}return r}function gw(t,e,i,r,o){if(!r&&!o){const c=_r(t.visibleWrites,e);if(c!=null)return c;{const u=Os(t.visibleWrites,e);if(zp(u))return i;if(i==null&&!Bp(u,Ke()))return null;{const h=i||He.EMPTY_NODE;return Ra(u,h)}}}else{const c=Os(t.visibleWrites,e);if(!o&&zp(c))return i;if(!o&&i==null&&!Bp(c,Ke()))return null;{const u=function(m){return(m.visible||o)&&(!r||!~r.indexOf(m.writeId))&&(Vn(m.path,e)||Vn(e,m.path))},h=mw(t.allWrites,u,e),p=i||He.EMPTY_NODE;return Ra(h,p)}}}function c3(t,e,i){let r=He.EMPTY_NODE;const o=_r(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Ht,(c,u)=>{r=r.updateImmediateChild(c,u)}),r;if(i){const c=Os(t.visibleWrites,e);return i.forEachChild(Ht,(u,h)=>{const p=Ra(Os(c,new nt(u)),h);r=r.updateImmediateChild(u,p)}),rS(c).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}else{const c=Os(t.visibleWrites,e);return rS(c).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}}function u3(t,e,i,r,o){Q(r||o,"Either existingEventSnap or existingServerSnap must exist");const c=xt(e,i);if(Bp(t.visibleWrites,c))return null;{const u=Os(t.visibleWrites,c);return zp(u)?o.getChild(i):Ra(u,o.getChild(i))}}function f3(t,e,i,r){const o=xt(e,i),c=_r(t.visibleWrites,o);if(c!=null)return c;if(r.isCompleteForChild(i)){const u=Os(t.visibleWrites,o);return Ra(u,r.getNode().getImmediateChild(i))}else return null}function d3(t,e){return _r(t.visibleWrites,e)}function h3(t,e,i,r,o,c,u){let h;const p=Os(t.visibleWrites,e),m=_r(p,Ke());if(m!=null)h=m;else if(i!=null)h=Ra(p,i);else return[];if(h=h.withIndex(u),!h.isEmpty()&&!h.isLeafNode()){const _=[],v=u.getCompare(),b=c?h.getReverseIteratorFrom(r,u):h.getIteratorFrom(r,u);let T=b.getNext();for(;T&&_.length<o;)v(T,r)!==0&&_.push(T),T=b.getNext();return _}else return[]}function p3(){return{visibleWrites:Gn.empty(),allWrites:[],lastWriteId:-1}}function Pp(t,e,i,r){return gw(t.writeTree,t.treePath,e,i,r)}function yw(t,e){return c3(t.writeTree,t.treePath,e)}function aS(t,e,i,r){return u3(t.writeTree,t.treePath,e,i,r)}function Vu(t,e){return d3(t.writeTree,xt(t.treePath,e))}function m3(t,e,i,r,o,c){return h3(t.writeTree,t.treePath,e,i,r,o,c)}function eg(t,e,i){return f3(t.writeTree,t.treePath,e,i)}function _w(t,e){return vw(xt(t.treePath,e),t.writeTree)}function vw(t,e){return{treePath:t,writeTree:e}}class g3{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,r=e.childName;Q(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),Q(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const c=o.type;if(i==="child_added"&&c==="child_removed")this.changeMap.set(r,Zb(r,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&c==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&c==="child_changed")this.changeMap.set(r,$j(r,o.oldSnap));else if(i==="child_changed"&&c==="child_added")this.changeMap.set(r,Vj(r,e.snapshotNode));else if(i==="child_changed"&&c==="child_changed")this.changeMap.set(r,Zb(r,e.snapshotNode,o.oldSnap));else throw La("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}class y3{getCompleteChild(e){return null}getChildAfterChild(e,i,r){return null}}const Ew=new y3;class tg{constructor(e,i,r=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Zm(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return eg(this.writes_,e,r)}}getChildAfterChild(e,i,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:gr(this.viewCache_),c=m3(this.writes_,o,i,1,r,e);return c.length===0?null:c[0]}}function _3(t,e){Q(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Q(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function v3(t,e,i,r,o){const c=new g3;let u,h;if(i.type===ni.OVERWRITE){const m=i;m.source.fromUser?u=Hp(t,e,m.path,m.snap,r,o,c):(Q(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!Ae(m.path),u=$u(t,e,m.path,m.snap,r,o,h,c))}else if(i.type===ni.MERGE){const m=i;m.source.fromUser?u=b3(t,e,m.path,m.children,r,o,c):(Q(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),u=qp(t,e,m.path,m.children,r,o,h,c))}else if(i.type===ni.ACK_USER_WRITE){const m=i;m.revert?u=C3(t,e,m.path,r,o,c):u=S3(t,e,m.path,m.affectedTree,r,o,c)}else if(i.type===ni.LISTEN_COMPLETE)u=T3(t,e,i.path,r,c);else throw La("Unknown operation type: "+i.type);const p=c.getChanges();return E3(e,u,p),{viewCache:u,changes:p}}function E3(t,e,i){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=Up(t);(i.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&i.push(Fj(Up(e)))}}function bw(t,e,i,r,o,c){const u=e.eventCache;if(Vu(r,i)!=null)return e;{let h,p;if(Ae(i))if(Q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=gr(e),_=m instanceof He?m:He.EMPTY_NODE,v=yw(r,_);h=t.filter.updateFullNode(e.eventCache.getNode(),v,c)}else{const m=Pp(r,gr(e));h=t.filter.updateFullNode(e.eventCache.getNode(),m,c)}else{const m=Oe(i);if(m===".priority"){Q(Is(i)===1,"Can't have a priority with additional path components");const _=u.getNode();p=e.serverCache.getNode();const v=aS(r,i,_,p);v!=null?h=t.filter.updatePriority(_,v):h=u.getNode()}else{const _=tt(i);let v;if(u.isCompleteForChild(m)){p=e.serverCache.getNode();const b=aS(r,i,u.getNode(),p);b!=null?v=u.getNode().getImmediateChild(m).updateChild(_,b):v=u.getNode().getImmediateChild(m)}else v=eg(r,m,e.serverCache);v!=null?h=t.filter.updateChild(u.getNode(),m,v,_,o,c):h=u.getNode()}}return sl(e,h,u.isFullyInitialized()||Ae(i),t.filter.filtersNodes())}}function $u(t,e,i,r,o,c,u,h){const p=e.serverCache;let m;const _=u?t.filter:t.filter.getIndexedFilter();if(Ae(i))m=_.updateFullNode(p.getNode(),r,null);else if(_.filtersNodes()&&!p.isFiltered()){const T=p.getNode().updateChild(i,r);m=_.updateFullNode(p.getNode(),T,null)}else{const T=Oe(i);if(!p.isCompleteForPath(i)&&Is(i)>1)return e;const N=tt(i),x=p.getNode().getImmediateChild(T).updateChild(N,r);T===".priority"?m=_.updatePriority(p.getNode(),x):m=_.updateChild(p.getNode(),T,x,N,Ew,null)}const v=dw(e,m,p.isFullyInitialized()||Ae(i),_.filtersNodes()),b=new tg(o,v,c);return bw(t,v,i,o,b,h)}function Hp(t,e,i,r,o,c,u){const h=e.eventCache;let p,m;const _=new tg(o,e,c);if(Ae(i))m=t.filter.updateFullNode(e.eventCache.getNode(),r,u),p=sl(e,m,!0,t.filter.filtersNodes());else{const v=Oe(i);if(v===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),r),p=sl(e,m,h.isFullyInitialized(),h.isFiltered());else{const b=tt(i),T=h.getNode().getImmediateChild(v);let N;if(Ae(b))N=r;else{const O=_.getCompleteChild(v);O!=null?QC(b)===".priority"&&O.getChild(ZC(b)).isEmpty()?N=O:N=O.updateChild(b,r):N=He.EMPTY_NODE}if(T.equals(N))p=e;else{const O=t.filter.updateChild(h.getNode(),v,N,b,_,u);p=sl(e,O,h.isFullyInitialized(),t.filter.filtersNodes())}}}return p}function oS(t,e){return t.eventCache.isCompleteForChild(e)}function b3(t,e,i,r,o,c,u){let h=e;return r.foreach((p,m)=>{const _=xt(i,p);oS(e,Oe(_))&&(h=Hp(t,h,_,m,o,c,u))}),r.foreach((p,m)=>{const _=xt(i,p);oS(e,Oe(_))||(h=Hp(t,h,_,m,o,c,u))}),h}function lS(t,e,i){return i.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function qp(t,e,i,r,o,c,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;Ae(i)?m=r:m=new et(null).setTree(i,r);const _=e.serverCache.getNode();return m.children.inorderTraversal((v,b)=>{if(_.hasChild(v)){const T=e.serverCache.getNode().getImmediateChild(v),N=lS(t,T,b);p=$u(t,p,new nt(v),N,o,c,u,h)}}),m.children.inorderTraversal((v,b)=>{const T=!e.serverCache.isCompleteForChild(v)&&b.value===null;if(!_.hasChild(v)&&!T){const N=e.serverCache.getNode().getImmediateChild(v),O=lS(t,N,b);p=$u(t,p,new nt(v),O,o,c,u,h)}}),p}function S3(t,e,i,r,o,c,u){if(Vu(o,i)!=null)return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(r.value!=null){if(Ae(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return $u(t,e,i,p.getNode().getChild(i),o,c,h,u);if(Ae(i)){let m=new et(null);return p.getNode().forEachChild(ba,(_,v)=>{m=m.set(new nt(_),v)}),qp(t,e,i,m,o,c,h,u)}else return e}else{let m=new et(null);return r.foreach((_,v)=>{const b=xt(i,_);p.isCompleteForPath(b)&&(m=m.set(_,p.getNode().getChild(b)))}),qp(t,e,i,m,o,c,h,u)}}function T3(t,e,i,r,o){const c=e.serverCache,u=dw(e,c.getNode(),c.isFullyInitialized()||Ae(i),c.isFiltered());return bw(t,u,i,r,Ew,o)}function C3(t,e,i,r,o,c){let u;if(Vu(r,i)!=null)return e;{const h=new tg(r,e,o),p=e.eventCache.getNode();let m;if(Ae(i)||Oe(i)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=Pp(r,gr(e));else{const v=e.serverCache.getNode();Q(v instanceof He,"serverChildren would be complete if leaf node"),_=yw(r,v)}_=_,m=t.filter.updateFullNode(p,_,c)}else{const _=Oe(i);let v=eg(r,_,e.serverCache);v==null&&e.serverCache.isCompleteForChild(_)&&(v=p.getImmediateChild(_)),v!=null?m=t.filter.updateChild(p,_,v,tt(i),h,c):e.eventCache.getNode().hasChild(_)?m=t.filter.updateChild(p,_,He.EMPTY_NODE,tt(i),h,c):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Pp(r,gr(e)),u.isLeafNode()&&(m=t.filter.updateFullNode(m,u,c)))}return u=e.serverCache.isFullyInitialized()||Vu(r,Ke())!=null,sl(e,m,u,t.filter.filtersNodes())}}function w3(t,e){const i=gr(t.viewCache_);return i&&(t.query._queryParams.loadsAllData()||!Ae(e)&&!i.getImmediateChild(Oe(e)).isEmpty())?i.getChild(e):null}function cS(t,e,i,r){e.type===ni.MERGE&&e.source.queryId!==null&&(Q(gr(t.viewCache_),"We should always have a full cache before handling merges"),Q(Up(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,c=v3(t.processor_,o,e,i,r);return _3(t.processor_,c.viewCache),Q(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,R3(t,c.changes,c.viewCache.eventCache.getNode())}function R3(t,e,i,r){const o=t.eventRegistrations_;return Zj(t.eventGenerator_,e,i,o)}let uS;function N3(t){Q(!uS,"__referenceConstructor has already been defined"),uS=t}function ng(t,e,i,r){const o=e.source.queryId;if(o!==null){const c=t.views.get(o);return Q(c!=null,"SyncTree gave us an op for an invalid query."),cS(c,e,i,r)}else{let c=[];for(const u of t.views.values())c=c.concat(cS(u,e,i,r));return c}}function ig(t,e){let i=null;for(const r of t.views.values())i=i||w3(r,e);return i}let fS;function x3(t){Q(!fS,"__referenceConstructor has already been defined"),fS=t}class dS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new et(null),this.pendingWriteTree_=p3(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function A3(t,e,i,r,o){return i3(t.pendingWriteTree_,e,i,r,o),o?ff(t,new mr(lw(),e,i)):[]}function ga(t,e,i=!1){const r=s3(t.pendingWriteTree_,e);if(r3(t.pendingWriteTree_,e)){let c=new et(null);return r.snap!=null?c=c.set(Ke(),!0):Mn(r.children,u=>{c=c.set(new nt(u),!0)}),ff(t,new Fu(r.path,c,i))}else return[]}function uf(t,e,i){return ff(t,new mr(cw(),e,i))}function O3(t,e,i){const r=et.fromObject(i);return ff(t,new hl(cw(),e,r))}function k3(t,e,i,r){const o=ww(t,r);if(o!=null){const c=Rw(o),u=c.path,h=c.queryId,p=Dn(u,e),m=new mr(uw(h),p,i);return Nw(t,u,m)}else return[]}function D3(t,e,i,r){const o=ww(t,r);if(o){const c=Rw(o),u=c.path,h=c.queryId,p=Dn(u,e),m=et.fromObject(i),_=new hl(uw(h),p,m);return Nw(t,u,_)}else return[]}function Sw(t,e,i){const o=t.pendingWriteTree_,c=t.syncPointTree_.findOnPath(e,(u,h)=>{const p=Dn(u,e),m=ig(h,p);if(m)return m});return gw(o,e,c,i,!0)}function ff(t,e){return Tw(e,t.syncPointTree_,null,pw(t.pendingWriteTree_,Ke()))}function Tw(t,e,i,r){if(Ae(t.path))return Cw(t,e,i,r);{const o=e.get(Ke());i==null&&o!=null&&(i=ig(o,Ke()));let c=[];const u=Oe(t.path),h=t.operationForChild(u),p=e.children.get(u);if(p&&h){const m=i?i.getImmediateChild(u):null,_=_w(r,u);c=c.concat(Tw(h,p,m,_))}return o&&(c=c.concat(ng(o,t,r,i))),c}}function Cw(t,e,i,r){const o=e.get(Ke());i==null&&o!=null&&(i=ig(o,Ke()));let c=[];return e.children.inorderTraversal((u,h)=>{const p=i?i.getImmediateChild(u):null,m=_w(r,u),_=t.operationForChild(u);_&&(c=c.concat(Cw(_,h,p,m)))}),o&&(c=c.concat(ng(o,t,r,i))),c}function ww(t,e){return t.tagToQueryMap.get(e)}function Rw(t){const e=t.indexOf("$");return Q(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new nt(t.substr(0,e))}}function Nw(t,e,i){const r=t.syncPointTree_.get(e);Q(r,"Missing sync point for query tag that we're tracking");const o=pw(t.pendingWriteTree_,e);return ng(r,i,o,null)}class sg{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new sg(i)}node(){return this.node_}}class rg{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=xt(this.path_,e);return new rg(this.syncTree_,i)}node(){return Sw(this.syncTree_,this.path_)}}const I3=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},hS=function(t,e,i){if(!t||typeof t!="object")return t;if(Q(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return M3(t[".sv"],e,i);if(typeof t[".sv"]=="object")return L3(t[".sv"],e);Q(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},M3=function(t,e,i){if(t==="timestamp")return i.timestamp;Q(!1,"Unexpected server value: "+t)},L3=function(t,e,i){t.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Q(!1,"Unexpected increment value: "+r);const o=e.node();if(Q(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const u=o.getValue();return typeof u!="number"?r:u+r},j3=function(t,e,i,r){return ag(e,new rg(i,t),r)},U3=function(t,e,i){return ag(t,new sg(e),i)};function ag(t,e,i){const r=t.getPriority().val(),o=hS(r,e.getImmediateChild(".priority"),i);let c;if(t.isLeafNode()){const u=t,h=hS(u.getValue(),e,i);return h!==u.getValue()||o!==u.getPriority().val()?new Rt(h,Pt(o)):t}else{const u=t;return c=u,o!==u.getPriority().val()&&(c=c.updatePriority(new Rt(o))),u.forEachChild(Ht,(h,p)=>{const m=ag(p,e.getImmediateChild(h),i);m!==p&&(c=c.updateImmediateChild(h,m))}),c}}class og{constructor(e="",i=null,r={children:{},childCount:0}){this.name=e,this.parent=i,this.node=r}}function lg(t,e){let i=e instanceof nt?e:new nt(e),r=t,o=Oe(i);for(;o!==null;){const c=Ta(r.node.children,o)||{children:{},childCount:0};r=new og(o,r,c),i=tt(i),o=Oe(i)}return r}function za(t){return t.node.value}function xw(t,e){t.node.value=e,Fp(t)}function Aw(t){return t.node.childCount>0}function B3(t){return za(t)===void 0&&!Aw(t)}function df(t,e){Mn(t.node.children,(i,r)=>{e(new og(i,t,r))})}function Ow(t,e,i,r){i&&e(t),df(t,o=>{Ow(o,e,!0)})}function z3(t,e,i){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function kl(t){return new nt(t.parent===null?t.name:kl(t.parent)+"/"+t.name)}function Fp(t){t.parent!==null&&P3(t.parent,t.name,t)}function P3(t,e,i){const r=B3(i),o=Ki(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,Fp(t)):!r&&!o&&(t.node.children[e]=i.node,t.node.childCount++,Fp(t))}const H3=/[\[\].#$\/\u0000-\u001F\u007F]/,q3=/[\[\].#$\u0000-\u001F\u007F]/,op=10*1024*1024,kw=function(t){return typeof t=="string"&&t.length!==0&&!H3.test(t)},F3=function(t){return typeof t=="string"&&t.length!==0&&!q3.test(t)},V3=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),F3(t)},Dw=function(t,e,i){const r=i instanceof nt?new Tj(i,t):i;if(e===void 0)throw new Error(t+"contains undefined "+rr(r));if(typeof e=="function")throw new Error(t+"contains a function "+rr(r)+" with contents = "+e.toString());if(OC(e))throw new Error(t+"contains "+e.toString()+" "+rr(r));if(typeof e=="string"&&e.length>op/3&&sf(e)>op)throw new Error(t+"contains a string greater than "+op+" utf8 bytes "+rr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,c=!1;if(Mn(e,(u,h)=>{if(u===".value")o=!0;else if(u!==".priority"&&u!==".sv"&&(c=!0,!kw(u)))throw new Error(t+" contains an invalid key ("+u+") "+rr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Cj(r,u),Dw(t,h,r),wj(r)}),o&&c)throw new Error(t+' contains ".value" child '+rr(r)+" in addition to actual children.")}},$3=function(t,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!kw(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!V3(i))throw new Error(Fk(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class G3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Y3(t,e){let i=null;for(let r=0;r<e.length;r++){const o=e[r],c=o.getPath();i!==null&&!ew(c,i.path)&&(t.eventLists_.push(i),i=null),i===null&&(i={events:[],path:c}),i.events.push(o)}i&&t.eventLists_.push(i)}function vr(t,e,i){Y3(t,i),K3(t,r=>Vn(r,e)||Vn(e,r))}function K3(t,e){t.recursionDepth_++;let i=!0;for(let r=0;r<t.eventLists_.length;r++){const o=t.eventLists_[r];if(o){const c=o.path;e(c)?(W3(t.eventLists_[r]),t.eventLists_[r]=null):i=!1}}i&&(t.eventLists_=[]),t.recursionDepth_--}function W3(t){for(let e=0;e<t.events.length;e++){const i=t.events[e];if(i!==null){t.events[e]=null;const r=i.getEventRunner();nl&&zt("event: "+i.toString()),Al(r)}}}const X3="repo_interrupt",Q3=25;class J3{constructor(e,i,r,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new G3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qu(),this.transactionQueueTree_=new og,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Z3(t,e,i){if(t.stats_=Km(t.repoInfo_),t.forceRestClient_||KL())t.server_=new Hu(t.repoInfo_,(r,o,c,u)=>{pS(t,r,o,c,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>mS(t,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Lt(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Pi(t.repoInfo_,e,(r,o,c,u)=>{pS(t,r,o,c,u)},r=>{mS(t,r)},r=>{tU(t,r)},t.authTokenProvider_,t.appCheckProvider_,i),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=ZL(t.repoInfo_,()=>new Jj(t.stats_,t.server_)),t.infoData_=new Yj,t.infoSyncTree_=new dS({startListening:(r,o,c,u)=>{let h=[];const p=t.infoData_.getNode(r._path);return p.isEmpty()||(h=uf(t.infoSyncTree_,r._path,p),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),cg(t,"connected",!1),t.serverSyncTree_=new dS({startListening:(r,o,c,u)=>(t.server_.listen(r,c,o,(h,p)=>{const m=u(h,p);vr(t.eventQueue_,r._path,m)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function eU(t){const i=t.infoData_.getNode(new nt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Iw(t){return I3({timestamp:eU(t)})}function pS(t,e,i,r,o){t.dataUpdateCount++;const c=new nt(e);i=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,i):i;let u=[];if(o)if(r){const p=Au(i,m=>Pt(m));u=D3(t.serverSyncTree_,c,p,o)}else{const p=Pt(i);u=k3(t.serverSyncTree_,c,p,o)}else if(r){const p=Au(i,m=>Pt(m));u=O3(t.serverSyncTree_,c,p)}else{const p=Pt(i);u=uf(t.serverSyncTree_,c,p)}let h=c;u.length>0&&(h=fg(t,c)),vr(t.eventQueue_,h,u)}function mS(t,e){cg(t,"connected",e),e===!1&&iU(t)}function tU(t,e){Mn(e,(i,r)=>{cg(t,i,r)})}function cg(t,e,i){const r=new nt("/.info/"+e),o=Pt(i);t.infoData_.updateSnapshot(r,o);const c=uf(t.infoSyncTree_,r,o);vr(t.eventQueue_,r,c)}function nU(t){return t.nextWriteId_++}function iU(t){Mw(t,"onDisconnectEvents");const e=Iw(t),i=qu();jp(t.onDisconnect_,Ke(),(o,c)=>{const u=j3(o,c,t.serverSyncTree_,e);ow(i,o,u)});let r=[];jp(i,Ke(),(o,c)=>{r=r.concat(uf(t.serverSyncTree_,o,c));const u=oU(t,o);fg(t,u)}),t.onDisconnect_=qu(),vr(t.eventQueue_,Ke(),r)}function sU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(X3)}function Mw(t,...e){let i="";t.persistentConnection_&&(i=t.persistentConnection_.id+":"),zt(i,...e)}function Lw(t,e,i){return Sw(t.serverSyncTree_,e,i)||He.EMPTY_NODE}function ug(t,e=t.transactionQueueTree_){if(e||hf(t,e),za(e)){const i=Uw(t,e);Q(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&rU(t,kl(e),i)}else Aw(e)&&df(e,i=>{ug(t,i)})}function rU(t,e,i){const r=i.map(m=>m.currentWriteId),o=Lw(t,e,r);let c=o;const u=o.hash();for(let m=0;m<i.length;m++){const _=i[m];Q(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const v=Dn(e,_.path);c=c.updateChild(v,_.currentOutputSnapshotRaw)}const h=c.val(!0),p=e;t.server_.put(p.toString(),h,m=>{Mw(t,"transaction put response",{path:p.toString(),status:m});let _=[];if(m==="ok"){const v=[];for(let b=0;b<i.length;b++)i[b].status=2,_=_.concat(ga(t.serverSyncTree_,i[b].currentWriteId)),i[b].onComplete&&v.push(()=>i[b].onComplete(null,!0,i[b].currentOutputSnapshotResolved)),i[b].unwatcher();hf(t,lg(t.transactionQueueTree_,e)),ug(t,t.transactionQueueTree_),vr(t.eventQueue_,e,_);for(let b=0;b<v.length;b++)Al(v[b])}else{if(m==="datastale")for(let v=0;v<i.length;v++)i[v].status===3?i[v].status=4:i[v].status=0;else{mn("transaction at "+p.toString()+" failed: "+m);for(let v=0;v<i.length;v++)i[v].status=4,i[v].abortReason=m}fg(t,e)}},u)}function fg(t,e){const i=jw(t,e),r=kl(i),o=Uw(t,i);return aU(t,o,r),r}function aU(t,e,i){if(e.length===0)return;const r=[];let o=[];const u=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],m=Dn(i,p.path);let _=!1,v;if(Q(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)_=!0,v=p.abortReason,o=o.concat(ga(t.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=Q3)_=!0,v="maxretry",o=o.concat(ga(t.serverSyncTree_,p.currentWriteId,!0));else{const b=Lw(t,p.path,u);p.currentInputSnapshot=b;const T=e[h].update(b.val());if(T!==void 0){Dw("transaction failed: Data returned ",T,p.path);let N=Pt(T);typeof T=="object"&&T!=null&&Ki(T,".priority")||(N=N.updatePriority(b.getPriority()));const x=p.currentWriteId,L=Iw(t),U=U3(N,b,L);p.currentOutputSnapshotRaw=N,p.currentOutputSnapshotResolved=U,p.currentWriteId=nU(t),u.splice(u.indexOf(x),1),o=o.concat(A3(t.serverSyncTree_,p.path,U,p.currentWriteId,p.applyLocally)),o=o.concat(ga(t.serverSyncTree_,x,!0))}else _=!0,v="nodata",o=o.concat(ga(t.serverSyncTree_,p.currentWriteId,!0))}vr(t.eventQueue_,i,o),o=[],_&&(e[h].status=2,(function(b){setTimeout(b,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(v==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(v),!1,null))))}hf(t,t.transactionQueueTree_);for(let h=0;h<r.length;h++)Al(r[h]);ug(t,t.transactionQueueTree_)}function jw(t,e){let i,r=t.transactionQueueTree_;for(i=Oe(e);i!==null&&za(r)===void 0;)r=lg(r,i),e=tt(e),i=Oe(e);return r}function Uw(t,e){const i=[];return Bw(t,e,i),i.sort((r,o)=>r.order-o.order),i}function Bw(t,e,i){const r=za(e);if(r)for(let o=0;o<r.length;o++)i.push(r[o]);df(e,o=>{Bw(t,o,i)})}function hf(t,e){const i=za(e);if(i){let r=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[r]=i[o],r++);i.length=r,xw(e,i.length>0?i:void 0)}df(e,r=>{hf(t,r)})}function oU(t,e){const i=kl(jw(t,e)),r=lg(t.transactionQueueTree_,e);return z3(r,o=>{lp(t,o)}),lp(t,r),Ow(r,o=>{lp(t,o)}),i}function lp(t,e){const i=za(e);if(i){const r=[];let o=[],c=-1;for(let u=0;u<i.length;u++)i[u].status===3||(i[u].status===1?(Q(c===u-1,"All SENT items should be at beginning of queue."),c=u,i[u].status=3,i[u].abortReason="set"):(Q(i[u].status===0,"Unexpected transaction status in abort"),i[u].unwatcher(),o=o.concat(ga(t.serverSyncTree_,i[u].currentWriteId,!0)),i[u].onComplete&&r.push(i[u].onComplete.bind(null,new Error("set"),!1,null))));c===-1?xw(e,void 0):i.length=c+1,vr(t.eventQueue_,kl(e),o);for(let u=0;u<r.length;u++)Al(r[u])}}function lU(t){let e="";const i=t.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let o=i[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function cU(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const i of t.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):mn(`Invalid query segment '${i}' in query '${t}'`)}return e}const gS=function(t,e){const i=uU(t),r=i.namespace;i.domain==="firebase.com"&&$i(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&$i("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||PL();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new qC(i.host,i.secure,r,o,e,"",r!==i.subdomain),path:new nt(i.pathString)}},uU=function(t){let e="",i="",r="",o="",c="",u=!0,h="https",p=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(h=t.substring(0,m-1),t=t.substring(m+2));let _=t.indexOf("/");_===-1&&(_=t.length);let v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(_,v)),_<v&&(o=lU(t.substring(_,v)));const b=cU(t.substring(Math.min(t.length,v)));m=e.indexOf(":"),m>=0?(u=h==="https"||h==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const T=e.slice(0,m);if(T.toLowerCase()==="localhost")i="localhost";else if(T.split(".").length<=2)i=T;else{const N=e.indexOf(".");r=e.substring(0,N).toLowerCase(),i=e.substring(N+1),c=r}"ns"in b&&(c=b.ns)}return{host:e,port:p,domain:i,subdomain:r,secure:u,scheme:h,pathString:o,namespace:c}};class dg{constructor(e,i,r,o){this._repo=e,this._path=i,this._queryParams=r,this._orderByCalled=o}get key(){return Ae(this._path)?null:QC(this._path)}get ref(){return new Pa(this._repo,this._path)}get _queryIdentifier(){const e=tS(this._queryParams),i=Gm(e);return i==="{}"?"default":i}get _queryObject(){return tS(this._queryParams)}isEqual(e){if(e=Ut(e),!(e instanceof dg))return!1;const i=this._repo===e._repo,r=ew(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+Sj(this._path)}}class Pa extends dg{constructor(e,i){super(e,i,new Jm,!1)}get parent(){const e=ZC(this._path);return e===null?null:new Pa(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}N3(Pa);x3(Pa);const fU="FIREBASE_DATABASE_EMULATOR_HOST",Vp={};let dU=!1;function hU(t,e,i,r){const o=e.lastIndexOf(":"),c=e.substring(0,o),u=Ms(c);t.repoInfo_=new qC(e,u,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(t.authTokenProvider_=r)}function pU(t,e,i,r,o){let c=r||t.options.databaseURL;c===void 0&&(t.options.projectId||$i("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zt("Using default host for project ",t.options.projectId),c=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=gS(c,o),h=u.repoInfo,p;typeof process<"u"&&jb&&(p=jb[fU]),p?(c=`http://${p}?ns=${h.namespace}`,u=gS(c,o),h=u.repoInfo):u.repoInfo.secure;const m=new XL(t.name,t.options,e);$3("Invalid Firebase Database URL",u),Ae(u.path)||$i("Database URL must point to the root of a Firebase Database (not including a child path).");const _=gU(h,t,m,new WL(t,i));return new yU(_,t)}function mU(t,e){const i=Vp[e];(!i||i[t.key]!==t)&&$i(`Database ${e}(${t.repoInfo_}) has already been deleted.`),sU(t),delete i[t.key]}function gU(t,e,i,r){let o=Vp[e.name];o||(o={},Vp[e.name]=o);let c=o[t.toURLString()];return c&&$i("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new J3(t,dU,i,r),o[t.toURLString()]=c,c}class yU{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Z3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Pa(this._repo,Ke())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&$i("Cannot call "+e+" on a deleted database.")}}function _U(t=Dm(),e){const i=rf(t,"database").getImmediate({identifier:e});if(!i._instanceStarted){const r=yT("database");r&&vU(i,...r)}return i}function vU(t,e,i,r={}){t=Ut(t),t._checkNotDeleted("useEmulator");const o=`${e}:${i}`,c=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&cr(r,c.repoInfo_.emulatorOptions))return;$i("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(c.repoInfo_.nodeAdmin)r.mockUserToken&&$i('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new gu(gu.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:ET(r.mockUserToken,t.app.options.projectId);u=new gu(h)}Ms(e)&&(Nm(e),xm("Database",!0)),hU(c,o,r,u)}function EU(t){ML(yr),ur(new Ds("database",(e,{instanceIdentifier:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return pU(r,o,c,i)},"PUBLIC").setMultipleInstances(!0)),ii(Ub,Bb,t),ii(Ub,Bb,"esm2020")}Pi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Pi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};EU();const bU={apiKey:"AIzaSyCizzydEPqjuVV1Hrll6_24se2s5codk5E",authDomain:"hireme-f8d21.firebaseapp.com",databaseURL:"https://hireme-f8d21-default-rtdb.asia-southeast1.firebasedatabase.app/",projectId:"hireme-f8d21",storageBucket:"hireme-f8d21.firebasestorage.app",messagingSenderId:"417494083560",appId:"1:417494083560:web:45560c36625d56e161e65d"},hg=wT(bU),gn=cC(hg),SU=OL(hg);_U(hg);const yS="https://41bbbbbf-93d5-4a52-aef1-e65635945258-00-3tcqp4xlzxntf.pike.replit.dev";async function mt(t,e={}){const i={"Content-Type":"application/json",...e.headers};if(gn.currentUser){const o=await gn.currentUser.getIdToken();i.Authorization=`Bearer ${o}`}const r=t.startsWith("/")?yS+t:yS+"/"+t;return console.log("[authFetch] URL:",r),console.log("[authFetch] Token exists?",!!gn.currentUser),console.log("[authFetch] Headers:",i),fetch(r,{...e,headers:i})}const zw=E.createContext();function TU({children:t}){const[e,i]=E.useState(null),[r,o]=E.useState(!0),c=E.useRef(!1);E.useEffect(()=>{const h=o2(gn,async p=>{i(p),o(!1),c.current=!1});return()=>h()},[]),E.useEffect(()=>{(async()=>{if(!(!e||c.current))try{await e.getIdToken(),await mt("/users/me",{method:"POST"}),c.current=!0}catch(p){console.error("User sync failed:",p)}})()},[e]);const u=async()=>{c.current=!1,await l2(gn)};return g.jsx(zw.Provider,{value:{user:e,logout:u},children:!r&&t})}function Er(){return E.useContext(zw)}function CU(){const{user:t,logout:e}=Er(),i=Wn(),r=async()=>{await e(),i("/login")};return g.jsx(Zc,{bg:"dark",variant:"dark",expand:"lg",children:g.jsxs(jt,{children:[g.jsx(Zc.Brand,{as:zn,to:"/",children:"HireMe"}),g.jsx(Zc.Toggle,{}),g.jsxs(Zc.Collapse,{children:[g.jsxs(Es,{className:"me-auto",children:[g.jsx(Es.Link,{as:zn,to:"/",children:"Home"}),g.jsx(Es.Link,{as:zn,to:"/jobs",children:"Jobs"}),t&&g.jsxs(g.Fragment,{children:[g.jsx(Es.Link,{as:zn,to:"/messages",children:"Message"}),g.jsx(Es.Link,{as:zn,to:"/profile",children:"Profile"})]})]}),g.jsx(Es,{className:"align-items-center",children:t?g.jsx(xe,{variant:"outline-light",size:"sm",onClick:r,children:"Logout"}):g.jsxs(g.Fragment,{children:[g.jsx(Es.Link,{as:zn,to:"/login",children:"Login"}),g.jsx(Es.Link,{as:zn,to:"/register",children:"Register"})]})})]})]})})}function wU(){return g.jsx("footer",{className:"bg-dark text-light mt-auto",children:g.jsx(jt,{className:"py-4",children:g.jsxs(Ma,{className:"gy-3",children:[g.jsxs($n,{md:4,children:[g.jsx("h5",{className:"mb-2",children:"HireME!"}),g.jsx("p",{className:"text-secondary small mb-0",children:"Search . Connect . Hire ."})]}),g.jsxs($n,{md:4,children:[g.jsx("h6",{children:"Links"}),g.jsxs("ul",{className:"list-unstyled small",children:[g.jsx("li",{children:g.jsx("a",{href:"/",className:"text-secondary text-decoration-none",children:"Home"})}),g.jsx("li",{children:g.jsx("a",{href:"/profile",className:"text-secondary text-decoration-none",children:"Profile"})}),g.jsx("li",{children:g.jsx("a",{href:"/about",className:"text-secondary text-decoration-none",children:"About Us"})})]})]}),g.jsx($n,{md:4,className:"text-md-end",children:g.jsxs("p",{className:"small text-secondary mb-0",children:[" ",new Date().getFullYear()," HireME!. All rights reserved."]})})]})})})}function RU({freelancer:t}){return g.jsxs(De,{className:"freelancer-card text-center border-0",children:[g.jsx("div",{className:"freelancer-img-wrapper",children:g.jsx("img",{src:t.image_url||"https://via.placeholder.com/300",alt:t.name,className:"freelancer-img"})}),g.jsxs(De.Body,{className:"py-3 px-3",children:[g.jsx("h6",{className:"fw-bold mb-1",children:t.name}),g.jsx("p",{className:"text-muted small mb-2",children:t.bio||"Freelancer"}),t.skills&&g.jsx("div",{className:"mb-2",children:(Array.isArray(t.skills)?t.skills:t.skills.split(",")).slice(0,3).map((e,i)=>g.jsx(kn,{bg:"light",text:"dark",className:"me-1 mb-1 small",children:e.trim()},i))}),g.jsx(xe,{as:zn,to:`/freelancer/${t.uid}`,size:"sm",className:"px-3",children:"View Profile"})]})]})}function NU(){const{user:t}=Er(),[e,i]=E.useState(""),[r,o]=E.useState([]),[c,u]=E.useState(!0),h="https://41bbbbbf-93d5-4a52-aef1-e65635945258-00-3tcqp4xlzxntf.pike.replit.dev",p=["/landing-banner-1.webp","/landing-banner-2.jpg","/landing-banner-3.jpg"],m=b=>{const T=[...b];for(let N=T.length-1;N>0;N--){const O=Math.floor(Math.random()*(N+1));[T[N],T[O]]=[T[O],T[N]]}return T},_=async(b="")=>{u(!0);try{let T,N;if(t){T=`/api/users/freelancers${b?`?q=${encodeURIComponent(b)}`:""}`;const O=await mt(T);if(!O.ok)throw new Error("Auth fetch failed");N=await O.json()}else{T=`${h}/api/users/public/freelancers${b?`?q=${encodeURIComponent(b)}`:""}`;const O=await fetch(T);if(!O.ok)throw new Error("Public fetch failed");N=await O.json()}o(m(N))}catch(T){console.error("Failed to fetch freelancers:",T),o([])}finally{u(!1)}};E.useEffect(()=>{_()},[t]);const v=b=>{const T=b.target.value;i(T),_(T)};return g.jsxs(g.Fragment,{children:[g.jsx(qE,{interval:3e3,pause:!1,children:p.map((b,T)=>g.jsx(qE.Item,{children:g.jsx("img",{className:"d-block w-100",src:b,alt:`Banner ${T+1}`})},T))}),g.jsxs(jt,{className:"text-center text-black mt-4",children:[g.jsxs("h1",{className:"fw-bold display-5",children:["Hire ",g.jsx("span",{className:"text-primary",children:"top freelancers"})," in minutes"]}),g.jsx("p",{className:"fs-5 mb-4 opacity-75",children:"Search, hire, and work with skilled professionals."}),g.jsx(oe.Control,{placeholder:"Search freelancer by skill...",value:e,onChange:v}),g.jsx("p",{className:"small mt-3 opacity-50",children:"Example searches: Web Developer, Graphic Designer, Musician"})]}),g.jsxs(jt,{className:"mt-4",children:[g.jsx("h3",{className:"mb-4",children:"Available Freelancers"}),c?g.jsx("p",{children:"Loading freelancers..."}):r.length===0?g.jsx("p",{className:"text-muted",children:"No freelancers found matching your search."}):g.jsx(Ma,{children:r.map(b=>g.jsx($n,{md:4,className:"mb-4",children:g.jsx(RU,{freelancer:b})},b.uid))})]})]})}function xU({show:t,onHide:e,jobId:i,onHired:r}){const[o,c]=E.useState([]),[u,h]=E.useState(!1),[p,m]=E.useState(!1),[_,v]=E.useState(""),b=Wn(),T=E.useCallback(async()=>{if(i){m(!0),v("");try{const x=await mt(`/api/jobs/${i}/interests`);if(!x.ok){const U=await x.json().catch(()=>({}));throw new Error(U.message||"Failed to fetch interests")}const L=await x.json();c(Array.isArray(L)?L:[])}catch(x){console.error("Failed to fetch interests:",x),v(x.message),c([])}finally{m(!1)}}},[i]);E.useEffect(()=>{t?T():(c([]),v(""))},[t,T]);const N=async x=>{if(confirm("Are you sure you want to hire this freelancer?")){h(!0),v("");try{const L=await mt("/api/hires",{method:"POST",body:JSON.stringify({interest_id:x,amount:0})});if(!L.ok){const H=await L.json().catch(()=>({}));throw new Error(H.message||"Failed to hire freelancer")}const U=await L.json();alert("Freelancer hired successfully!"),await T(),r&&r(U)}catch(L){console.error("Hire error:",L),v(L.message)}finally{h(!1)}}},O=async x=>{if(confirm("Hire this freelancer and proceed to payment?")){h(!0),v("");try{const L=await mt("/api/hires",{method:"POST",body:JSON.stringify({interest_id:x,amount:1e3})});if(!L.ok){const q=await L.json().catch(()=>({}));throw new Error(q.message||"Failed to hire freelancer")}const U=await L.json(),H=U.hire?.id||U.hire?.hire_id;if(!H)throw new Error("Hire ID not returned from server");b(`/payment?hireId=${H}`),e()}catch(L){console.error("Hire & Pay error:",L),v(L.message)}finally{h(!1)}}};return g.jsxs(Tt,{show:t,onHide:e,centered:!0,size:"lg",children:[g.jsx(Tt.Header,{closeButton:!0,children:g.jsx(Tt.Title,{children:"Interested Freelancers"})}),g.jsxs(Tt.Body,{children:[_&&g.jsx(lr,{variant:"danger",dismissible:!0,onClose:()=>v(""),children:_}),p?g.jsxs("div",{className:"text-center py-4",children:[g.jsx(In,{animation:"border"}),g.jsx("p",{className:"mt-2",children:"Loading applicants..."})]}):o.length===0?g.jsx("div",{className:"text-center py-4",children:g.jsx("p",{className:"text-muted mb-0",children:"No freelancers have shown interest yet."})}):g.jsx(Jo,{children:o.map(x=>g.jsxs(Jo.Item,{className:"d-flex justify-content-between align-items-start",children:[g.jsxs("div",{className:"flex-grow-1",children:[g.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[x.image_url&&g.jsx("img",{src:x.image_url,alt:x.name,width:40,height:40,className:"rounded-circle",style:{objectFit:"cover"}}),g.jsxs("div",{children:[g.jsx("div",{className:"fw-bold",children:x.name||"Unknown Freelancer"}),x.email&&g.jsx("small",{className:"text-muted",children:x.email})]})]}),x.skills&&g.jsxs("div",{className:"mb-2",children:[g.jsx("small",{className:"text-muted",children:"Skills: "}),x.skills.split(",").slice(0,3).map((L,U)=>g.jsx(kn,{bg:"light",text:"dark",className:"me-1",children:L.trim()},U))]}),x.message&&g.jsx("div",{className:"mt-2 p-2 bg-light rounded",children:g.jsxs("small",{children:[g.jsx("strong",{children:"Message:"})," ",x.message]})}),x.status&&g.jsx("div",{className:"mt-2",children:g.jsx(kn,{bg:x.status==="hired"?"success":x.status==="rejected"?"danger":"warning",children:x.status.toUpperCase()})})]}),g.jsxs("div",{className:"d-flex flex-column gap-2 ms-3",children:[g.jsx(xe,{variant:"outline-primary",size:"sm",onClick:()=>{b(`/freelancer/${x.user_uid}`),e()},children:"View Profile"}),g.jsx(xe,{variant:"success",size:"sm",disabled:u||x.status!=="pending",onClick:()=>N(x.interest_id),children:x.status==="hired"?"Hired":"Hire"}),g.jsx(xe,{variant:"warning",size:"sm",disabled:u||x.status!=="pending",onClick:()=>O(x.interest_id),children:"Hire & Pay"})]})]},x.interest_id))})]}),g.jsx(Tt.Footer,{children:g.jsx(xe,{variant:"secondary",onClick:e,disabled:u,children:"Close"})})]})}function AU({job:t,onUpdated:e,onDeleted:i}){const o=cC().currentUser?.uid,[c,u]=E.useState(!1),[h,p]=E.useState(!1),[m,_]=E.useState(!1),[v,b]=E.useState(""),[T,N]=E.useState(t.title),[O,x]=E.useState(t.description),[L,U]=E.useState(t.is_remote),[H,q]=E.useState(t.location||""),[X,I]=E.useState(t.payment||""),V=o&&t.owner_uid===o,ie=t.status==="open",Ue=t.has_applied===!0,We=async()=>{if(confirm("Save changes to this job?")){_(!0),b("");try{const re=await mt(`/api/jobs/${t.id}`,{method:"PUT",body:JSON.stringify({title:T,description:O,is_remote:L,location:L?null:H||null,payment:X?Number(X):null})});if(!re.ok){const Se=await re.json().catch(()=>({}));throw new Error(Se.message||"Update failed")}const Ie=await re.json();e?.(Ie),p(!1),alert("Job updated successfully!")}catch(re){console.error("Edit job error:",re),b(re.message),alert("Failed to update job: "+re.message)}finally{_(!1)}}},rt=async()=>{if(confirm("Are you sure you want to delete this job? This cannot be undone.")){_(!0),b("");try{const re=await mt(`/api/jobs/${t.id}`,{method:"DELETE"});if(!re.ok){const Ie=await re.json().catch(()=>({}));throw new Error(Ie.message||"Delete failed")}i?.(t.id),alert("Job deleted successfully!")}catch(re){console.error("Delete job error:",re),b(re.message),alert("Failed to delete job: "+re.message)}finally{_(!1)}}},Be=async()=>{if(!o){alert("You must be logged in to apply");return}_(!0),b("");try{const re=await mt(`/api/jobs/${t.id}/interest`,{method:"POST",body:JSON.stringify({message:""})});if(!re.ok){const Se=await re.json().catch(()=>({}));throw new Error(Se.message||"Failed to apply")}(await re.json()).alreadyApplied?alert("You have already applied to this job"):alert("Application submitted successfully!"),window.location.reload()}catch(re){console.error("Apply to job error:",re),b(re.message),alert("Failed to apply: "+re.message)}finally{_(!1)}};return g.jsxs(g.Fragment,{children:[g.jsx(De,{className:"mb-3 shadow-sm",children:g.jsxs(De.Body,{children:[g.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[g.jsxs("div",{children:[g.jsx(De.Title,{className:"mb-1",children:t.title}),g.jsxs(De.Subtitle,{className:"mb-2 text-muted",children:[t.is_remote?g.jsx(kn,{bg:"info",className:"me-2",children:"Remote"}):g.jsxs(kn,{bg:"secondary",className:"me-2",children:["Onsite: ",t.location||"Not specified"]}),t.payment&&g.jsxs(kn,{bg:"success",children:["RM",t.payment]})]})]}),!ie&&g.jsx(kn,{bg:"secondary",children:t.status.toUpperCase()})]}),g.jsx(De.Text,{className:"mb-3",children:t.description}),t.owner_name&&g.jsxs(De.Text,{className:"text-muted small",children:["Posted by: ",t.owner_name]}),v&&g.jsx("div",{className:"alert alert-danger py-2 mb-2",children:v}),V&&g.jsxs("div",{className:"d-flex gap-2 flex-wrap",children:[ie&&g.jsxs(g.Fragment,{children:[g.jsx(xe,{size:"sm",variant:"warning",onClick:()=>p(!0),disabled:m,children:"Edit"}),g.jsx(xe,{size:"sm",variant:"danger",onClick:rt,disabled:m,children:m?g.jsxs(g.Fragment,{children:[g.jsx(In,{as:"span",animation:"border",size:"sm",className:"me-1"}),"Deleting..."]}):"Delete"})]}),g.jsx(xe,{size:"sm",variant:"info",onClick:()=>u(!0),children:"View Applicants"})]}),!V&&ie&&!Ue&&g.jsx(xe,{size:"sm",variant:"success",onClick:Be,disabled:m,children:m?g.jsxs(g.Fragment,{children:[g.jsx(In,{as:"span",animation:"border",size:"sm",className:"me-1"}),"Applying..."]}):"Apply Now"}),!V&&ie&&Ue&&g.jsx(xe,{size:"sm",variant:"secondary",disabled:!0,children:" Applied"}),!V&&!ie&&g.jsx(xe,{size:"sm",variant:"secondary",disabled:!0,children:"Job Closed"})]})}),g.jsxs(Tt,{show:h,onHide:()=>p(!1),centered:!0,children:[g.jsx(Tt.Header,{closeButton:!0,children:g.jsx(Tt.Title,{children:"Edit Job"})}),g.jsx(Tt.Body,{children:g.jsxs(oe,{children:[g.jsxs(oe.Group,{className:"mb-3",children:[g.jsx(oe.Label,{children:"Job Title"}),g.jsx(oe.Control,{value:T,onChange:re=>N(re.target.value),placeholder:"e.g., Web Developer Needed"})]}),g.jsxs(oe.Group,{className:"mb-3",children:[g.jsx(oe.Label,{children:"Description"}),g.jsx(oe.Control,{as:"textarea",rows:4,value:O,onChange:re=>x(re.target.value),placeholder:"Describe the job requirements..."})]}),g.jsx(oe.Check,{type:"checkbox",label:"Remote Work",checked:L,onChange:re=>U(re.target.checked),className:"mb-3"}),!L&&g.jsxs(oe.Group,{className:"mb-3",children:[g.jsx(oe.Label,{children:"Location"}),g.jsx(oe.Control,{value:H,onChange:re=>q(re.target.value),placeholder:"e.g., Kuala Lumpur"})]}),g.jsxs(oe.Group,{className:"mb-3",children:[g.jsx(oe.Label,{children:"Payment (RM)"}),g.jsx(oe.Control,{type:"number",value:X,onChange:re=>I(re.target.value),placeholder:"e.g., 1000"})]})]})}),g.jsxs(Tt.Footer,{children:[g.jsx(xe,{variant:"secondary",onClick:()=>p(!1),disabled:m,children:"Cancel"}),g.jsx(xe,{variant:"success",onClick:We,disabled:m,children:m?g.jsxs(g.Fragment,{children:[g.jsx(In,{as:"span",animation:"border",size:"sm",className:"me-1"}),"Saving..."]}):"Save Changes"})]})]}),V&&g.jsx(xU,{show:c,onHide:()=>u(!1),jobId:t.id,onHired:e})]})}function OU({show:t,onHide:e,onPosted:i}){const[r,o]=E.useState({title:"",description:"",is_remote:!1,location:"",payment:""}),[c,u]=E.useState(!1),h=async p=>{p.preventDefault(),u(!0);try{const m=await mt("/api/jobs",{method:"POST",body:JSON.stringify({title:r.title,description:r.description,is_remote:r.is_remote,location:r.is_remote?null:r.location||null,payment:r.payment?Number(r.payment):null})});if(!m.ok){const v=await m.json().catch(()=>({}));throw new Error(v.message||"Failed to post job")}const _=await m.json();i?.(_),o({title:"",description:"",is_remote:!1,location:"",payment:""}),e()}catch(m){alert(m.message)}finally{u(!1)}};return g.jsxs(Tt,{show:t,onHide:e,centered:!0,children:[g.jsx(Tt.Header,{closeButton:!0,children:g.jsx(Tt.Title,{children:"Post a New Job"})}),g.jsx(Tt.Body,{children:g.jsxs(oe,{onSubmit:h,children:[g.jsxs(oe.Group,{className:"mb-3",children:[g.jsx(oe.Label,{children:"Job Title"}),g.jsx(oe.Control,{type:"text",placeholder:"e.g. Web Developer Needed",value:r.title,onChange:p=>o({...r,title:p.target.value}),required:!0})]}),g.jsxs(oe.Group,{className:"mb-3",children:[g.jsx(oe.Label,{children:"Description"}),g.jsx(oe.Control,{as:"textarea",rows:4,placeholder:"Describe the job requirements...",value:r.description,onChange:p=>o({...r,description:p.target.value}),required:!0})]}),g.jsx(oe.Group,{className:"mb-3",children:g.jsx(oe.Check,{type:"checkbox",label:"Remote work",checked:r.is_remote,onChange:p=>o({...r,is_remote:p.target.checked})})}),!r.is_remote&&g.jsxs(oe.Group,{className:"mb-3",children:[g.jsx(oe.Label,{children:"Location"}),g.jsx(oe.Control,{type:"text",placeholder:"e.g. Kuala Lumpur",value:r.location,onChange:p=>o({...r,location:p.target.value})})]}),g.jsxs(oe.Group,{className:"mb-3",children:[g.jsx(oe.Label,{children:"Payment (RM)"}),g.jsx(oe.Control,{type:"number",placeholder:"e.g. 500",value:r.payment,onChange:p=>o({...r,payment:p.target.value})})]}),g.jsxs("div",{className:"d-flex gap-2",children:[g.jsx(xe,{variant:"secondary",onClick:e,children:"Cancel"}),g.jsx(xe,{type:"submit",variant:"primary",disabled:c,children:c?"Posting...":"Post Job"})]})]})})]})}function kU(){const[t,e]=E.useState([]),[i,r]=E.useState(!1),{user:o}=Er(),c=o?.firebaseUser?.uid;E.useEffect(()=>{(async()=>{try{const _=await mt("/api/jobs");if(!_.ok){const b=await _.text();throw new Error(`Failed to fetch jobs: ${b}`)}const v=await _.json();e(v)}catch(_){console.error("Failed to fetch jobs:",_)}})()},[]);const u=m=>e(_=>[m,..._]),h=m=>e(_=>_.map(v=>v.id===m.id?m:v)),p=m=>e(_=>_.filter(v=>v.id!==m));return g.jsxs(jt,{className:"py-4",children:[g.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[g.jsx("h2",{children:"Jobs"}),g.jsx(xe,{onClick:()=>r(!0),children:"Post a Job"})]}),t.length===0?g.jsx("p",{className:"text-muted",children:"No jobs available"}):t.map(m=>g.jsx(AU,{job:m,currentUserUid:c,onUpdated:h,onDeleted:p},m.id)),g.jsx(OU,{show:i,onHide:()=>r(!1),onPosted:u})]})}function DU(){const{uid:t}=HS(),e=Wn(),{user:i}=Er(),[r,o]=E.useState(null),[c,u]=E.useState(!0),[h,p]=E.useState(!1);E.useEffect(()=>{(async()=>{try{let b;if(i?.uid?b=await mt(`/api/users/${t}`):b=await fetch(`https://41bbbbbf-93d5-4a52-aef1-e65635945258-00-3tcqp4xlzxntf.pike.replit.dev/api/users/public/${t}`),!b.ok)throw new Error("Failed to fetch profile");const T=await b.json();o({...T,skills:typeof T.skills=="string"?T.skills:Array.isArray(T.skills)?T.skills.join(", "):""})}catch(b){console.error("Failed to fetch freelancer profile:",b),o(null)}finally{u(!1)}})()},[t,i]);const m=async()=>{if(!i?.uid){alert("You must be logged in to start a chat"),e("/login");return}if(!r?.uid){alert("Profile information not available");return}if(i.uid===r.uid){alert("You cannot chat with yourself");return}p(!0);try{const v=await mt("/api/conversations/start",{method:"POST",body:JSON.stringify({other_uid:r.uid})});if(!v.ok){const T=await v.json().catch(()=>({}));throw new Error(T.message||"Failed to start conversation")}const b=await v.json();if(!b?.conversation_id)throw new Error("Conversation ID not returned");e(`/messages/${b.conversation_id}`)}catch(v){console.error("Failed to start chat:",v),alert("Cannot start chat: "+v.message)}finally{p(!1)}};if(c)return g.jsx(jt,{className:"py-5",children:g.jsxs("div",{className:"text-center",children:[g.jsx(In,{animation:"border"}),g.jsx("p",{className:"mt-2",children:"Loading profile..."})]})});if(!r)return g.jsx(jt,{className:"py-5",children:g.jsxs(De,{className:"text-center p-5",children:[g.jsx("h4",{children:"Freelancer not found"}),g.jsx(xe,{variant:"primary",className:"mt-3",onClick:()=>e("/"),children:"Back to Home"})]})});const _=r.skills?r.skills.split(",").map(v=>v.trim()).filter(Boolean):[];return g.jsx(jt,{className:"pt-5 mt-4",children:g.jsx(Ma,{className:"justify-content-center",children:g.jsx($n,{md:8,lg:6,children:g.jsx(De,{className:"shadow-sm",children:g.jsxs(De.Body,{className:"p-4",children:[g.jsxs("div",{className:"text-center mb-4",children:[g.jsx("img",{src:r.image_url||"https://via.placeholder.com/150",alt:r.name,width:150,height:150,className:"rounded-circle mb-3",style:{objectFit:"cover"}}),g.jsx("h3",{className:"mb-1",children:r.name||"Unnamed Freelancer"}),r.email&&g.jsx("p",{className:"text-muted",children:r.email})]}),_.length>0&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h5",{className:"mb-2",children:"Skills"}),g.jsx("div",{className:"d-flex flex-wrap gap-2",children:_.map((v,b)=>g.jsx(kn,{bg:"primary",className:"px-3 py-2",children:v},b))})]}),r.bio&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h5",{className:"mb-2",children:"About"}),g.jsx("p",{className:"text-muted",children:r.bio})]}),g.jsxs("div",{className:"d-flex gap-2 justify-content-center mt-4",children:[g.jsx(xe,{variant:"primary",onClick:m,disabled:h||!i?.uid,title:i?.uid?"":"Login to start chat",children:h?g.jsxs(g.Fragment,{children:[g.jsx(In,{as:"span",animation:"border",size:"sm",className:"me-2"}),"Opening..."]}):"Start Chat"}),g.jsx(xe,{variant:"outline-secondary",onClick:()=>e(-1),children:"Back"})]})]})})})})})}const li=Object.create(null);li.open="0";li.close="1";li.ping="2";li.pong="3";li.message="4";li.upgrade="5";li.noop="6";const yu=Object.create(null);Object.keys(li).forEach(t=>{yu[li[t]]=t});const $p={type:"error",data:"parser error"},Pw=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Hw=typeof ArrayBuffer=="function",qw=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,pg=({type:t,data:e},i,r)=>Pw&&e instanceof Blob?i?r(e):_S(e,r):Hw&&(e instanceof ArrayBuffer||qw(e))?i?r(e):_S(new Blob([e]),r):r(li[t]+(e||"")),_S=(t,e)=>{const i=new FileReader;return i.onload=function(){const r=i.result.split(",")[1];e("b"+(r||""))},i.readAsDataURL(t)};function vS(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let cp;function IU(t,e){if(Pw&&t.data instanceof Blob)return t.data.arrayBuffer().then(vS).then(e);if(Hw&&(t.data instanceof ArrayBuffer||qw(t.data)))return e(vS(t.data));pg(t,!1,i=>{cp||(cp=new TextEncoder),e(cp.encode(i))})}const ES="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<ES.length;t++)Qo[ES.charCodeAt(t)]=t;const MU=t=>{let e=t.length*.75,i=t.length,r,o=0,c,u,h,p;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const m=new ArrayBuffer(e),_=new Uint8Array(m);for(r=0;r<i;r+=4)c=Qo[t.charCodeAt(r)],u=Qo[t.charCodeAt(r+1)],h=Qo[t.charCodeAt(r+2)],p=Qo[t.charCodeAt(r+3)],_[o++]=c<<2|u>>4,_[o++]=(u&15)<<4|h>>2,_[o++]=(h&3)<<6|p&63;return m},LU=typeof ArrayBuffer=="function",mg=(t,e)=>{if(typeof t!="string")return{type:"message",data:Fw(t,e)};const i=t.charAt(0);return i==="b"?{type:"message",data:jU(t.substring(1),e)}:yu[i]?t.length>1?{type:yu[i],data:t.substring(1)}:{type:yu[i]}:$p},jU=(t,e)=>{if(LU){const i=MU(t);return Fw(i,e)}else return{base64:!0,data:t}},Fw=(t,e)=>e==="blob"?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,Vw="",UU=(t,e)=>{const i=t.length,r=new Array(i);let o=0;t.forEach((c,u)=>{pg(c,!1,h=>{r[u]=h,++o===i&&e(r.join(Vw))})})},BU=(t,e)=>{const i=t.split(Vw),r=[];for(let o=0;o<i.length;o++){const c=mg(i[o],e);if(r.push(c),c.type==="error")break}return r};function zU(){return new TransformStream({transform(t,e){IU(t,i=>{const r=i.length;let o;if(r<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,r);else if(r<65536){o=new Uint8Array(3);const c=new DataView(o.buffer);c.setUint8(0,126),c.setUint16(1,r)}else{o=new Uint8Array(9);const c=new DataView(o.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(o[0]|=128),e.enqueue(o),e.enqueue(i)})}})}let up;function ru(t){return t.reduce((e,i)=>e+i.length,0)}function au(t,e){if(t[0].length===e)return t.shift();const i=new Uint8Array(e);let r=0;for(let o=0;o<e;o++)i[o]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),i}function PU(t,e){up||(up=new TextDecoder);const i=[];let r=0,o=-1,c=!1;return new TransformStream({transform(u,h){for(i.push(u);;){if(r===0){if(ru(i)<1)break;const p=au(i,1);c=(p[0]&128)===128,o=p[0]&127,o<126?r=3:o===126?r=1:r=2}else if(r===1){if(ru(i)<2)break;const p=au(i,2);o=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),r=3}else if(r===2){if(ru(i)<8)break;const p=au(i,8),m=new DataView(p.buffer,p.byteOffset,p.length),_=m.getUint32(0);if(_>Math.pow(2,21)-1){h.enqueue($p);break}o=_*Math.pow(2,32)+m.getUint32(4),r=3}else{if(ru(i)<o)break;const p=au(i,o);h.enqueue(mg(c?p:up.decode(p),e)),r=0}if(o===0||o>t){h.enqueue($p);break}}}})}const $w=4;function bt(t){if(t)return HU(t)}function HU(t){for(var e in bt.prototype)t[e]=bt.prototype[e];return t}bt.prototype.on=bt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};bt.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this};bt.prototype.off=bt.prototype.removeListener=bt.prototype.removeAllListeners=bt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,o=0;o<i.length;o++)if(r=i[o],r===e||r.fn===e){i.splice(o,1);break}return i.length===0&&delete this._callbacks["$"+t],this};bt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(i){i=i.slice(0);for(var r=0,o=i.length;r<o;++r)i[r].apply(this,e)}return this};bt.prototype.emitReserved=bt.prototype.emit;bt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};bt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const pf=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,i)=>i(e,0),On=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),qU="arraybuffer";function Gw(t,...e){return e.reduce((i,r)=>(t.hasOwnProperty(r)&&(i[r]=t[r]),i),{})}const FU=On.setTimeout,VU=On.clearTimeout;function mf(t,e){e.useNativeTimers?(t.setTimeoutFn=FU.bind(On),t.clearTimeoutFn=VU.bind(On)):(t.setTimeoutFn=On.setTimeout.bind(On),t.clearTimeoutFn=On.clearTimeout.bind(On))}const $U=1.33;function GU(t){return typeof t=="string"?YU(t):Math.ceil((t.byteLength||t.size)*$U)}function YU(t){let e=0,i=0;for(let r=0,o=t.length;r<o;r++)e=t.charCodeAt(r),e<128?i+=1:e<2048?i+=2:e<55296||e>=57344?i+=3:(r++,i+=4);return i}function Yw(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function KU(t){let e="";for(let i in t)t.hasOwnProperty(i)&&(e.length&&(e+="&"),e+=encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e}function WU(t){let e={},i=t.split("&");for(let r=0,o=i.length;r<o;r++){let c=i[r].split("=");e[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return e}class XU extends Error{constructor(e,i,r){super(e),this.description=i,this.context=r,this.type="TransportError"}}class gg extends bt{constructor(e){super(),this.writable=!1,mf(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,i,r){return super.emitReserved("error",new XU(e,i,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const i=mg(e,this.socket.binaryType);this.onPacket(i)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,i={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(i)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const i=KU(e);return i.length?"?"+i:""}}class QU extends gg{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const i=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||i()})),this.writable||(r++,this.once("drain",function(){--r||i()}))}else i()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const i=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};BU(e,this.socket.binaryType).forEach(i),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,UU(e,i=>{this.doWrite(i,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",i=this.query||{};return this.opts.timestampRequests!==!1&&(i[this.opts.timestampParam]=Yw()),!this.supportsBinary&&!i.sid&&(i.b64=1),this.createUri(e,i)}}let Kw=!1;try{Kw=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const JU=Kw;function ZU(){}class e4 extends QU{constructor(e){if(super(e),typeof location<"u"){const i=location.protocol==="https:";let r=location.port;r||(r=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,i){const r=this.request({method:"POST",data:e});r.on("success",i),r.on("error",(o,c)=>{this.onError("xhr post error",o,c)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(i,r)=>{this.onError("xhr poll error",i,r)}),this.pollXhr=e}}class ai extends bt{constructor(e,i,r){super(),this.createRequest=e,mf(this,r),this._opts=r,this._method=r.method||"GET",this._uri=i,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const i=Gw(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(i);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var o;r.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=ai.requestsCount++,ai.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ZU,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ai.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ai.requestsCount=0;ai.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",bS);else if(typeof addEventListener=="function"){const t="onpagehide"in On?"pagehide":"unload";addEventListener(t,bS,!1)}}function bS(){for(let t in ai.requests)ai.requests.hasOwnProperty(t)&&ai.requests[t].abort()}const t4=(function(){const t=Ww({xdomain:!1});return t&&t.responseType!==null})();class n4 extends e4{constructor(e){super(e);const i=e&&e.forceBase64;this.supportsBinary=t4&&!i}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ai(Ww,this.uri(),e)}}function Ww(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||JU))return new XMLHttpRequest}catch{}if(!e)try{return new On[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Xw=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class i4 extends gg{get name(){return"websocket"}doOpen(){const e=this.uri(),i=this.opts.protocols,r=Xw?{}:Gw(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,i,r)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let i=0;i<e.length;i++){const r=e[i],o=i===e.length-1;pg(r,this.supportsBinary,c=>{try{this.doWrite(r,c)}catch{}o&&pf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",i=this.query||{};return this.opts.timestampRequests&&(i[this.opts.timestampParam]=Yw()),this.supportsBinary||(i.b64=1),this.createUri(e,i)}}const fp=On.WebSocket||On.MozWebSocket;class s4 extends i4{createSocket(e,i,r){return Xw?new fp(e,i,r):i?new fp(e,i):new fp(e)}doWrite(e,i){this.ws.send(i)}}class r4 extends gg{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const i=PU(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(i).getReader(),o=zU();o.readable.pipeTo(e.writable),this._writer=o.writable.getWriter();const c=()=>{r.read().then(({done:h,value:p})=>{h||(this.onPacket(p),c())}).catch(h=>{})};c();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let i=0;i<e.length;i++){const r=e[i],o=i===e.length-1;this._writer.write(r).then(()=>{o&&pf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const a4={websocket:s4,webtransport:r4,polling:n4},o4=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,l4=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Gp(t){if(t.length>8e3)throw"URI too long";const e=t,i=t.indexOf("["),r=t.indexOf("]");i!=-1&&r!=-1&&(t=t.substring(0,i)+t.substring(i,r).replace(/:/g,";")+t.substring(r,t.length));let o=o4.exec(t||""),c={},u=14;for(;u--;)c[l4[u]]=o[u]||"";return i!=-1&&r!=-1&&(c.source=e,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=c4(c,c.path),c.queryKey=u4(c,c.query),c}function c4(t,e){const i=/\/{2,9}/g,r=e.replace(i,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function u4(t,e){const i={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,o,c){o&&(i[o]=c)}),i}const Yp=typeof addEventListener=="function"&&typeof removeEventListener=="function",_u=[];Yp&&addEventListener("offline",()=>{_u.forEach(t=>t())},!1);class ks extends bt{constructor(e,i){if(super(),this.binaryType=qU,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(i=e,e=null),e){const r=Gp(e);i.hostname=r.host,i.secure=r.protocol==="https"||r.protocol==="wss",i.port=r.port,r.query&&(i.query=r.query)}else i.host&&(i.hostname=Gp(i.host).host);mf(this,i),this.secure=i.secure!=null?i.secure:typeof location<"u"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(r=>{const o=r.prototype.name;this.transports.push(o),this._transportsByName[o]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=WU(this.opts.query)),Yp&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},_u.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const i=Object.assign({},this.opts.query);i.EIO=$w,i.transport=e,this.id&&(i.sid=this.id);const r=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&ks.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const i=this.createTransport(e);i.open(),this.setTransport(i)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",ks.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const i=new Error("server error");i.code=e.data,this._onError(i);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let r=0;r<this.writeBuffer.length;r++){const o=this.writeBuffer[r].data;if(o&&(i+=GU(o)),r>0&&i>this._maxPayload)return this.writeBuffer.slice(0,r);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,pf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,i,r){return this._sendPacket("message",e,i,r),this}send(e,i,r){return this._sendPacket("message",e,i,r),this}_sendPacket(e,i,r,o){if(typeof i=="function"&&(o=i,i=void 0),typeof r=="function"&&(o=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const c={type:e,data:i,options:r};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),o&&this.once("flush",o),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),e()},r=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(ks.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Yp&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=_u.indexOf(this._offlineEventListener);r!==-1&&_u.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,i),this.writeBuffer=[],this._prevBufferLen=0}}}ks.protocol=$w;class f4 extends ks{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let i=this.createTransport(e),r=!1;ks.priorWebsocketSuccess=!1;const o=()=>{r||(i.send([{type:"ping",data:"probe"}]),i.once("packet",v=>{if(!r)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;ks.priorWebsocketSuccess=i.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(_(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=i.name,this.emitReserved("upgradeError",b)}}))};function c(){r||(r=!0,_(),i.close(),i=null)}const u=v=>{const b=new Error("probe error: "+v);b.transport=i.name,c(),this.emitReserved("upgradeError",b)};function h(){u("transport closed")}function p(){u("socket closed")}function m(v){i&&v.name!==i.name&&c()}const _=()=>{i.removeListener("open",o),i.removeListener("error",u),i.removeListener("close",h),this.off("close",p),this.off("upgrading",m)};i.once("open",o),i.once("error",u),i.once("close",h),this.once("close",p),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||i.open()},200):i.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const i=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&i.push(e[r]);return i}}let d4=class extends f4{constructor(e,i={}){const r=typeof e=="object"?e:i;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(o=>a4[o]).filter(o=>!!o)),super(e,r)}};function h4(t,e="",i){let r=t;i=i||typeof location<"u"&&location,t==null&&(t=i.protocol+"//"+i.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=i.protocol+t:t=i.host+t),/^(https?|wss?):\/\//.test(t)||(typeof i<"u"?t=i.protocol+"//"+t:t="https://"+t),r=Gp(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const c=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+c+":"+r.port+e,r.href=r.protocol+"://"+c+(i&&i.port===r.port?"":":"+r.port),r}const p4=typeof ArrayBuffer=="function",m4=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Qw=Object.prototype.toString,g4=typeof Blob=="function"||typeof Blob<"u"&&Qw.call(Blob)==="[object BlobConstructor]",y4=typeof File=="function"||typeof File<"u"&&Qw.call(File)==="[object FileConstructor]";function yg(t){return p4&&(t instanceof ArrayBuffer||m4(t))||g4&&t instanceof Blob||y4&&t instanceof File}function vu(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let i=0,r=t.length;i<r;i++)if(vu(t[i]))return!0;return!1}if(yg(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return vu(t.toJSON(),!0);for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&vu(t[i]))return!0;return!1}function _4(t){const e=[],i=t.data,r=t;return r.data=Kp(i,e),r.attachments=e.length,{packet:r,buffers:e}}function Kp(t,e){if(!t)return t;if(yg(t)){const i={_placeholder:!0,num:e.length};return e.push(t),i}else if(Array.isArray(t)){const i=new Array(t.length);for(let r=0;r<t.length;r++)i[r]=Kp(t[r],e);return i}else if(typeof t=="object"&&!(t instanceof Date)){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=Kp(t[r],e));return i}return t}function v4(t,e){return t.data=Wp(t.data,e),delete t.attachments,t}function Wp(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let i=0;i<t.length;i++)t[i]=Wp(t[i],e);else if(typeof t=="object")for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(t[i]=Wp(t[i],e));return t}const Jw=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],E4=5;var _e;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(_e||(_e={}));class b4{constructor(e){this.replacer=e}encode(e){return(e.type===_e.EVENT||e.type===_e.ACK)&&vu(e)?this.encodeAsBinary({type:e.type===_e.EVENT?_e.BINARY_EVENT:_e.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let i=""+e.type;return(e.type===_e.BINARY_EVENT||e.type===_e.BINARY_ACK)&&(i+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(i+=e.nsp+","),e.id!=null&&(i+=e.id),e.data!=null&&(i+=JSON.stringify(e.data,this.replacer)),i}encodeAsBinary(e){const i=_4(e),r=this.encodeAsString(i.packet),o=i.buffers;return o.unshift(r),o}}class _g extends bt{constructor(e){super(),this.reviver=e}add(e){let i;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");i=this.decodeString(e);const r=i.type===_e.BINARY_EVENT;r||i.type===_e.BINARY_ACK?(i.type=r?_e.EVENT:_e.ACK,this.reconstructor=new S4(i),i.attachments===0&&super.emitReserved("decoded",i)):super.emitReserved("decoded",i)}else if(yg(e)||e.base64)if(this.reconstructor)i=this.reconstructor.takeBinaryData(e),i&&(this.reconstructor=null,super.emitReserved("decoded",i));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let i=0;const r={type:Number(e.charAt(0))};if(_e[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===_e.BINARY_EVENT||r.type===_e.BINARY_ACK){const c=i+1;for(;e.charAt(++i)!=="-"&&i!=e.length;);const u=e.substring(c,i);if(u!=Number(u)||e.charAt(i)!=="-")throw new Error("Illegal attachments");r.attachments=Number(u)}if(e.charAt(i+1)==="/"){const c=i+1;for(;++i&&!(e.charAt(i)===","||i===e.length););r.nsp=e.substring(c,i)}else r.nsp="/";const o=e.charAt(i+1);if(o!==""&&Number(o)==o){const c=i+1;for(;++i;){const u=e.charAt(i);if(u==null||Number(u)!=u){--i;break}if(i===e.length)break}r.id=Number(e.substring(c,i+1))}if(e.charAt(++i)){const c=this.tryParse(e.substr(i));if(_g.isPayloadValid(r.type,c))r.data=c;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,i){switch(e){case _e.CONNECT:return Gu(i);case _e.DISCONNECT:return i===void 0;case _e.CONNECT_ERROR:return typeof i=="string"||Gu(i);case _e.EVENT:case _e.BINARY_EVENT:return Array.isArray(i)&&(typeof i[0]=="number"||typeof i[0]=="string"&&Jw.indexOf(i[0])===-1);case _e.ACK:case _e.BINARY_ACK:return Array.isArray(i)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class S4{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const i=v4(this.reconPack,this.buffers);return this.finishedReconstruction(),i}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function T4(t){return typeof t=="string"}const C4=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};function w4(t){return t===void 0||C4(t)}function Gu(t){return Object.prototype.toString.call(t)==="[object Object]"}function R4(t,e){switch(t){case _e.CONNECT:return e===void 0||Gu(e);case _e.DISCONNECT:return e===void 0;case _e.EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&Jw.indexOf(e[0])===-1);case _e.ACK:return Array.isArray(e);case _e.CONNECT_ERROR:return typeof e=="string"||Gu(e);default:return!1}}function N4(t){return T4(t.nsp)&&w4(t.id)&&R4(t.type,t.data)}const x4=Object.freeze(Object.defineProperty({__proto__:null,Decoder:_g,Encoder:b4,get PacketType(){return _e},isPacketValid:N4,protocol:E4},Symbol.toStringTag,{value:"Module"}));function Pn(t,e,i){return t.on(e,i),function(){t.off(e,i)}}const A4=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Zw extends bt{constructor(e,i,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=i,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Pn(e,"open",this.onopen.bind(this)),Pn(e,"packet",this.onpacket.bind(this)),Pn(e,"error",this.onerror.bind(this)),Pn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...i){var r,o,c;if(A4.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(i.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const u={type:_e.EVENT,data:i};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof i[i.length-1]=="function"){const _=this.ids++,v=i.pop();this._registerAckCallback(_,v),u.id=_}const h=(o=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||o===void 0?void 0:o.writable,p=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!h||(p?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(e,i){var r;const o=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(o===void 0){this.acks[e]=i;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let h=0;h<this.sendBuffer.length;h++)this.sendBuffer[h].id===e&&this.sendBuffer.splice(h,1);i.call(this,new Error("operation has timed out"))},o),u=(...h)=>{this.io.clearTimeoutFn(c),i.apply(this,h)};u.withError=!0,this.acks[e]=u}emitWithAck(e,...i){return new Promise((r,o)=>{const c=(u,h)=>u?o(u):r(h);c.withError=!0,i.push(c),this.emit(e,...i)})}_addToQueue(e){let i;typeof e[e.length-1]=="function"&&(i=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((o,...c)=>(this._queue[0],o!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),i&&i(o)):(this._queue.shift(),i&&i(null,...c)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const i=this._queue[0];i.pending&&!e||(i.pending=!0,i.tryCount++,this.flags=i.flags,this.emit.apply(this,i.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:_e.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,i){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,i),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case _e.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case _e.EVENT:case _e.BINARY_EVENT:this.onevent(e);break;case _e.ACK:case _e.BINARY_ACK:this.onack(e);break;case _e.DISCONNECT:this.ondisconnect();break;case _e.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const i=e.data||[];e.id!=null&&i.push(this.ack(e.id)),this.connected?this.emitEvent(i):this.receiveBuffer.push(Object.freeze(i))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const i=this._anyListeners.slice();for(const r of i)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const i=this;let r=!1;return function(...o){r||(r=!0,i.packet({type:_e.ACK,id:e,data:o}))}}onack(e){const i=this.acks[e.id];typeof i=="function"&&(delete this.acks[e.id],i.withError&&e.data.unshift(null),i.apply(this,e.data))}onconnect(e,i){this.id=e,this.recovered=i&&this._pid===i,this._pid=i,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:_e.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const i=this._anyListeners;for(let r=0;r<i.length;r++)if(e===i[r])return i.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const i=this._anyOutgoingListeners;for(let r=0;r<i.length;r++)if(e===i[r])return i.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const i=this._anyOutgoingListeners.slice();for(const r of i)r.apply(this,e.data)}}}function Ha(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ha.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),i=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-i:t+i}return Math.min(t,this.max)|0};Ha.prototype.reset=function(){this.attempts=0};Ha.prototype.setMin=function(t){this.ms=t};Ha.prototype.setMax=function(t){this.max=t};Ha.prototype.setJitter=function(t){this.jitter=t};class Xp extends bt{constructor(e,i){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(i=e,e=void 0),i=i||{},i.path=i.path||"/socket.io",this.opts=i,mf(this,i),this.reconnection(i.reconnection!==!1),this.reconnectionAttempts(i.reconnectionAttempts||1/0),this.reconnectionDelay(i.reconnectionDelay||1e3),this.reconnectionDelayMax(i.reconnectionDelayMax||5e3),this.randomizationFactor((r=i.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ha({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(i.timeout==null?2e4:i.timeout),this._readyState="closed",this.uri=e;const o=i.parser||x4;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=i.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var i;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(i=this.backoff)===null||i===void 0||i.setMin(e),this)}randomizationFactor(e){var i;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(i=this.backoff)===null||i===void 0||i.setJitter(e),this)}reconnectionDelayMax(e){var i;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(i=this.backoff)===null||i===void 0||i.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new d4(this.uri,this.opts);const i=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const o=Pn(i,"open",function(){r.onopen(),e&&e()}),c=h=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",h),e?e(h):this.maybeReconnectOnOpen()},u=Pn(i,"error",c);if(this._timeout!==!1){const h=this._timeout,p=this.setTimeoutFn(()=>{o(),c(new Error("timeout")),i.close()},h);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(o),this.subs.push(u),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Pn(e,"ping",this.onping.bind(this)),Pn(e,"data",this.ondata.bind(this)),Pn(e,"error",this.onerror.bind(this)),Pn(e,"close",this.onclose.bind(this)),Pn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(i){this.onclose("parse error",i)}}ondecoded(e){pf(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,i){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Zw(this,e,i),this.nsps[e]=r),r}_destroy(e){const i=Object.keys(this.nsps);for(const r of i)if(this.nsps[r].active)return;this._close()}_packet(e){const i=this.encoder.encode(e);for(let r=0;r<i.length;r++)this.engine.write(i[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,i){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,i),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const i=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(o=>{o?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",o)):e.onreconnect()}))},i);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Vo={};function Eu(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const i=h4(t,e.path||"/socket.io"),r=i.source,o=i.id,c=i.path,u=Vo[o]&&c in Vo[o].nsps,h=e.forceNew||e["force new connection"]||e.multiplex===!1||u;let p;return h?p=new Xp(r,e):(Vo[o]||(Vo[o]=new Xp(r,e)),p=Vo[o]),i.query&&!e.query&&(e.query=i.queryKey),p.socket(i.path,e)}Object.assign(Eu,{Manager:Xp,Socket:Zw,io:Eu,connect:Eu});const O4="https://41bbbbbf-93d5-4a52-aef1-e65635945258-00-3tcqp4xlzxntf.pike.replit.dev";let $o;async function k4(){if(!gn.currentUser)throw new Error("User not logged in");const t=await gn.currentUser.getIdToken(!0);return $o=Eu(O4,{auth:{token:t},autoConnect:!0}),$o.on("connect",()=>console.log("Socket connected:",$o.id)),$o.on("disconnect",e=>console.log("Socket disconnected:",e)),$o}function D4(){const{user:t}=Er(),{conversationId:e}=HS();Wn();const[i,r]=E.useState([]),[o,c]=E.useState(null),[u,h]=E.useState([]),[p,m]=E.useState(""),[_,v]=E.useState(!1),[b,T]=E.useState(!1),N=E.useRef(null),O=E.useRef(null),x=()=>N.current?.scrollIntoView({behavior:"smooth"});E.useEffect(()=>(t&&(async()=>{try{const X=await k4();return O.current=X,X.on("receive_message",I=>{console.log("Received message:",I),I.message?.conversation_id===o?.conversation_id&&h(V=>[...V,I.message]),L()}),()=>{X.off("receive_message")}}catch(X){console.error("Socket setup error:",X)}})(),()=>{O.current&&O.current.off("receive_message")}),[t,o?.conversation_id]);const L=async()=>{try{const q=await mt("/api/conversations");if(!q.ok)throw new Error("Failed to fetch conversations");const X=await q.json();r(Array.isArray(X)?X:[])}catch(q){console.error("Failed to fetch conversations:",q),r([])}};E.useEffect(()=>{L()},[]),E.useEffect(()=>{if(e&&i.length>0){const q=i.find(X=>X.conversation_id==e);q&&U(q)}},[e,i]);const U=async q=>{c(q),v(!0);try{const X=await mt(`/api/conversations/${q.conversation_id}/messages`);if(!X.ok)throw new Error("Failed to fetch messages");const I=await X.json();h(Array.isArray(I)?I:[])}catch(X){console.error("Failed to fetch messages:",X),h([])}finally{v(!1)}},H=async q=>{if(q?.preventDefault(),!p.trim()||!o||b)return;T(!0);const X=p.trim();m("");try{const I=await mt(`/api/conversations/${o.conversation_id}/messages`,{method:"POST",body:JSON.stringify({content:X})});if(!I.ok)throw new Error("Failed to send message");const V=await I.json();h(ie=>[...ie,V])}catch(I){console.error("Failed to send message:",I),alert("Failed to send message: "+I.message),m(X)}finally{T(!1)}};return E.useEffect(()=>{x()},[u]),g.jsx(jt,{fluid:!0,className:"mt-4",style:{height:"85vh"},children:g.jsxs(Ma,{className:"g-3 h-100",children:[g.jsx($n,{md:4,className:"h-100",children:g.jsxs(De,{className:"h-100 d-flex flex-column",children:[g.jsxs(De.Header,{className:"d-flex justify-content-between align-items-center",children:[g.jsx("span",{children:"Conversations"}),g.jsx(xe,{size:"sm",variant:"outline-primary",onClick:L,children:"Refresh"})]}),g.jsx("div",{className:"flex-grow-1 overflow-auto",children:g.jsxs(Jo,{variant:"flush",children:[i.length===0&&g.jsx(Jo.Item,{className:"text-muted text-center py-4",children:"No conversations yet"}),i.map(q=>g.jsxs(Jo.Item,{action:!0,active:o?.conversation_id===q.conversation_id,onClick:()=>U(q),className:"d-flex align-items-center gap-2",children:[g.jsx("img",{src:q.other_user_image||"https://via.placeholder.com/40",width:40,height:40,className:"rounded-circle",alt:q.other_user_name}),g.jsxs("div",{className:"flex-grow-1",children:[g.jsx("div",{className:"fw-bold",children:q.other_user_name||"Unknown User"}),q.last_message&&g.jsx("div",{className:"small text-muted text-truncate",children:q.last_message})]})]},q.conversation_id))]})})]})}),g.jsx($n,{md:8,className:"h-100",children:o?g.jsxs(De,{className:"h-100 d-flex flex-column",children:[g.jsxs(De.Header,{className:"d-flex align-items-center gap-2",children:[g.jsx("img",{src:o.other_user_image||"https://via.placeholder.com/40",width:40,height:40,className:"rounded-circle",alt:o.other_user_name}),g.jsx("div",{children:g.jsx("div",{className:"fw-bold",children:o.other_user_name||"Unknown User"})})]}),g.jsxs(De.Body,{className:"flex-grow-1 overflow-auto",children:[_?g.jsxs("div",{className:"text-center py-4",children:[g.jsx(In,{animation:"border"}),g.jsx("p",{className:"mt-2",children:"Loading messages..."})]}):u.length===0?g.jsx("p",{className:"text-muted text-center py-4",children:"No messages yet. Start the conversation!"}):u.map(q=>{const X=q.sender_uid===t?.uid;return g.jsx("div",{className:`mb-3 d-flex ${X?"justify-content-end":"justify-content-start"}`,children:g.jsxs("div",{className:`px-3 py-2 rounded ${X?"bg-primary text-white":"bg-light text-dark"}`,style:{maxWidth:"70%"},children:[g.jsx("div",{children:q.content}),g.jsx("small",{className:`d-block mt-1 ${X?"text-white-50":"text-muted"}`,children:new Date(q.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},q.id)}),g.jsx("div",{ref:N})]}),g.jsx(De.Footer,{children:g.jsxs(oe,{onSubmit:H,className:"d-flex gap-2",children:[g.jsx(oe.Control,{value:p,onChange:q=>m(q.target.value),placeholder:"Type a message...",disabled:b}),g.jsx(xe,{type:"submit",disabled:!p.trim()||b,children:b?"...":"Send"})]})})]}):g.jsx(De,{className:"h-100 d-flex align-items-center justify-content-center",children:g.jsx("p",{className:"text-muted",children:"Select a conversation to start chatting"})})})]})})}function SS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),i.push.apply(i,r)}return i}function TS(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?SS(Object(i),!0).forEach(function(r){e1(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):SS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function bu(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bu=function(e){return typeof e}:bu=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function e1(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function I4(t,e){if(t==null)return{};var i={},r=Object.keys(t),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(i[o]=t[o]);return i}function M4(t,e){if(t==null)return{};var i=I4(t,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function t1(t,e){return L4(t)||j4(t,e)||U4(t,e)||B4()}function L4(t){if(Array.isArray(t))return t}function j4(t,e){var i=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(i!=null){var r=[],o=!0,c=!1,u,h;try{for(i=i.call(t);!(o=(u=i.next()).done)&&(r.push(u.value),!(e&&r.length===e));o=!0);}catch(p){c=!0,h=p}finally{try{!o&&i.return!=null&&i.return()}finally{if(c)throw h}}return r}}function U4(t,e){if(t){if(typeof t=="string")return CS(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return CS(t,e)}}function CS(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function B4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Gt=function(e,i,r){var o=!!r,c=ue.useRef(r);ue.useEffect(function(){c.current=r},[r]),ue.useEffect(function(){if(!o||!e)return function(){};var u=function(){c.current&&c.current.apply(c,arguments)};return e.on(i,u),function(){e.off(i,u)}},[o,i,e,c])},Qp=function(e){var i=ue.useRef(e);return ue.useEffect(function(){i.current=e},[e]),i.current},Na=function(e){return e!==null&&bu(e)==="object"},z4=function(e){return Na(e)&&typeof e.then=="function"},P4=function(e){return Na(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},wS="[object Object]",H4=function t(e,i){if(!Na(e)||!Na(i))return e===i;var r=Array.isArray(e),o=Array.isArray(i);if(r!==o)return!1;var c=Object.prototype.toString.call(e)===wS,u=Object.prototype.toString.call(i)===wS;if(c!==u)return!1;if(!c&&!r)return e===i;var h=Object.keys(e),p=Object.keys(i);if(h.length!==p.length)return!1;for(var m={},_=0;_<h.length;_+=1)m[h[_]]=!0;for(var v=0;v<p.length;v+=1)m[p[v]]=!0;var b=Object.keys(m);if(b.length!==h.length)return!1;var T=e,N=i,O=function(L){return t(T[L],N[L])};return b.every(O)},n1=function(e,i,r){return Na(e)?Object.keys(e).reduce(function(o,c){var u=!Na(i)||!H4(e[c],i[c]);return r.includes(c)?(u&&console.warn("Unsupported prop change: options.".concat(c," is not a mutable property.")),o):u?TS(TS({},o||{}),{},e1({},c,e[c])):o},null):null},i1="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",RS=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i1;if(e===null||P4(e))return e;throw new Error(i)},q4=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i1;if(z4(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(o){return RS(o,i)})};var r=RS(e,i);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},F4=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),e.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},gf=ue.createContext(null);gf.displayName="ElementsContext";var s1=function(e,i){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(i," in an <Elements> provider."));return e},r1=function(e){var i=e.stripe,r=e.options,o=e.children,c=ue.useMemo(function(){return q4(i)},[i]),u=ue.useState(function(){return{stripe:c.tag==="sync"?c.stripe:null,elements:c.tag==="sync"?c.stripe.elements(r):null}}),h=t1(u,2),p=h[0],m=h[1];ue.useEffect(function(){var b=!0,T=function(O){m(function(x){return x.stripe?x:{stripe:O,elements:O.elements(r)}})};return c.tag==="async"&&!p.stripe?c.stripePromise.then(function(N){N&&b&&T(N)}):c.tag==="sync"&&!p.stripe&&T(c.stripe),function(){b=!1}},[c,p,r]);var _=Qp(i);ue.useEffect(function(){_!==null&&_!==i&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[_,i]);var v=Qp(r);return ue.useEffect(function(){if(p.elements){var b=n1(r,v,["clientSecret","fonts"]);b&&p.elements.update(b)}},[r,v,p.elements]),ue.useEffect(function(){F4(p.stripe)},[p.stripe]),ue.createElement(gf.Provider,{value:p},o)};r1.propTypes={stripe:ne.any,options:ne.object};var V4=function(e){var i=ue.useContext(gf);return s1(i,e)},$4=function(){var e=V4("calls useElements()"),i=e.elements;return i};ne.func.isRequired;var a1=ue.createContext(null);a1.displayName="CheckoutContext";ne.any,ne.shape({clientSecret:ne.oneOfType([ne.string,ne.instanceOf(Promise)]).isRequired,elementsOptions:ne.object}).isRequired;var Jp=function(e){var i=ue.useContext(a1),r=ue.useContext(gf);if(i){if(r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return i}else return s1(r,e)},G4=["mode"],Y4=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},sn=function(e,i){var r="".concat(Y4(e),"Element"),o=function(p){var m=p.id,_=p.className,v=p.options,b=v===void 0?{}:v,T=p.onBlur,N=p.onFocus,O=p.onReady,x=p.onChange,L=p.onEscape,U=p.onClick,H=p.onLoadError,q=p.onLoaderStart,X=p.onNetworksChange,I=p.onConfirm,V=p.onCancel,ie=p.onShippingAddressChange,Ue=p.onShippingRateChange,We=p.onSavedPaymentMethodRemove,rt=p.onSavedPaymentMethodUpdate,Be=Jp("mounts <".concat(r,">")),re="elements"in Be?Be.elements:null,Ie="checkoutState"in Be?Be.checkoutState:null,Se=Ie?.type==="success"||Ie?.type==="loading"?Ie.sdk:null,B=ue.useState(null),Y=t1(B,2),W=Y[0],me=Y[1],de=ue.useRef(null),w=ue.useRef(null);Gt(W,"blur",T),Gt(W,"focus",N),Gt(W,"escape",L),Gt(W,"click",U),Gt(W,"loaderror",H),Gt(W,"loaderstart",q),Gt(W,"networkschange",X),Gt(W,"confirm",I),Gt(W,"cancel",V),Gt(W,"shippingaddresschange",ie),Gt(W,"shippingratechange",Ue),Gt(W,"savedpaymentmethodremove",We),Gt(W,"savedpaymentmethodupdate",rt),Gt(W,"change",x);var z;O&&(e==="expressCheckout"?z=O:z=function(){O(W)}),Gt(W,"ready",z),ue.useLayoutEffect(function(){if(de.current===null&&w.current!==null&&(re||Se)){var G=null;if(Se)switch(e){case"paymentForm":G=Se.createPaymentFormElement();break;case"payment":G=Se.createPaymentElement(b);break;case"address":if("mode"in b){var se=b.mode,ee=M4(b,G4);if(se==="shipping")G=Se.createShippingAddressElement(ee);else if(se==="billing")G=Se.createBillingAddressElement(ee);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":G=Se.createExpressCheckoutElement(b);break;case"currencySelector":G=Se.createCurrencySelectorElement();break;case"taxId":G=Se.createTaxIdElement(b);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else re&&(G=re.create(e,b));de.current=G,me(G),G&&G.mount(w.current)}},[re,Se,b]);var K=Qp(b);return ue.useEffect(function(){if(de.current){var G=n1(b,K,["paymentRequest"]);G&&"update"in de.current&&de.current.update(G)}},[b,K]),ue.useLayoutEffect(function(){return function(){if(de.current&&typeof de.current.destroy=="function")try{de.current.destroy(),de.current=null}catch{}}},[]),ue.createElement("div",{id:m,className:_,ref:w})},c=function(p){Jp("mounts <".concat(r,">"));var m=p.id,_=p.className;return ue.createElement("div",{id:m,className:_})},u=i?c:o;return u.propTypes={id:ne.string,className:ne.string,onChange:ne.func,onBlur:ne.func,onFocus:ne.func,onReady:ne.func,onEscape:ne.func,onClick:ne.func,onLoadError:ne.func,onLoaderStart:ne.func,onNetworksChange:ne.func,onConfirm:ne.func,onCancel:ne.func,onShippingAddressChange:ne.func,onShippingRateChange:ne.func,onSavedPaymentMethodRemove:ne.func,onSavedPaymentMethodUpdate:ne.func,options:ne.object},u.displayName=r,u.__elementType=e,u},rn=typeof window>"u",K4=ue.createContext(null);K4.displayName="EmbeddedCheckoutProviderContext";var W4=function(){var e=Jp("calls useStripe()"),i=e.stripe;return i};sn("auBankAccount",rn);var NS=sn("card",rn);sn("cardNumber",rn);sn("cardExpiry",rn);sn("cardCvc",rn);sn("iban",rn);sn("payment",rn);sn("expressCheckout",rn);sn("paymentRequestButton",rn);sn("linkAuthentication",rn);sn("address",rn);sn("shippingAddress",rn);sn("paymentMethodMessaging",rn);sn("taxId",rn);var o1="clover",X4=function(e){return e===3?"v3":e},l1="https://js.stripe.com",Q4="".concat(l1,"/").concat(o1,"/stripe.js"),J4=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Z4=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var e6=function(e){return J4.test(e)||Z4.test(e)},t6=function(){for(var e=document.querySelectorAll('script[src^="'.concat(l1,'"]')),i=0;i<e.length;i++){var r=e[i];if(e6(r.src))return r}return null},xS=function(e){var i="",r=document.createElement("script");r.src="".concat(Q4).concat(i);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(r),r},n6=function(e,i){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"8.6.1",startTime:i})},Go=null,ou=null,lu=null,i6=function(e){return function(i){e(new Error("Failed to load Stripe.js",{cause:i}))}},s6=function(e,i){return function(){window.Stripe?e(window.Stripe):i(new Error("Stripe.js not available"))}},r6=function(e){return Go!==null?Go:(Go=new Promise(function(i,r){if(typeof window>"u"||typeof document>"u"){i(null);return}if(window.Stripe){i(window.Stripe);return}try{var o=t6();if(!(o&&e)){if(!o)o=xS(e);else if(o&&lu!==null&&ou!==null){var c;o.removeEventListener("load",lu),o.removeEventListener("error",ou),(c=o.parentNode)===null||c===void 0||c.removeChild(o),o=xS(e)}}lu=s6(i,r),ou=i6(r),o.addEventListener("load",lu),o.addEventListener("error",ou)}catch(u){r(u);return}}),Go.catch(function(i){return Go=null,Promise.reject(i)}))},a6=function(e,i,r){if(e===null)return null;var o=i[0],c=o.match(/^pk_test/),u=X4(e.version),h=o1;c&&u!==h&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("8.6.1"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var p=e.apply(void 0,i);return n6(p,r),p},Yo,c1=!1,u1=function(){return Yo||(Yo=r6(null).catch(function(e){return Yo=null,Promise.reject(e)}),Yo)};Promise.resolve().then(function(){return u1()}).catch(function(t){c1||console.warn(t)});var o6=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];c1=!0;var o=Date.now();return u1().then(function(c){return a6(c,i,o)})};const l6=o6("pk_live_51SpklAJAcZkcm4tF44x69DYn3Thn0KYt1PkuI500eDmox7soWpZJQcT3hlqGd46lO6BefRQPZzlrroilgQyDQZtG004XzIBdjc"),c6=({hire:t,onSuccess:e})=>{const i=W4(),r=$4(),[o,c]=E.useState(!1),[u,h]=E.useState(""),p=async m=>{if(m.preventDefault(),!(!i||!r)){c(!0),h("");try{const _=await mt(`/api/stripe/create-intent/${t.hire_id}`,{method:"POST"});if(!_.ok)throw new Error("Failed to create payment intent");const{clientSecret:v}=await _.json(),b=await i.confirmCardPayment(v,{payment_method:{card:r.getElement(NS)}});b.error?h(b.error.message):b.paymentIntent.status==="requires_capture"?(alert("Payment authorized! Amount held in escrow."),e()):b.paymentIntent.status==="succeeded"&&(alert("Payment succeeded!"),e())}catch(_){console.error(_),h(_.message)}finally{c(!1)}}};return g.jsxs(oe,{onSubmit:p,children:[g.jsxs(oe.Group,{className:"mb-3",children:[g.jsx(oe.Label,{children:"Card Details"}),g.jsx("div",{className:"border p-3 rounded",children:g.jsx(NS,{})})]}),u&&g.jsx(lr,{variant:"danger",children:u}),g.jsx(xe,{type:"submit",variant:"primary",className:"w-100",disabled:!i||o,children:o?g.jsx(In,{animation:"border",size:"sm"}):`Pay RM${t.amount}`})]})};function u6(){const[t]=dA(),e=t.get("hireId"),i=Wn(),[r,o]=E.useState(null),[c,u]=E.useState(!0),h=E.useCallback(async()=>{try{const m=await mt(`/api/hires/${e}`);if(!m.ok)throw new Error("Failed to load hire details");const _=await m.json();o(_)}catch(m){console.error(m),alert("Failed to load hire details"),i("/profile")}finally{u(!1)}},[e,i]);E.useEffect(()=>{e&&h()},[e,h]);const p=()=>i("/profile");return c?g.jsxs(jt,{className:"py-5 text-center",children:[g.jsx(In,{animation:"border"}),g.jsx("p",{className:"mt-2",children:"Loading hire details..."})]}):r?g.jsx(jt,{className:"py-5",style:{maxWidth:600},children:g.jsxs(De,{children:[g.jsx(De.Header,{children:g.jsx("h4",{children:"Complete Payment"})}),g.jsxs(De.Body,{children:[g.jsxs("h5",{children:["Job: ",r.job_title]}),g.jsxs("p",{children:["Freelancer: ",r.freelancer_name," (",r.freelancer_email,")"]}),g.jsxs("p",{children:["Amount: RM",r.amount]}),g.jsx(r1,{stripe:l6,children:g.jsx(c6,{hire:r,onSuccess:p})})]})]})}):g.jsxs(jt,{className:"py-5 text-center",children:[g.jsx(lr,{variant:"danger",children:"Hire not found"}),g.jsx(xe,{onClick:()=>i("/profile"),children:"Back to Profile"})]})}async function f6(t,e){if(!t)throw new Error("No file provided");const i=AL(SU,e);return await NL(i,t),await xL(i)}function d6(){const{user:t}=Er(),e=Wn(),[i,r]=E.useState(!1),[o,c]=E.useState({}),[u,h]=E.useState([]),[p,m]=E.useState([]),[_,v]=E.useState(""),[b,T]=E.useState(!1),[N,O]=E.useState(!0),x=E.useCallback(async()=>{if(t?.uid)try{const I=await mt("/api/users/me");if(!I.ok)throw new Error("Failed to fetch profile");const V=await I.json();c({...V,skills:typeof V.skills=="string"?V.skills:Array.isArray(V.skills)?V.skills.join(", "):""}),v(V.image_url||"")}catch(I){console.error("Failed to fetch profile:",I)}finally{O(!1)}},[t]),L=E.useCallback(async()=>{try{const I=await mt("/api/hires/my/jobs");if(!I.ok)throw new Error("Failed to fetch hires");const V=await I.json();h(Array.isArray(V)?V:[])}catch(I){console.error("Failed to fetch my hires:",I),h([])}},[]),U=E.useCallback(async()=>{try{const I=await mt("/api/hires/my/work");if(!I.ok)throw new Error("Failed to fetch work");const V=await I.json();m(Array.isArray(V)?V:[])}catch(I){console.error("Failed to fetch my work:",I),m([])}},[]);E.useEffect(()=>{t?.uid&&(x(),L(),U())},[t,x,L,U]);const H=async I=>{if(!I||!t?.uid){alert("No file selected or user not logged in");return}T(!0);try{const V=await f6(I,`profilePhotos/${t.uid}`);c(ie=>({...ie,image_url:V})),v(V)}catch(V){console.error("Upload failed",V),alert("Image upload failed: "+V.message)}finally{T(!1)}},q=async()=>{if(t?.uid){T(!0);try{const I=await mt("/api/users/me",{method:"PUT",body:JSON.stringify({name:o.name||"Unnamed User",skills:o.skills||"",bio:o.bio||"",image_url:o.image_url||null})});if(!I.ok)throw new Error("Failed to save profile");const V=await I.json();c({...V,skills:typeof V.skills=="string"?V.skills:Array.isArray(V.skills)?V.skills.join(", "):""}),r(!1),alert("Profile updated successfully!")}catch(I){console.error("Failed to save profile:",I),alert("Failed to save profile: "+I.message)}finally{T(!1)}}},X=I=>{e(`/payment?hireId=${I}`)};return N?g.jsx(jt,{className:"py-5",children:g.jsxs("div",{className:"text-center",children:[g.jsx(In,{animation:"border"}),g.jsx("p",{className:"mt-2",children:"Loading profile..."})]})}):g.jsxs(jt,{className:"pt-5 mt-4",children:[g.jsxs(Ma,{className:"g-4",children:[g.jsx($n,{md:5,children:g.jsx(De,{className:"shadow-sm",children:g.jsxs(De.Body,{className:"text-center p-4",children:[g.jsx("img",{src:_||"https://via.placeholder.com/150",alt:"Profile",width:150,height:150,className:"rounded-circle mb-3",style:{objectFit:"cover"}}),g.jsx("h4",{className:"mb-1",children:o.name||t?.displayName||"User"}),o.email&&g.jsx("p",{className:"text-muted small mb-2",children:o.email}),o.skills&&g.jsx("div",{className:"mb-3",children:o.skills.split(",").slice(0,3).map((I,V)=>g.jsx(kn,{bg:"primary",className:"me-1 mb-1",children:I.trim()},V))}),o.bio&&g.jsx("p",{className:"text-muted small mb-3",children:o.bio}),g.jsx(xe,{variant:"primary",onClick:()=>r(!0),className:"w-100",children:"Edit Profile"})]})})}),g.jsxs($n,{md:7,children:[g.jsxs(De,{className:"shadow-sm mb-4",children:[g.jsx(De.Header,{className:"bg-primary text-white",children:g.jsx("h5",{className:"mb-0",children:"People I Hired"})}),g.jsx(De.Body,{children:u.length===0?g.jsx("p",{className:"text-muted mb-0",children:"You haven't hired anyone yet"}):g.jsx("div",{className:"d-flex flex-column gap-2",children:u.map(I=>g.jsx(De,{className:"border",children:g.jsx(De.Body,{className:"py-2",children:g.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[g.jsxs("div",{children:[g.jsx("strong",{children:I.job_title}),g.jsxs("div",{className:"small text-muted",children:["Freelancer: ",I.freelancer_name]}),g.jsxs("div",{className:"small",children:["Amount: RM",I.amount||0]})]}),g.jsxs("div",{children:[g.jsx(kn,{bg:I.paid?"success":"warning",className:"mb-1",children:I.paid?"Paid":"Pending"}),!I.paid&&I.amount>0&&g.jsx("div",{children:g.jsx(xe,{size:"sm",variant:"outline-primary",onClick:()=>X(I.hire_id),children:"Pay Now"})})]})]})})},I.hire_id))})})]}),g.jsxs(De,{className:"shadow-sm",children:[g.jsx(De.Header,{className:"bg-success text-white",children:g.jsx("h5",{className:"mb-0",children:"Jobs Offered To Me"})}),g.jsx(De.Body,{children:p.length===0?g.jsx("p",{className:"text-muted mb-0",children:"No jobs offered yet"}):g.jsx("div",{className:"d-flex flex-column gap-2",children:p.map(I=>g.jsx(De,{className:"border",children:g.jsx(De.Body,{className:"py-2",children:g.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[g.jsxs("div",{children:[g.jsx("strong",{children:I.job_title}),g.jsxs("div",{className:"small text-muted",children:["Client: ",I.owner_name]}),g.jsxs("div",{className:"small",children:["Amount: RM",I.amount||0]})]}),g.jsx(kn,{bg:I.paid?"success":"warning",children:I.paid?"Paid":"Pending Payment"})]})})},I.hire_id))})})]})]})]}),g.jsxs(Tt,{show:i,onHide:()=>r(!1),centered:!0,children:[g.jsx(Tt.Header,{closeButton:!0,children:g.jsx(Tt.Title,{children:"Edit Profile"})}),g.jsx(Tt.Body,{children:g.jsxs(oe,{children:[g.jsxs("div",{className:"text-center mb-3",children:[g.jsx("img",{src:_||"https://via.placeholder.com/100",alt:"Preview",width:100,height:100,className:"rounded-circle mb-2",style:{objectFit:"cover"}}),g.jsx(oe.Control,{type:"file",accept:"image/*",onChange:I=>H(I.target.files[0]),disabled:b})]}),g.jsxs(oe.Group,{className:"mb-3",children:[g.jsx(oe.Label,{children:"Name"}),g.jsx(oe.Control,{placeholder:"Your name",value:o.name||"",onChange:I=>c({...o,name:I.target.value})})]}),g.jsxs(oe.Group,{className:"mb-3",children:[g.jsx(oe.Label,{children:"Skills (comma-separated)"}),g.jsx(oe.Control,{placeholder:"e.g. React, Node.js, UI/UX",value:o.skills||"",onChange:I=>c({...o,skills:I.target.value})})]}),g.jsxs(oe.Group,{className:"mb-3",children:[g.jsx(oe.Label,{children:"Bio"}),g.jsx(oe.Control,{as:"textarea",rows:4,placeholder:"Tell us about yourself",value:o.bio||"",onChange:I=>c({...o,bio:I.target.value})})]})]})}),g.jsxs(Tt.Footer,{children:[g.jsx(xe,{variant:"secondary",onClick:()=>r(!1),disabled:b,children:"Cancel"}),g.jsx(xe,{variant:"primary",onClick:q,disabled:b,children:b?g.jsxs(g.Fragment,{children:[g.jsx(In,{as:"span",animation:"border",size:"sm",className:"me-2"}),"Saving..."]}):"Save Changes"})]})]})]})}var h6=["color","size","title","className"];function Zp(){return Zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)({}).hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Zp.apply(null,arguments)}function p6(t,e){if(t==null)return{};var i,r,o=m6(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)i=c[r],e.indexOf(i)===-1&&{}.propertyIsEnumerable.call(t,i)&&(o[i]=t[i])}return o}function m6(t,e){if(t==null)return{};var i={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;i[r]=t[r]}return i}var f1=E.forwardRef(function(t,e){var i=t.color,r=i===void 0?"currentColor":i,o=t.size,c=o===void 0?"1em":o,u=t.title,h=u===void 0?null:u,p=t.className,m=p===void 0?"":p,_=p6(t,h6);return ue.createElement("svg",Zp({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:c,height:c,fill:r,className:["bi","bi-check-circle-fill",m].filter(Boolean).join(" ")},_),h?ue.createElement("title",null,h):null,ue.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"}))});f1.propTypes={color:ne.string,size:ne.oneOfType([ne.string,ne.number]),title:ne.string,className:ne.string};var g6=["color","size","title","className"];function em(){return em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)({}).hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},em.apply(null,arguments)}function y6(t,e){if(t==null)return{};var i,r,o=_6(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)i=c[r],e.indexOf(i)===-1&&{}.propertyIsEnumerable.call(t,i)&&(o[i]=t[i])}return o}function _6(t,e){if(t==null)return{};var i={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;i[r]=t[r]}return i}var vg=E.forwardRef(function(t,e){var i=t.color,r=i===void 0?"currentColor":i,o=t.size,c=o===void 0?"1em":o,u=t.title,h=u===void 0?null:u,p=t.className,m=p===void 0?"":p,_=y6(t,g6);return ue.createElement("svg",em({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:c,height:c,fill:r,className:["bi","bi-eye-slash",m].filter(Boolean).join(" ")},_),h?ue.createElement("title",null,h):null,ue.createElement("path",{d:"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755q-.247.248-.517.486z"}),ue.createElement("path",{d:"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829"}),ue.createElement("path",{d:"M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z"}))});vg.propTypes={color:ne.string,size:ne.oneOfType([ne.string,ne.number]),title:ne.string,className:ne.string};var v6=["color","size","title","className"];function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)({}).hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},tm.apply(null,arguments)}function E6(t,e){if(t==null)return{};var i,r,o=b6(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)i=c[r],e.indexOf(i)===-1&&{}.propertyIsEnumerable.call(t,i)&&(o[i]=t[i])}return o}function b6(t,e){if(t==null)return{};var i={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;i[r]=t[r]}return i}var Eg=E.forwardRef(function(t,e){var i=t.color,r=i===void 0?"currentColor":i,o=t.size,c=o===void 0?"1em":o,u=t.title,h=u===void 0?null:u,p=t.className,m=p===void 0?"":p,_=E6(t,v6);return ue.createElement("svg",tm({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:c,height:c,fill:r,className:["bi","bi-eye",m].filter(Boolean).join(" ")},_),h?ue.createElement("title",null,h):null,ue.createElement("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}),ue.createElement("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"}))});Eg.propTypes={color:ne.string,size:ne.oneOfType([ne.string,ne.number]),title:ne.string,className:ne.string};var S6=["color","size","title","className"];function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)({}).hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},nm.apply(null,arguments)}function T6(t,e){if(t==null)return{};var i,r,o=C6(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)i=c[r],e.indexOf(i)===-1&&{}.propertyIsEnumerable.call(t,i)&&(o[i]=t[i])}return o}function C6(t,e){if(t==null)return{};var i={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;i[r]=t[r]}return i}var d1=E.forwardRef(function(t,e){var i=t.color,r=i===void 0?"currentColor":i,o=t.size,c=o===void 0?"1em":o,u=t.title,h=u===void 0?null:u,p=t.className,m=p===void 0?"":p,_=T6(t,S6);return ue.createElement("svg",nm({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:c,height:c,fill:r,className:["bi","bi-x-circle-fill",m].filter(Boolean).join(" ")},_),h?ue.createElement("title",null,h):null,ue.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"}))});d1.propTypes={color:ne.string,size:ne.oneOfType([ne.string,ne.number]),title:ne.string,className:ne.string};function w6(){const t=Wn(),[e,i]=E.useState(""),[r,o]=E.useState(""),[c,u]=E.useState(!1),[h,p]=E.useState(""),[m,_]=E.useState(""),[v,b]=E.useState(!1),[T,N]=E.useState(!1),O="https://41bbbbbf-93d5-4a52-aef1-e65635945258-00-3tcqp4xlzxntf.pike.replit.dev",x=async U=>{U.preventDefault(),p(""),_(""),b(!0);try{const H=await n2(gn,e,r);if(!H.user.emailVerified){p("Please verify your email before logging in."),await gn.signOut();return}const q=await H.user.getIdToken();await fetch(`${O}/api/users/me`,{method:"POST",headers:{Authorization:`Bearer ${q}`}}),t("/profile")}catch(H){p(H.message||"Login failed")}finally{b(!1)}},L=async()=>{if(!e){p("Please enter your email first.");return}try{await e2(gn,e),_("Password reset email sent. Please check Inbox or Spam/Junk folder."),N(!1)}catch(U){p(U.message||"Failed to send reset email.")}};return g.jsxs(jt,{className:"py-5",style:{maxWidth:400},children:[g.jsx("h3",{className:"mb-4 text-center",children:T?"Reset Password":"Login"}),h&&g.jsx(lr,{variant:"danger",children:h}),m&&g.jsx(lr,{variant:"success",children:m}),T?g.jsxs(g.Fragment,{children:[g.jsx(oe.Group,{className:"mb-3",children:g.jsx(oe.Control,{type:"email",placeholder:"Enter your email",value:e,onChange:U=>i(U.target.value),required:!0})}),g.jsx(xe,{className:"w-100 mb-2",onClick:L,children:"Send Reset Email"}),g.jsx(xe,{variant:"secondary",className:"w-100",onClick:()=>{N(!1),p(""),_("")},children:"Back to Login"})]}):g.jsxs(oe,{onSubmit:x,children:[g.jsx(oe.Control,{className:"mb-3",type:"email",placeholder:"Email",value:e,onChange:U=>i(U.target.value),required:!0}),g.jsxs(ha,{className:"mb-2",children:[g.jsx(oe.Control,{type:c?"text":"password",placeholder:"Password",value:r,onChange:U=>o(U.target.value),required:!0}),g.jsx(ha.Text,{style:{cursor:"pointer"},onClick:()=>u(!c),children:c?g.jsx(vg,{}):g.jsx(Eg,{})})]}),g.jsx("div",{className:"text-end mb-3",children:g.jsx(xe,{variant:"link",size:"sm",className:"p-0",onClick:()=>{N(!0),p(""),_("")},children:"Forgot password?"})}),g.jsx(xe,{type:"submit",className:"w-100 mb-3",disabled:v,children:v?"Logging in...":"Login"})]}),!T&&g.jsxs("p",{className:"text-center small text-muted mt-3",children:["No account?"," ",g.jsx(zn,{to:"/register",className:"text-primary fw-semibold text-decoration-none",children:"Register"})]})]})}function R6(){const t=Wn(),[e,i]=E.useState(!1),[r,o]=E.useState(""),[c,u]=E.useState(""),[h,p]=E.useState(10),[m,_]=E.useState(!1),[v,b]=E.useState(""),[T,N]=E.useState({name:"",email:"",password:"",confirmPassword:""}),O="https://41bbbbbf-93d5-4a52-aef1-e65635945258-00-3tcqp4xlzxntf.pike.replit.dev",x=T.password&&T.confirmPassword&&T.password===T.confirmPassword,U=(()=>{let I=0;return T.password.length>=8&&(I+=25),/[A-Z]/.test(T.password)&&(I+=25),/[0-9]/.test(T.password)&&(I+=25),/[^A-Za-z0-9]/.test(T.password)&&(I+=25),I})(),H=U<50?"Weak":U<75?"Medium":"Strong";E.useEffect(()=>{if(!c)return;if(h===0){t("/login");return}const I=setTimeout(()=>{p(V=>V-1)},1e3);return()=>clearTimeout(I)},[c,h,t]);const q=async I=>{if(I.preventDefault(),o(""),!x){o("Password does not match");return}if(U<75){o("Password is too weak");return}i(!0);try{const V=await t2(gn,T.email,T.password);await s2(V.user,{displayName:T.name}),await bb(V.user);const ie=await V.user.getIdToken();await fetch(`${O}/api/users/me`,{method:"POST",headers:{Authorization:`Bearer ${ie}`,"Content-Type":"application/json"},body:JSON.stringify({name:T.name,email:T.email})}),u("Account created successfully! Please verify your email. Check Inbox or Spam/Junk folder.")}catch(V){o(V.message||"Register failed")}finally{i(!1)}},X=async()=>{try{if(!gn.currentUser)return;await bb(gn.currentUser),b("Verification email resent successfully.")}catch{b("Failed to resend verification email.")}};return g.jsxs(jt,{className:"py-5",style:{maxWidth:420},children:[g.jsx("h3",{className:"mb-4",children:"Register"}),r&&g.jsx(lr,{variant:"danger",children:r}),c&&g.jsxs(lr,{variant:"success",children:[c,g.jsx("br",{}),"Redirecting to login in ",g.jsx("b",{children:h})," seconds...",g.jsx("div",{className:"mt-2",children:g.jsx(xe,{size:"sm",variant:"link",onClick:X,children:"Resend verification email"})}),v&&g.jsx("div",{children:v})]}),g.jsxs(oe,{onSubmit:q,children:[g.jsx(oe.Control,{className:"mb-3",placeholder:"Name",value:T.name,onChange:I=>N({...T,name:I.target.value}),required:!0}),g.jsx(oe.Control,{className:"mb-3",type:"email",placeholder:"Email",value:T.email,onChange:I=>N({...T,email:I.target.value}),required:!0}),g.jsxs(ha,{className:"mb-2",children:[g.jsx(oe.Control,{type:m?"text":"password",placeholder:"Password",value:T.password,onChange:I=>N({...T,password:I.target.value}),required:!0}),g.jsx(ha.Text,{style:{cursor:"pointer"},onClick:()=>_(!m),children:m?g.jsx(vg,{}):g.jsx(Eg,{})})]}),g.jsx(fT,{now:U,className:"mb-3",label:H}),g.jsxs(ha,{className:"mb-3",children:[g.jsx(oe.Control,{type:m?"text":"password",placeholder:"Confirm Password",value:T.confirmPassword,onChange:I=>N({...T,confirmPassword:I.target.value}),isValid:x,isInvalid:T.confirmPassword&&!x,required:!0}),g.jsx(ha.Text,{children:x?g.jsx(f1,{color:"green"}):T.confirmPassword&&g.jsx(d1,{color:"red"})})]}),g.jsx(xe,{type:"submit",className:"w-100",disabled:e||c||!x||U<75,children:e?"Creating account...":"Register"})]})]})}function cu({children:t}){const{user:e}=Er();return e?t:g.jsx(Mx,{to:"/login"})}function N6({children:t}){const e=ci(),i=e.pathname==="/login"||e.pathname==="/register";return g.jsxs(g.Fragment,{children:[!i&&g.jsx(CU,{}),t,!i&&g.jsx(wU,{})]})}function x6(){return g.jsx(oA,{children:g.jsx(N6,{children:g.jsxs(jx,{children:[g.jsx(ki,{path:"/",element:g.jsx(NU,{})}),g.jsx(ki,{path:"/jobs",element:g.jsx(kU,{})}),g.jsx(ki,{path:"/messages/:conversationId?",element:g.jsx(cu,{children:g.jsx(D4,{})})}),g.jsx(ki,{path:"/payment",element:g.jsx(cu,{children:g.jsx(u6,{})})}),g.jsx(ki,{path:"/profile",element:g.jsx(cu,{children:g.jsx(d6,{})})}),g.jsx(ki,{path:"/freelancer/:uid",element:g.jsx(cu,{children:g.jsx(DU,{})})}),g.jsx(ki,{path:"/login",element:g.jsx(w6,{})}),g.jsx(ki,{path:"/register",element:g.jsx(R6,{})})]})})})}BN.createRoot(document.getElementById("root")).render(g.jsx(ue.StrictMode,{children:g.jsx(TU,{children:g.jsx(x6,{})})}));
